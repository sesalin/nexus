import { DeviceRegistryEntry, AreaRegistryEntry, FloorRegistryEntry } from '../';
import { HassEntities, HassEntity } from 'home-assistant-js-websocket';
import { EntityRegistryDisplayEntry, EntityRegistryEntry, ExtEntityRegistryEntry } from './entity_registry';
export type EntityNameItem = {
    type: "entity" | "device" | "area" | "floor";
} | {
    type: "text";
    text: string;
};
export declare const DEFAULT_ENTITY_NAME: ({
    type: "device";
} | {
    type: "entity";
})[];
export interface EntityContext {
    entity: EntityRegistryDisplayEntry | null;
    device: DeviceRegistryEntry | null;
    area: AreaRegistryEntry | null;
    floor: FloorRegistryEntry | null;
}
export interface EntityNameOptions {
    separator?: string;
}
/**
 * Determine whether a given entity state should be considered "active" for UI color/state purposes.
 *
 * Domain specific rules override a generic interpretation of activity. For many domains "off" or
 * an unavailable state implies inactive; however certain domains (e.g. alert, group, plant) have
 * custom semantics. This largely mirrors Home Assistant frontend logic for dynamic badge coloring.
 *
 * @param entity The Home Assistant entity state object.
 * @returns true if the entity is deemed active; false otherwise.
 */
export declare function stateActive(entity: HassEntity): boolean;
/** Compute the object ID of a state. */
/**
 * Compute the object id portion of an entity id (text after the domain prefix).
 *
 * Example: `light.kitchen_ceiling` -> `kitchen_ceiling`.
 *
 * @param entityId Full entity id including domain.
 * @returns Object id portion (substring after first dot).
 */
export declare const computeObjectId: (entityId: string) => string;
/**
 * Derive a human readable state name from entity attributes.
 * Falls back to object id with underscores replaced if no friendly_name is present or undefined.
 *
 * @param entityId Full entity id.
 * @param attributes Entity attributes bag.
 * @returns Friendly name or formatted object id; empty string if friendly_name explicitly blank.
 */
export declare const computeStateNameFromEntityAttributes: (entityId: string, attributes: HassEntity["attributes"]) => string;
/**
 * Convenience wrapper to compute display name directly from a HassEntity state object.
 *
 * @param stateObj HassEntity state object.
 * @returns Human readable name.
 */
export declare const computeStateName: (stateObj: HassEntity) => string;
/**
 * Resolve contextual registry objects (entity, device, area, floor) for a given live state object.
 * Safely handles missing registry entries by returning nulls.
 *
 * @param stateObj Live HassEntity state object.
 * @param entities Display registry entries keyed by entity_id.
 * @param devices Device registry entries keyed by device_id.
 * @param areas Area registry entries keyed by area_id.
 * @param floors Floor registry entries keyed by floor_id.
 * @returns An EntityContext containing resolved registry references or null placeholders.
 */
export declare const getEntityContext: (stateObj: HassEntity, entities: Record<string, EntityRegistryDisplayEntry>, devices: Record<string, DeviceRegistryEntry>, areas: Record<string, AreaRegistryEntry>, floors: Record<string, FloorRegistryEntry>) => EntityContext;
/**
 * Resolve contextual registry objects given a registry entry (entity/device/area/floor relationships).
 *
 * It prefers the entity's explicit area assignment falling back to its device's area, then derives floor
 * from the area if present.
 *
 * @param entry Any supported registry entry shape (display/regular/extended).
 * @param entities Display registry lookup keyed by entity_id.
 * @param devices Device registry lookup keyed by device_id.
 * @param areas Area registry lookup keyed by area_id.
 * @param floors Floor registry lookup keyed by floor_id.
 * @returns EntityContext object.
 */
export declare const getEntityEntryContext: (entry: EntityRegistryDisplayEntry | EntityRegistryEntry | ExtEntityRegistryEntry, entities: Record<string, EntityRegistryDisplayEntry>, devices: Record<string, DeviceRegistryEntry>, areas: Record<string, AreaRegistryEntry>, floors: Record<string, FloorRegistryEntry>) => EntityContext;
/**
 * Compute a device name for presentation, falling back to synthesized name when absent.
 * Uses `computeDeviceName`, then optional fallback naming heuristics (`fallbackDeviceName`), then a localized
 * "unnamed_device" token.
 *
 * @param device Device registry entry.
 * @param hassEntities Full HA entity state map for fallback heuristics.
 * @param entities Optional collection used when computing a fallback name.
 * @returns Display/device name string.
 */
export declare const computeDeviceNameDisplay: (device: DeviceRegistryEntry, hassEntities: HassEntities, entities?: EntityRegistryEntry[] | EntityRegistryDisplayEntry[] | string[]) => string;
/**
 * Extract the explicit or user overridden device name (trimmed).
 *
 * @param device Device registry entry.
 * @returns Name string or undefined if not set.
 */
export declare const computeDeviceName: (device: DeviceRegistryEntry) => string | undefined;
/**
 * Compute the uncluttered entity name relative to its device.
 * Falls back to friendly state name if not found in entity registry.
 *
 * @param stateObj Live entity state.
 * @param entities Registry display entries.
 * @param devices Device registry entries.
 * @returns Derived entity name or undefined.
 */
export declare const computeEntityName: (stateObj: HassEntity, entities: Record<string, EntityRegistryDisplayEntry>, devices: Record<string, DeviceRegistryEntry>) => string | undefined;
/**
 * Compute the entity's relative name based on registry entry and device. Removes redundant device prefix,
 * supports fallback to state name when provided.
 *
 * @param entry Registry entry shape.
 * @param devices Device registry lookup.
 * @param fallbackStateObj Optional state object to derive name when registry name absent.
 * @returns Relative entity name or undefined if redundant with device name.
 */
export declare const computeEntityEntryName: (entry: EntityRegistryDisplayEntry | EntityRegistryEntry, devices: Record<string, DeviceRegistryEntry>, fallbackStateObj?: HassEntity) => string | undefined;
/**
 * Retrieve a trimmed floor name.
 * @param floor Floor registry entry.
 * @returns Trimmed name string.
 */
export declare const computeFloorName: (floor: FloorRegistryEntry) => string;
/**
 * Retrieve a trimmed area name.
 * @param area Area registry entry.
 * @returns Trimmed name or undefined.
 */
export declare const computeAreaName: (area: AreaRegistryEntry) => string | undefined;
/**
 * Build an ordered list of entity related names based on a descriptor array.
 * Supports types: entity, device, area, floor, and static text.
 *
 * @param stateObj Live entity state.
 * @param name Descriptor array (or items) defining which names to include.
 * @param entities Registry entries lookup.
 * @param devices Device registry lookup.
 * @param areas Area registry lookup.
 * @param floors Floor registry lookup.
 * @returns Array of names (string or undefined) preserving descriptor order.
 */
export declare const computeEntityNameList: (stateObj: HassEntity, name: EntityNameItem[], entities: Record<string, EntityRegistryDisplayEntry>, devices: Record<string, DeviceRegistryEntry>, areas: Record<string, AreaRegistryEntry>, floors: Record<string, FloorRegistryEntry>) => (string | undefined)[];
/**
 * Determine if the entity name is effectively the device name (redundant) and thus should use the device name
 * directly in displays.
 *
 * @param stateObj Live entity state.
 * @param entities Registry display entries.
 * @param devices Device registry entries.
 * @returns true if entity name should be replaced by device name; false otherwise.
 */
export declare const entityUseDeviceName: (stateObj: HassEntity, entities: Record<string, EntityRegistryDisplayEntry>, devices: Record<string, DeviceRegistryEntry>) => boolean;
/**
 * Produce a final display name string for an entity combining multiple name parts.
 * Applies replacement of entity descriptor with device descriptor when entity name is redundant; supports
 * separators and pure text-only sequences.
 *
 * @param stateObj Live entity state.
 * @param name Single or array of name descriptors (defaults to device + entity).
 * @param entities Registry display entries.
 * @param devices Device registry entries.
 * @param areas Area registry entries.
 * @param floors Floor registry entries.
 * @param options Optional separator override.
 * @returns Concatenated display name string.
 */
export declare const computeEntityNameDisplay: (stateObj: HassEntity, name: EntityNameItem | EntityNameItem[] | undefined, entities: Record<string, EntityRegistryDisplayEntry>, devices: Record<string, DeviceRegistryEntry>, areas: Record<string, AreaRegistryEntry>, floors: Record<string, FloorRegistryEntry>, options?: EntityNameOptions) => string;
//# sourceMappingURL=entity.d.ts.map