import { Connection, HassEntity } from 'home-assistant-js-websocket';
import { EntityName } from '../..';
export interface LineChartState {
    state: string;
    last_changed: number;
    attributes?: HassEntity["attributes"];
}
export interface LineChartEntity {
    domain: string;
    name: string;
    entity_id: string;
    states: LineChartState[];
    statistics?: LineChartState[];
}
export interface LineChartUnit {
    unit: string;
    device_class?: string;
    identifier: string;
    data: LineChartEntity[];
}
export interface HistoryStreamMessage {
    states: HistoryStates;
    start_time?: number;
    end_time?: number;
}
export interface TimelineState {
    state_localize: string;
    state: string;
    last_changed: number;
}
export interface TimelineEntity {
    name: string;
    entity_id: string;
    data: TimelineState[];
}
export interface HistoryResult {
    line: LineChartUnit[];
    timeline: TimelineEntity[];
}
export interface HistoryStates {
    [entityId: string]: EntityHistoryState[];
}
export interface EntityHistoryState {
    /** state */
    s: string;
    /** attributes */
    a: HassEntity["attributes"];
    /** last_changed; if set, also applies to lu */
    lc?: number;
    /** last_updated */
    lu: number;
}
interface SubscribeOptions {
    connection: Connection;
    entityIds: EntityName[];
    callbackFunction: (data: HistoryStates) => void;
    hoursToShow?: number;
    minimalResponse?: boolean;
    significantChangesOnly?: boolean;
    noAttributes?: boolean;
}
export declare const subscribeHistory: ({ connection, entityIds, callbackFunction, hoursToShow, minimalResponse, significantChangesOnly, noAttributes, }: SubscribeOptions) => Promise<() => Promise<void>>;
export declare const computeHistory: (entity: HassEntity, stateHistory: HistoryStates, forceNumeric?: boolean, splitDeviceClasses?: boolean) => HistoryResult;
export {};
//# sourceMappingURL=history.d.ts.map