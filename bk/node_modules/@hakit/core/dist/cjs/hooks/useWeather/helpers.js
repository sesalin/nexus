"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});require("lodash");require("../../../index-Btx17BPO.cjs");require("react");require("../useLocale/locales/index.js");const s=require("../../utils/supports-feature.js");require("home-assistant-js-websocket");require("@iconify/react");require("use-debounce");require("../../utils/date.js");var o=(e=>(e[e.FORECAST_DAILY=1]="FORECAST_DAILY",e[e.FORECAST_HOURLY=2]="FORECAST_HOURLY",e[e.FORECAST_TWICE_DAILY=4]="FORECAST_TWICE_DAILY",e))(o||{});const c=288e5,p=864e5,n=e=>{if(e&&e?.length&&e?.length>2){const t=new Date(e[1].datetime);return new Date(e[2].datetime).getTime()-t.getTime()<c}},a=e=>{if(e&&e?.length&&e?.length>2){const t=new Date(e[1].datetime);return new Date(e[2].datetime).getTime()-t.getTime()<p}},u=e=>{if(e?.forecast&&e.forecast.length>2)return n(e.forecast)?{forecast:e.forecast,type:"hourly"}:a(e.forecast)?{forecast:e.forecast,type:"twice_daily"}:{forecast:e.forecast,type:"daily"}},d=(e,t,r)=>{if(r===void 0)return t?.type!==void 0&&t?.forecast&&t?.forecast?.length>2?{forecast:t.forecast,type:t?.type}:u(e);if(r==="legacy")return u(e);if(r===t?.type&&t?.forecast&&t?.forecast?.length>2)return{forecast:t.forecast,type:r}},f=(e,t,r,i)=>e.subscribeMessage(i,{type:"weather/subscribe_forecast",forecast_type:r,entity_id:t}),F=e=>{const t=[];return s.supportsFeatureFromAttributes(e.attributes,1)&&t.push("daily"),s.supportsFeatureFromAttributes(e.attributes,4)&&t.push("twice_daily"),s.supportsFeatureFromAttributes(e.attributes,2)&&t.push("hourly"),t},l=e=>{if(s.supportsFeatureFromAttributes(e.attributes,1))return"daily";if(s.supportsFeatureFromAttributes(e.attributes,4))return"twice_daily";if(s.supportsFeatureFromAttributes(e.attributes,2))return"hourly"};exports.WeatherEntityFeature=o;exports.getDefaultForecastType=l;exports.getForecast=d;exports.getSupportedForecastTypes=F;exports.subscribeForecast=f;
//# sourceMappingURL=helpers.js.map
