{"version":3,"file":"stripPrefixFromEntityName.js","sources":["../../../src/utils/stripPrefixFromEntityName.ts"],"sourcesContent":["const SUFFIXES = [\" \", \": \", \" - \"];\n\n/**\n * Strips a device name from an entity name.\n * @param entityName the entity name\n * @param prefix the prefix to strip\n * @returns\n */\nexport const stripPrefixFromEntityName = (entityName: string, prefix: string) => {\n  const lowerCasedEntityName = entityName.toLowerCase();\n  const lowerCasedPrefix = prefix.toLowerCase();\n  for (const suffix of SUFFIXES) {\n    const lowerCasedPrefixWithSuffix = `${lowerCasedPrefix}${suffix}`;\n\n    if (lowerCasedEntityName.startsWith(lowerCasedPrefixWithSuffix)) {\n      const newName = entityName.substring(lowerCasedPrefixWithSuffix.length);\n      if (newName.length) {\n        // If first word already has an upper case letter (e.g. from brand name)\n        // leave as-is, otherwise capitalize the first word.\n        return hasUpperCase(newName.substr(0, newName.indexOf(\" \"))) ? newName : newName[0].toUpperCase() + newName.slice(1);\n      }\n    }\n  }\n\n  return undefined;\n};\n\nconst hasUpperCase = (str: string): boolean => str.toLowerCase() !== str;\n"],"names":["SUFFIXES","stripPrefixFromEntityName","entityName","prefix","lowerCasedEntityName","lowerCasedPrefix","suffix","lowerCasedPrefixWithSuffix","newName","hasUpperCase","str"],"mappings":"gFAAA,MAAMA,EAAW,CAAC,IAAK,KAAM,KAAK,EAQrBC,EAA4B,CAACC,EAAoBC,IAAmB,CAC/E,MAAMC,EAAuBF,EAAW,YAAA,EAClCG,EAAmBF,EAAO,YAAA,EAChC,UAAWG,KAAUN,EAAU,CAC7B,MAAMO,EAA6B,GAAGF,CAAgB,GAAGC,CAAM,GAE/D,GAAIF,EAAqB,WAAWG,CAA0B,EAAG,CAC/D,MAAMC,EAAUN,EAAW,UAAUK,EAA2B,MAAM,EACtE,GAAIC,EAAQ,OAGV,OAAOC,EAAaD,EAAQ,OAAO,EAAGA,EAAQ,QAAQ,GAAG,CAAC,CAAC,EAAIA,EAAUA,EAAQ,CAAC,EAAE,cAAgBA,EAAQ,MAAM,CAAC,CAEvH,CACF,CAGF,EAEMC,EAAgBC,GAAyBA,EAAI,gBAAkBA"}