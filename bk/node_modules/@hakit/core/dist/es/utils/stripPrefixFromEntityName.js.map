{"version":3,"file":"stripPrefixFromEntityName.js","sources":["../../../src/utils/stripPrefixFromEntityName.ts"],"sourcesContent":["const SUFFIXES = [\" \", \": \", \" - \"];\n\n/**\n * Strips a device name from an entity name.\n * @param entityName the entity name\n * @param prefix the prefix to strip\n * @returns\n */\nexport const stripPrefixFromEntityName = (entityName: string, prefix: string) => {\n  const lowerCasedEntityName = entityName.toLowerCase();\n  const lowerCasedPrefix = prefix.toLowerCase();\n  for (const suffix of SUFFIXES) {\n    const lowerCasedPrefixWithSuffix = `${lowerCasedPrefix}${suffix}`;\n\n    if (lowerCasedEntityName.startsWith(lowerCasedPrefixWithSuffix)) {\n      const newName = entityName.substring(lowerCasedPrefixWithSuffix.length);\n      if (newName.length) {\n        // If first word already has an upper case letter (e.g. from brand name)\n        // leave as-is, otherwise capitalize the first word.\n        return hasUpperCase(newName.substr(0, newName.indexOf(\" \"))) ? newName : newName[0].toUpperCase() + newName.slice(1);\n      }\n    }\n  }\n\n  return undefined;\n};\n\nconst hasUpperCase = (str: string): boolean => str.toLowerCase() !== str;\n"],"names":["SUFFIXES","stripPrefixFromEntityName","entityName","prefix","lowerCasedEntityName","lowerCasedPrefix","suffix","lowerCasedPrefixWithSuffix","newName","hasUpperCase","str"],"mappings":"AAAA,MAAMA,IAAW,CAAC,KAAK,MAAM,KAAK,GAQrBC,IAA4B,CAACC,GAAoBC,MAAmB;AAC/E,QAAMC,IAAuBF,EAAW,YAAA,GAClCG,IAAmBF,EAAO,YAAA;AAChC,aAAWG,KAAUN,GAAU;AAC7B,UAAMO,IAA6B,GAAGF,CAAgB,GAAGC,CAAM;AAE/D,QAAIF,EAAqB,WAAWG,CAA0B,GAAG;AAC/D,YAAMC,IAAUN,EAAW,UAAUK,EAA2B,MAAM;AACtE,UAAIC,EAAQ;AAGV,eAAOC,EAAaD,EAAQ,OAAO,GAAGA,EAAQ,QAAQ,GAAG,CAAC,CAAC,IAAIA,IAAUA,EAAQ,CAAC,EAAE,gBAAgBA,EAAQ,MAAM,CAAC;AAAA,IAEvH;AAAA,EACF;AAGF,GAEMC,IAAe,CAACC,MAAyBA,EAAI,kBAAkBA;"}