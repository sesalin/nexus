{"version":3,"file":"index.js","sources":["../../../../src/utils/colors/index.ts"],"sourcesContent":["import { HassEntity } from \"home-assistant-js-websocket\";\nimport { ON } from \"@core\";\n\nexport const stateColorBrightness = (\n  entity: HassEntity | null,\n): {\n  css: string;\n  raw: number;\n} => {\n  if (entity && entity.attributes && entity.attributes.brightness && !entity.entity_id.startsWith(\"plant\")) {\n    // lowest brightness will be around 50% (that's pretty dark)\n    const brightness = entity.attributes.brightness;\n    const brightnessValue = entity.state === ON ? Math.max(Math.round(((entity.attributes.brightness ?? 0) * 100) / 255), 1) : 0;\n    const rounded = Number(Number((brightness + 245) / 5).toFixed(0));\n    return {\n      raw: brightnessValue,\n      css: `brightness(${rounded}%)`,\n    };\n  }\n  return {\n    css: `brightness(100%)`,\n    raw: 100,\n  };\n};\n"],"names":["stateColorBrightness","entity","brightness","brightnessValue","ON","rounded"],"mappings":";;;;;;;;;AAGO,MAAMA,IAAuB,CAClCC,MAIG;AACH,MAAIA,KAAUA,EAAO,cAAcA,EAAO,WAAW,cAAc,CAACA,EAAO,UAAU,WAAW,OAAO,GAAG;AAExG,UAAMC,IAAaD,EAAO,WAAW,YAC/BE,IAAkBF,EAAO,UAAUG,IAAK,KAAK,IAAI,KAAK,OAAQH,EAAO,WAAW,cAAc,KAAK,MAAO,GAAG,GAAG,CAAC,IAAI,GACrHI,IAAU,OAAO,QAAQH,IAAa,OAAO,CAAC,EAAE,QAAQ,CAAC,CAAC;AAChE,WAAO;AAAA,MACL,KAAKC;AAAA,MACL,KAAK,cAAcE,CAAO;AAAA,IAAA;AAAA,EAE9B;AACA,SAAO;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,EAAA;AAET;"}