const o = typeof window < "u" ? window.localStorage : null, t = o !== null;
function l() {
  t ? o.removeItem("hassTokens") : console.error("Local storage not supported on this device.");
}
function a(r) {
  if (t)
    try {
      o.setItem("hassTokens", JSON.stringify(r));
    } catch (s) {
      console.error("Failed to save tokens, probably due to private mode or storage full", s);
    }
  else
    console.error("Local storage not supported on this device.");
}
function c(r, s = !0) {
  if (!t)
    return console.error("Local storage not supported on this device."), null;
  const n = o.getItem("hassTokens");
  if (n)
    try {
      const e = JSON.parse(n);
      if (e.hassUrl === r)
        return e;
      if (s)
        return l(), null;
    } catch (e) {
      return console.error("Error parsing stored tokens.", e?.message || ""), l(), null;
    }
  return null;
}
export {
  l as clearTokens,
  c as loadTokens,
  a as saveTokens
};
//# sourceMappingURL=token-storage.js.map
