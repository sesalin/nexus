import { j as t, a as w, F as se } from "./emotion-react-jsx-runtime.browser.esm-BErL7L7Y.js";
import { c as C } from "./emotion-styled-base.browser.esm-Dyg8Y4aq.js";
import * as Z from "react";
import ua, { useMemo as oe, useState as ne, useEffect as K, memo as Vt, useId as dr, useRef as G, useCallback as $, Children as Re, isValidElement as Te, cloneElement as Ue, lazy as so, Suspense as Ar, Fragment as pa, useLayoutEffect as co } from "react";
import { getBreakpoints as ha, allBreakpoints as Kt, mq as De, getColumnSizeCSS as ut, generateColumnBreakpoints as fa } from "./es/ThemeProvider/breakpoints.js";
import { useHass as Q, computeDomain as tt, useEntity as pe, isUnavailableState as Ee, localize as B, useIcon as $e, useIconByDomain as $t, useIconByEntity as Mt, ON as je, OFF as We, computeDomainTitle as lo, useWeather as ma, getIconByEntity as pn, getSupportedForecastTypes as ga, supportsFeatureFromAttributes as xe, UNAVAILABLE as Ve, toReadableString as Le, stateActive as Tr, isOffState as uo, useLightBrightness as va, DOMAIN_ATTRIBUTES_UNITS as ba, lightSupportsColorMode as Je, LIGHT_COLOR_MODES as Ze, lightSupportsColor as po, lightSupportsBrightness as ya, lightSupportsFavoriteColors as xa, computeDefaultFavoriteColors as wa, getLightCurrentModeRgbColor as Na, luminosity as Ea, hs2rgb as ho, temperature2rgb as Wr, rgbw2rgb as fo, rgbww2rgb as mo, useService as Pt, getColorByIndex as _a, useCamera as go, STREAM_TYPE_WEB_RTC as vo, STREAM_TYPE_HLS as bo, useLogs as ka, useDevice as yo, createHistoricState as hn, localizeStateMessage as fn, localizeTriggerSource as Sa, timeAgo as Ca, batteryIconByLevel as Da, useLightTemperature as Oa, rgb2hex as It, rgb2hs as Ra, useLightColor as Ia, hsv2rgb as zr, hex2rgb as Cr } from "@hakit/core";
import { TextField as Aa } from "./es/Shared/Form/TextField.js";
import { createElement as Hr, css as Se, Global as qr, keyframes as xo, CacheProvider as Ta } from "@emotion/react";
import { useLongPress as wo } from "use-long-press";
import { startCase as No, lowerCase as Eo, clamp as ct, snakeCase as mt, flatten as za, groupBy as Va, capitalize as Ot, isNumber as Dr, isEqual as $a, merge as Ma } from "lodash";
import { ErrorBoundary as le } from "react-error-boundary";
import * as Pa from "react-dom";
import { createPortal as ur } from "react-dom";
import "@emotion/serialize";
import "@emotion/utils";
import "@emotion/is-prop-valid";
import { filterSupportedAlarmStates as ja, DEFAULT_STATES as Ba, _getActionColor as Fa, _getActionLabel as mn, ALARM_MODES as La, ALARM_MODE_STATE_MAP as gn } from "./es/Shared/Entity/Alarm/AlarmControls/shared.js";
import { useDebouncedCallback as jt, useThrottledCallback as Ur } from "use-debounce";
import { SvgGraph as Wa } from "./es/Shared/SvgGraph/index.js";
import { Row as ee } from "./es/Shared/Row/index.js";
import { Column as ie } from "./es/Shared/Column/index.js";
import { Icon as we } from "@iconify/react";
import { getAdditionalWeatherInformation as Ha } from "./es/Cards/WeatherCard/helpers.js";
import { UNIT_F as pr, ClimateEntityFeature as at, CLIMATE_HVAC_ACTION_TO_MODE as qa, computeHvacModeIcon as vn, compareClimateHvacModes as Ua, computePresetModeIcon as bn, computeFanModeIcon as yn, computeSwingModeIcon as xn } from "./es/Shared/Entity/Climate/ClimateControls/data.js";
import { colors as Ie, icons as wn, activeColors as Ya } from "./es/Shared/Entity/Climate/ClimateControls/shared.js";
import { BigNumber as _o } from "./es/Shared/Entity/Climate/ClimateControls/BigNumber.js";
import { useGesture as Bt } from "@use-gesture/react";
import Ga from "@fullcalendar/react";
import Xa from "@fullcalendar/daygrid";
import Qa from "@fullcalendar/interaction";
import Ka from "@fullcalendar/list";
import { useResizeDetector as Yr } from "react-resize-detector";
import Ja from "autolinker";
import { VideoPlayer as ko } from "./es/Cards/CameraCard/players/index.js";
import { svgArc as Nn } from "./es/Shared/ControlSliderCircular/svg-arc.js";
import { PreloadImage as Gr } from "./es/Shared/PreloadImage/index.js";
import { Alert as rt } from "./es/Shared/Alert/index.js";
import { theme as Za } from "./es/ThemeProvider/theme.js";
import { convertToCssVars as ei } from "./es/ThemeProvider/helpers.js";
import { DEFAULT_THEME_OPTIONS as En, LIGHT as hr, DARK as Xr, ACCENT as So, DIFF as yt, DEFAULT_START_LIGHT as Qr, DEFAULT_START_DARK as Kr } from "./es/ThemeProvider/constants.js";
import { useThemeStore as it } from "./es/ThemeProvider/store.js";
import ti from "@emotion/cache";
import { jsxs as ri, jsx as Jt } from "react/jsx-runtime";
import { useKeyPress as Co, useDebounce as ni } from "react-use";
import { getToolbarActions as Do } from "./es/Shared/Entity/Vacuum/VacuumControls/shared.js";
import { VacuumImage as Oo } from "./es/Shared/Entity/Vacuum/VacuumControls/VacuumImage.js";
import { DEFAULT_FAB_SIZE as gt } from "./es/Cards/MediaPlayerCard/constants.js";
import { Marquee as oi } from "./es/Cards/MediaPlayerCard/Marquee.js";
import { Thumbnail as ai } from "./es/Cards/MediaPlayerCard/Thumbnail.js";
import { Clock as ii } from "./es/Cards/MediaPlayerCard/Clock.js";
import { ProgressBar as si } from "./es/Cards/MediaPlayerCard/ProgressBar.js";
import Vr, { DivIcon as ci } from "leaflet";
import { TileLayer as li, Marker as di, MapContainer as ui } from "react-leaflet";
import { createDateFormatter as pi, daySuffix as _n } from "./es/Cards/TimeCard/formatter.js";
import { Time as Zt, AmOrPm as kn } from "./es/Cards/TimeCard/shared.js";
import { AutoHeight as hi } from "./es/Shared/AutoHeight/index.js";
import { isValidProp as Sn } from "./es/utils/isValidProp.js";
import { SVG_WIDTH as fi, SVG_HEIGHT as mi } from "./es/Shared/SvgGraph/constants.js";
function Ft() {
  const e = it((c) => c.breakpoints), o = Q((c) => c.windowContext) ?? window, n = oe(() => ha(e), [e]), [a, s] = ne(() => Object.fromEntries(Kt.map((c) => [c, !1])));
  return K(() => {
    const c = o || window, i = /* @__PURE__ */ new Map(), l = () => {
      const h = Object.fromEntries(Kt.map((d) => [d, !1]));
      for (const d of Kt)
        if (typeof n[d] == "string" && i.get(d)?.matches) {
          h[d] = !0;
          break;
        }
      s(h);
    };
    for (const h of Kt) {
      const d = n[h];
      if (typeof d == "string") {
        const g = c.matchMedia(d);
        if (!g) continue;
        i.set(h, g), g.addEventListener("change", l);
      }
    }
    return l(), () => {
      for (const h of i.values())
        h && h.removeEventListener("change", l);
    };
  }, [n, o]), a;
}
var gi = function(r) {
  var o = /* @__PURE__ */ new WeakMap();
  return function(n) {
    if (o.has(n))
      return o.get(n);
    var a = r(n);
    return o.set(n, a), a;
  };
};
function Ro() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const vi = (e, r) => r ? /* @__PURE__ */ C(e, process.env.NODE_ENV === "production" ? {
  target: "e1xe7ch93"
} : {
  target: "e1xe7ch93",
  label: "getBaseElement"
})() : /* @__PURE__ */ C(e, process.env.NODE_ENV === "production" ? {
  shouldForwardProp: (o) => Sn(o),
  target: "e1xe7ch92"
} : {
  shouldForwardProp: (o) => Sn(o),
  target: "e1xe7ch92",
  label: "getBaseElement"
})("outline:none;border:0;box-sizing:border-box;padding:0;position:relative;overflow:hidden;display:flex;width:100%;cursor:pointer;background-color:var(--ha-S300);box-shadow:0px 0px 0px rgba(0, 0, 0, 0);transform:scale(1) translate3d(0, 0, 0);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:transform,background-color,background-image;color:var(--ha-S200-contrast);flex-shrink:1;user-select:none;svg{color:var(--ha-S200-contrast);transition:color var(--ha-transition-duration) var(--ha-easing);}.graph-element{position:absolute;bottom:0;left:0;right:0;}&:not(.disabled):not(:disabled):not(:focus):hover{background-color:var(--ha-S400);color:var(--ha-500-contrast);svg{color:var(--ha-S400-contrast);}}&:disabled,&.disabled{cursor:not-allowed;opacity:0.8;}&.card-base-active:active:not(.disable-scale-effect):not(.disabled):not(.unavailable){transform:scale(0.9) translate3d(0, 0, 0);}", (o) => !o.disableActiveState && `
      &.active, &:active {
        background-color: var(--ha-A400);
        color: var(--ha-900-contrast);
        svg {
          color: var(--ha-900-contrast);
        }
        &:not(:disabled):not(.disabled):hover {
          background-color: var(--ha-A700);
          color: var(--ha-900-contrast);
        }
      }
    `, ";"), bi = /* @__PURE__ */ C((e) => /* @__PURE__ */ t(Wi, { ...e }), process.env.NODE_ENV === "production" ? {
  target: "e1xe7ch91"
} : {
  target: "e1xe7ch91",
  label: "StyledRipples"
})(process.env.NODE_ENV === "production" ? {
  name: "1513zut",
  styles: "flex-shrink:1;width:100%;height:100%"
} : {
  name: "1513zut",
  styles: "flex-shrink:1;width:100%;height:100%",
  toString: Ro
}), Cn = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1xe7ch90"
} : {
  target: "e1xe7ch90",
  label: "Trigger"
})(process.env.NODE_ENV === "production" ? {
  name: "1rw17cg",
  styles: "width:100%;height:100%;&:has(.features){display:flex;flex-direction:column;}>.features{padding:0 1rem 1rem;>.fit-content>.button-group-inner>*{width:auto;flex-grow:1;>.button-bar-button{width:auto;flex-grow:1;}}}"
} : {
  name: "1rw17cg",
  styles: "width:100%;height:100%;&:has(.features){display:flex;flex-direction:column;}>.features{padding:0 1rem 1rem;>.fit-content>.button-group-inner>*{width:auto;flex-grow:1;>.button-bar-button{width:auto;flex-grow:1;}}}",
  toString: Ro
}), Dn = {
  xxs: 12,
  xs: 6,
  sm: 6,
  md: 4,
  lg: 4,
  xlg: 3
}, yi = function({
  as: r = "div",
  entity: o,
  title: n,
  active: a,
  service: s,
  serviceData: c,
  children: i,
  disabled: l,
  longPressCallback: h,
  onClick: d,
  disableModal: g = !1,
  modalProps: x,
  disableRipples: f = !1,
  disableScale: u = !1,
  disableActiveState: b = !1,
  onlyFunctionality: p = !1,
  id: _,
  className: y,
  cssStyles: N,
  style: k,
  borderRadius: v = "16px",
  rippleProps: S,
  disableColumns: R,
  refCallback: A,
  key: D,
  relatedEntities: m,
  features: E,
  featureBarProps: T,
  graph: M,
  resizeDetectorProps: j,
  triggerClass: I,
  ...z
}) {
  const V = dr(), O = Q((q) => q.globalComponentStyles), [W, P] = ne(!1), re = o ? tt(o) : null, H = pe(o ?? "unknown", {
    returnNullIfNotFound: !0
  }), Y = G(null), {
    width: U = 0
  } = Yr({
    refreshMode: "debounce",
    refreshRate: 50,
    handleHeight: !1,
    skipOnMount: !1,
    targetRef: Y,
    ...j ?? {}
  }), J = pe(M?.entity ?? "unknown", {
    returnNullIfNotFound: !0,
    historyOptions: {
      disable: !1,
      ...M?.historyOptions
    }
  }), ae = oe(() => typeof H?.state == "string" ? Ee(H.state) : !1, [H?.state]), be = v, F = oe(() => vi(r, p), [r, p]), L = wo((q) => {
    typeof h == "function" && h(H !== null ? H : null, q), typeof o == "string" && !W && !g && P(!0), Y.current?.classList.remove("card-base-active");
  }, {
    threshold: 300,
    cancelOnMovement: !0,
    cancelOutsideElement: !0,
    filterEvents(q) {
      return !("button" in q && q.button === 2);
    }
  }), X = $((q) => {
    if (!l) {
      if (typeof s == "string" && H && !ae) {
        const ge = H.service[s];
        ge(c);
      }
      typeof d == "function" && d(H !== null ? H : null, q);
    }
  }, [s, l, H, c, d, ae]), te = oe(() => n || H?.attributes?.friendly_name || (re !== null ? No(Eo(re)) : null), [n, H, re]), ce = oe(() => {
    const q = Object.entries(Dn).reduce((ge, [Oe, et]) => {
      const Qt = z[Oe];
      return {
        ...ge,
        [Oe]: Qt ?? et
      };
    }, Dn);
    return Object.entries(q).map(([ge, Oe]) => `${ge}-${Oe}`).join(" ");
  }, [z.xxs, z.xs, z.sm, z.md, z.lg, z.xlg]), ue = Re.toArray(m).filter((q) => Te(q)), he = Re.toArray(E).filter((q) => Te(q)), ve = Re.map(he, (q, ge) => Te(q) ? Ue(q, {
    key: q.key || `${V}${ge}`,
    ...q.props
  }) : q), me = he.length > 0, _e = me && /* @__PURE__ */ t(nt, { layoutType: "bubble", className: "features", fullWidth: !0, gap: "0.5rem", ...T, children: ve });
  function Ne(q) {
    const ge = fi / mi;
    return `calc(${q / ge}px - ${M?.adjustGraphSpaceBy ?? "0px"});`;
  }
  const Pe = Ne(U), Xe = oe(() => ["card-base", y ?? "", R ? "" : ce, u ? "disable-scale-effect" : "", a ? "active" : "", ae ? "unavailable" : "", l || ae ? "disabled" : "", me ? "has-features" : "", J ? "has-graph" : ""].filter((q) => !!q).join(" "), [a, y, ce, u, R, l, J, me, ae]), Gt = () => {
    Y.current?.classList.add("card-base-active");
  }, Xt = () => {
    Y.current?.classList.remove("card-base-active");
  };
  return /* @__PURE__ */ w(se, { children: [
    /* @__PURE__ */ w(F, { ref: (q) => {
      Y.current = q, A && A(Y);
    }, id: _ ?? "", className: Xe, css: /* @__PURE__ */ Se("padding-bottom:", J ? Pe : "inherit", ";", O.cardBase ?? "", " ", N ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:CardBase;")), style: {
      ...k ?? {},
      borderRadius: be
    }, disableActiveState: b, disabled: ae || l, ...L(), ...z, children: [
      J && /* @__PURE__ */ t("div", { className: "graph-element history", children: J.history.loading ? /* @__PURE__ */ t(rt, { className: "loading", description: B("loading") }) : J.history.coordinates.length > 0 ? /* @__PURE__ */ t(Wa, { coordinates: J.history.coordinates, ...M?.props }) : /* @__PURE__ */ t(rt, { className: "no-state-history", description: B("no_state_history_found") }) }),
      f ? /* @__PURE__ */ w(Cn, { className: `contents trigger-element ${I}`, onClick: X, onPointerDown: Gt, onPointerUp: Xt, children: [
        i,
        _e
      ] }) : /* @__PURE__ */ Hr(bi, { ...S, key: S?.key, borderRadius: be, disabled: l || ae }, /* @__PURE__ */ w(Cn, { className: `contents trigger-element ${I}`, onClick: X, onPointerDown: Gt, onPointerUp: Xt, children: [
        i,
        _e
      ] })),
      Re.map(ue, (q, ge) => Te(q) ? Ue(q, {
        key: q.key || `${V}${ge}`,
        ...q.props
      }) : q)
    ] }, D),
    typeof o == "string" && /* @__PURE__ */ t(Uo, { ...x, entity: o, title: x?.title ?? te ?? B("unknown"), onClose: () => {
      P(!1), x?.onClose && x.onClose();
    }, open: x?.open || W, id: V })
  ] });
}, Ce = Vt(function(r) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "CardBase"
  }), children: yi(r) });
}), xi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1q4f2q20"
} : {
  target: "e1q4f2q20",
  label: "RelatedEntityEl"
})("position:absolute;margin:", (e) => e.margin || "1rem", ";padding:", (e) => e.padding || "0", ";cursor:", (e) => e.onClick ? "pointer" : "default", ";", (e) => {
  switch (e.position) {
    case "left top":
      return "top: 0; left: 0;";
    case "left center":
      return "top: 50%; left: 0; transform: translateY(-50%);";
    case "left bottom":
      return "bottom: 0; left: 0;";
    case "center top":
      return "top: 0; left: 50%; transform: translateX(-50%);";
    case "center center":
      return "top: 50%; left: 50%; transform: translate(-50%, -50%);";
    case "center bottom":
      return "bottom: 0; left: 50%; transform: translateX(-50%);";
    case "right top":
      return "top: 0; right: 0;";
    case "right center":
      return "top: 50%; right: 0; transform: translateY(-50%);";
    case "right bottom":
      return "bottom: 0; right: 0;";
    default:
      return "top: 0; right: 0;";
  }
}, ";");
function wi({
  entity: e,
  icon: r,
  iconProps: o,
  render: n,
  position: a,
  onClick: s,
  disabled: c,
  service: i,
  serviceData: l,
  ...h
}) {
  const d = pe(e), g = $e(r ?? null, o), x = tt(e), f = $t(x === null ? "unknown" : x, o), u = Mt(e || "unknown", o), b = g ?? u ?? f, p = oe(() => typeof d?.state == "string" ? Ee(d.state) : !1, [d?.state]), _ = $((y) => {
    if (!c) {
      if (typeof i == "string" && d && !p) {
        const N = d.service[i];
        N(l);
      }
      typeof s == "function" && s(d !== null ? d : null, y);
    }
  }, [i, c, d, l, s, p]);
  return /* @__PURE__ */ t(xi, { position: a, onClick: _, ...h, children: n ? n(d, b) : /* @__PURE__ */ t(se, { children: b }) });
}
const Th = Vt(function(r) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "RelatedEntity"
  }), children: /* @__PURE__ */ t(wi, { ...r }) });
});
function Ni({
  children: e,
  active: r,
  ...o
}) {
  return /* @__PURE__ */ t(
    Ae,
    {
      as: "div",
      rippleProps: {
        preventPropagation: !0
      },
      active: r,
      cssStyles: `
        &.button-bar-button {
          .contents {
            > div {
              padding: 0.6rem;
            }
          }
        }
      `,
      ...o,
      children: e
    }
  );
}
const pt = function(r) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "FeatureEntity"
  }), children: /* @__PURE__ */ t(Ni, { ...r }) });
}, Ei = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "e9g8avo0"
} : {
  target: "e9g8avo0",
  label: "TooltipSpan"
})("position:fixed;top:0;left:0;background-color:var(--ha-S300);color:var(--ha-S100-contrast);padding:8px;border-radius:4px;box-shadow:0px 2px 4px var(--ha-S100);font-size:0.9rem;z-index:1000;visibility:hidden;opacity:0;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:opacity,visibility;pointer-events:none;transform:", (e) => {
  switch (e.placement) {
    default:
    case "top":
      return "translateY(calc(-100% - 10px)) translateX(-50%)";
    case "right":
      return "translateX(10px) translateY(-50%)";
    case "bottom":
      return "translateY(10px) translateX(-50%)";
    case "left":
      return "translateX(calc(-100% - 10px)) translateY(-50%)";
  }
}, ';&::before{content:"";position:absolute;width:0;height:0;border-style:solid;display:block;', (e) => {
  switch (e.placement) {
    default:
    case "top":
      return `
            border-width: 6px 6px 0 6px;
            border-color: var(--ha-S300) transparent transparent transparent;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
          `;
    case "right":
      return `
            border-width: 6px 6px 6px 0;
            border-color: transparent var(--ha-S300) transparent transparent;
            left: 0;
            top: 50%;
            transform: translate(-100%, -50%);
          `;
    case "bottom":
      return `
            border-width: 0 6px 6px 6px;
            border-color: transparent transparent var(--ha-S300) transparent;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
          `;
    case "left":
      return `
            border-width: 6px 0 6px 6px;
            border-color: transparent transparent transparent var(--ha-S300);
            right: 0;
            top: 50%;
            transform: translate(100%, -50%);
          `;
  }
}, ";}");
function _i({
  placement: e = "top",
  title: r = null,
  children: o,
  ref: n,
  ...a
}) {
  const s = G(null), c = G(null), i = Q((b) => b.portalRoot), h = Q((b) => b.windowContext) ?? window, [d, g] = ne(!1), x = $((b) => {
    const p = c.current?.getBoundingClientRect();
    if (typeof p > "u") return;
    let _ = 0, y = 0;
    switch (e) {
      case "top":
        _ = p.top, y = p.left + p.width / 2;
        break;
      case "right":
        _ = p.top + p.height / 2, y = p.right;
        break;
      case "bottom":
        _ = p.bottom, y = p.left + p.width / 2;
        break;
      case "left":
        _ = p.top + p.height / 2, y = p.left;
        break;
    }
    b.style.top = `${_}px`, b.style.left = `${y}px`, setTimeout(() => {
      b.style.opacity = "1", b.style.visibility = "visible";
    }, 0);
  }, [e]), f = $(() => {
    g(!0);
  }, []), u = $(() => {
    const b = s.current;
    b && (b.style.opacity = "0", b.style.visibility = "hidden", b.setAttribute("aria-hidden", "true"), setTimeout(() => {
      g(!1);
    }, 250));
  }, []);
  return r === null || r === "" ? o : /* @__PURE__ */ w("div", { ref: c, onBlur: u, onTouchEnd: u, onTouchStart: f, onMouseUp: u, onMouseEnter: f, onMouseLeave: u, ...a, children: [
    Re.map(o, (b, p) => Te(b) ? Ue(b, {
      ...b.props,
      onClick(_, y) {
        b.props.onClick?.(_, y), a?.onClick?.(y);
      },
      ref: n,
      key: b.key ?? p
    }) : b),
    typeof document < "u" && ur(d && /* @__PURE__ */ t(Ei, { className: "tooltip-inner", placement: e, ref: (b) => {
      b && (s.current = b, x(b));
    }, "aria-hidden": "false", children: r }), i ?? h.document.body)
  ] });
}
function ye(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "Tooltip"
  }), children: /* @__PURE__ */ t(_i, { ...e }) });
}
const de = ({
  prefix: e
}) => ({
  fallbackRender({
    error: r,
    resetErrorBoundary: o
  }) {
    return /* @__PURE__ */ t(rt, { className: "error-boundary-alert", title: `${e ? `${e} - ` : ""}${B("unknown_error")}`, description: r.message, type: "error", onClick: () => o() });
  }
});
function Et() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const ki = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq38"
} : {
  target: "e1cw8oq38",
  label: "StyledButtonCard"
})(process.env.NODE_ENV === "production" ? {
  name: "1uus07k",
  styles: "&.slim{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;>.contents{width:100%;}}}.button-card-trigger>.features{width:100%;}.button-card-trigger>.features>.fit-content{flex-basis:100%;}.children{width:100%;}&.slim-vertical{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;}}.footer>.title{text-align:left;}&:not(.disabled),&:not(:disabled){&:not(:focus):hover{.fab-card-inner:not(.custom){background-color:var(--ha-S500);color:var(--ha-S500-contrast);}}}"
} : {
  name: "1uus07k",
  styles: "&.slim{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;>.contents{width:100%;}}}.button-card-trigger>.features{width:100%;}.button-card-trigger>.features>.fit-content{flex-basis:100%;}.children{width:100%;}&.slim-vertical{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;}}.footer>.title{text-align:left;}&:not(.disabled),&:not(:disabled){&:not(:focus):hover{.fab-card-inner:not(.custom){background-color:var(--ha-S500);color:var(--ha-S500-contrast);}}}",
  toString: Et
}), Si = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq37"
} : {
  target: "e1cw8oq37",
  label: "Contents"
})(process.env.NODE_ENV === "production" ? {
  name: "104hu76",
  styles: "padding:1rem;display:flex;flex-direction:column;align-items:center;justify-content:stretch;height:100%"
} : {
  name: "104hu76",
  styles: "padding:1rem;display:flex;flex-direction:column;align-items:center;justify-content:stretch;height:100%",
  toString: Et
}), Ci = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq36"
} : {
  target: "e1cw8oq36",
  label: "ToggleState"
})("background-color:var(--ha-100);border-radius:100%;width:16px;height:16px;position:absolute;top:2px;left:0;box-shadow:0px 0px 4px rgba(0, 0, 0, 0.5);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left,transform;left:", (e) => e.active ? "100%" : "0px", ";transform:", (e) => e.active ? "translate3d(calc(-100% - 2px), 0, 0)" : "translate3d(calc(0% + 2px), 0, 0)", ";"), Di = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq35"
} : {
  target: "e1cw8oq35",
  label: "Toggle"
})("position:relative;background-color:", (e) => e.active ? "var(--ha-A400)" : "var(--ha-S100)", ";border-radius:10px;width:40px;height:20px;flex-grow:0;flex-shrink:0;transition:background-color var(--ha-transition-duration) var(--ha-easing);margin-left:20px;"), Oi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq34"
} : {
  target: "e1cw8oq34",
  label: "Fab"
})("border-radius:100%;padding:6px;width:2rem;height:2rem;display:flex;flex-shrink:0;align-items:center;justify-content:center;box-shadow:0px 1px 4px rgba(0, 0, 0, 0.2);", (e) => e.brightness && `
    filter: ${e.brightness};
  `, " transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background-color,color,filter;svg{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color;}"), Ri = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq33"
} : {
  target: "e1cw8oq33",
  label: "LayoutBetween"
})(process.env.NODE_ENV === "production" ? {
  name: "1fkysi1",
  styles: "display:flex;align-items:center;justify-content:space-between;flex-direction:row;gap:10px;width:100%;&.vertical{flex-direction:column;height:100%;}"
} : {
  name: "1fkysi1",
  styles: "display:flex;align-items:center;justify-content:space-between;flex-direction:row;gap:10px;width:100%;&.vertical{flex-direction:column;height:100%;}",
  toString: Et
}), Ii = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq32"
} : {
  target: "e1cw8oq32",
  label: "Footer"
})(process.env.NODE_ENV === "production" ? {
  name: "1cgwlg6",
  styles: "display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;margin-top:20px;width:100%"
} : {
  name: "1cgwlg6",
  styles: "display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;margin-top:20px;width:100%",
  toString: Et
}), On = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq31"
} : {
  target: "e1cw8oq31",
  label: "Title"
})(process.env.NODE_ENV === "production" ? {
  name: "ph2n02",
  styles: "color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold;margin-bottom:0.25rem"
} : {
  name: "ph2n02",
  styles: "color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold;margin-bottom:0.25rem",
  toString: Et
}), er = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1cw8oq30"
} : {
  target: "e1cw8oq30",
  label: "Description"
})(process.env.NODE_ENV === "production" ? {
  name: "2pojne",
  styles: "color:var(--ha-S300-contrast);font-size:0.7rem;margin:2px 0;text-align:left;width:100%;&.center{text-align:center;}&.secondary{color:var(--ha-S500-contrast);}&.slim-vertical{text-align:center;}"
} : {
  name: "2pojne",
  styles: "color:var(--ha-S300-contrast);font-size:0.7rem;margin:2px 0;text-align:left;width:100%;&.center{text-align:center;}&.secondary{color:var(--ha-S500-contrast);}&.slim-vertical{text-align:center;}",
  toString: Et
});
function Ai({
  entity: e,
  service: r,
  serviceData: o,
  iconProps: n,
  icon: a,
  fabProps: s,
  active: c,
  onClick: i,
  description: l,
  title: h,
  layoutType: d,
  disabled: g = !1,
  className: x,
  hideIcon: f = !1,
  hideState: u = !1,
  hideLastUpdated: b = !1,
  children: p,
  hideDetails: _ = !1,
  cssStyles: y,
  key: N,
  hideToggle: k = !1,
  customRenderState: v,
  ...S
}) {
  const R = Q((J) => J.globalComponentStyles), A = Q((J) => J.formatter), D = e ? tt(e) : null, m = pe(e || "unknown", {
    returnNullIfNotFound: !0
  }), E = typeof a < "u" && typeof a != "string" ? a : null, T = $t(D === null ? "unknown" : D, {
    ...n ?? {}
  }), M = Mt(e || "unknown", {
    ...n ?? {}
  }), j = d === "default" || d === void 0, I = d === "slim" || d === "slim-vertical", z = typeof m?.state == "string" ? Ee(m.state) : !1, V = m ? m.state !== "off" && !z && !g : c || !1, O = $e(typeof a == "string" ? a : null, {
    ...n ?? {}
  }), W = oe(() => h === null ? null : h || m?.attributes.friendly_name || m?.entity_id || null, [h, m]);
  function P() {
    return u ? null : v && m ? v(m) : typeof c == "boolean" ? c ? `${B(je)}` : `${B(We)}` : m && m.state === je && D === "light" ? A.attributeValue(m, "brightness") : m ? A.stateValue(m) : null;
  }
  const re = Re.toArray(S?.features).filter((J) => Te(J)).length > 0, H = P(), Y = S.descriptionSeparator ?? "-";
  function U(J, ae) {
    return !J && !ae ? null : J && ae ? /* @__PURE__ */ w(se, { children: [
      J,
      " ",
      /* @__PURE__ */ t("span", { className: "description-separator", children: Y }),
      " ",
      ae
    ] }) : J || ae;
  }
  return /* @__PURE__ */ t(
    ki,
    {
      as: "button",
      service: r,
      serviceData: o,
      active: c,
      entity: e,
      title: W ?? void 0,
      disabled: g || z,
      onClick: i,
      className: `${x ?? ""} ${d ?? "default"} button-card`,
      triggerClass: "button-card-trigger",
      cssStyles: `
        ${R.buttonCard ?? ""}
        ${y ?? ""}
      `,
      ...S,
      children: /* @__PURE__ */ w(Si, { className: `contents ${re ? "has-features" : ""}`, children: [
        /* @__PURE__ */ w(Ri, { className: `layout-between ${d === "slim-vertical" ? "vertical" : ""}`, children: [
          !f && /* @__PURE__ */ t(Oi, { brightness: V && m?.custom.brightness || "brightness(100%)", ...s, className: `fab-card-inner icon ${s?.className} ${s?.style ? "custom" : ""}`, style: {
            ...s?.style,
            backgroundColor: s?.style?.backgroundColor ?? (V ? D === "light" ? m?.custom?.rgbaColor ?? "var(--ha-A400)" : "var(--ha-A400)" : "var(--ha-S400)"),
            color: s?.style?.color ?? (m ? V ? m.custom.rgbColor : "var(--ha-S500-contrast)" : V ? "var(--ha-A400)" : "var(--ha-S500-contrast)")
          }, children: E ?? O ?? M ?? T }),
          j && !k && /* @__PURE__ */ t(Di, { active: V, className: "toggle", children: !z && /* @__PURE__ */ t(Ci, { active: V, className: "toggle-state" }) }),
          I && /* @__PURE__ */ w(ie, { fullWidth: !0, alignItems: d === "slim-vertical" ? "center" : "flex-start", children: [
            W && /* @__PURE__ */ t(On, { className: "title", children: W }),
            !_ && /* @__PURE__ */ t(er, { className: `description ${d ?? ""}`, children: U(l, H) }),
            m && !b && /* @__PURE__ */ w(er, { className: `description secondary ${d === "slim-vertical" ? "center" : ""}`, children: [
              B("last_updated"),
              ": ",
              m.custom.relativeTime
            ] })
          ] })
        ] }),
        j && /* @__PURE__ */ w(Ii, { className: "footer", children: [
          W && /* @__PURE__ */ t(On, { className: "title", children: W }),
          !_ && /* @__PURE__ */ t(er, { className: "description", children: U(l, H) }),
          !_ && m && !b && /* @__PURE__ */ w(er, { className: "description secondary", children: [
            B("last_updated"),
            ": ",
            m.custom.relativeTime
          ] })
        ] }),
        p && /* @__PURE__ */ t("div", { className: "children", children: p })
      ] })
    },
    N
  );
}
function Io(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 4,
    md: 3,
    lg: 2,
    xlg: 2
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ButtonCard"
  }), children: /* @__PURE__ */ t(Ai, { ...r, ...e }) });
}
function Ao() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Ti = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eu3ltb74"
} : {
  target: "eu3ltb74",
  label: "RangeSliderParent"
})(), zi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eu3ltb73"
} : {
  target: "eu3ltb73",
  label: "StyledRange"
})((e) => `
    min-width: 6rem;
    width: 100%;
    position: relative;
    isolation: isolate;

    ${De(["xxs", "xs", "sm"], `
      min-width: 0;
    `)}

    z-index: 1;

    .range-slider-range {
      position: relative;
      -webkit-appearance: none;
      width: 100%;
      height: 0.7rem;
      border-radius: 5px;
      background: var(--ha-S400);
      outline: none;
      padding: 0;
      margin: 0;
      z-index: 1;

      &::-webkit-slider-thumb {
        appearance: none;
        width: ${e.handleSize}px;
        height: ${e.handleSize}px;
        border-radius: 50%;
        background: var(--ha-A400);
        cursor: pointer;
        transition: background var(--ha-transition-duration) var(--ha-easing);
        position: relative;
        z-index: 1;

        &:hover {
          background: var(--ha-A200);
        }
      }

      &:active::-webkit-slider-thumb {
        background: var(--ha-A400);
      }

      &::-moz-range-thumb {
        width: ${e.handleSize}px;
        height: ${e.handleSize}px;
        border: 0;
        border-radius: 50%;
        background: var(--ha-A400);
        cursor: pointer;
        transition: background var(--ha-transition-duration) var(--ha-easing);
        z-index: 1;

        &:hover {
          background: var(--ha-A200);
        }
      }

      &:active::-moz-range-thumb {
        background: var(--ha-A400);
      }
      
      &:focus {
        &::-webkit-slider-thumb {
          box-shadow: 0 0 0 3px var(--ha-A100);
        }
      }
    }

    // Firefox Overrides
    ::-moz-range-track {
        background: var(--ha-S400);
        border: 0;
    }

    input::-moz-focus-inner,
    input::-moz-focus-outer { 
      border: 0; 
    }

    
    &:hover, &.active {
      .tooltip-holder {
        > div {
          transform: translate(-50%, -1rem) rotate(-45deg) scale(1);
          opacity: 1;
        }
      }
    }
  `, ";"), Vi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eu3ltb72"
} : {
  target: "eu3ltb72",
  label: "Tooltip"
})("opacity:0;position:absolute;bottom:100%;width:", ({
  size: e
}) => `${e}rem`, ";height:", ({
  size: e
}) => `${e}rem`, ";border-radius:50% 50% 50% 0;left:0;transform:translate(-50%, 1rem) rotate(-45deg) scale(0);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:transform,opacity;background-color:var(--ha-A400);white-space:nowrap;pointer-events:none;z-index:0;&:after{content:attr(data-title);font-size:0.7rem;display:flex;align-items:center;justify-content:center;color:white;transform:rotate(45deg);position:absolute;inset:0;border-radius:50%;}"), $i = /* @__PURE__ */ C("label", process.env.NODE_ENV === "production" ? {
  target: "eu3ltb71"
} : {
  target: "eu3ltb71",
  label: "Label"
})(process.env.NODE_ENV === "production" ? {
  name: "1cboe98",
  styles: "display:block;margin-bottom:0.5rem;font-size:0.9rem;color:var(--ha-S50-contrast)"
} : {
  name: "1cboe98",
  styles: "display:block;margin-bottom:0.5rem;font-size:0.9rem;color:var(--ha-S50-contrast)",
  toString: Ao
}), Mi = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "eu3ltb70"
} : {
  target: "eu3ltb70",
  label: "Description"
})(process.env.NODE_ENV === "production" ? {
  name: "imenuv",
  styles: "display:block;font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S500-contrast)"
} : {
  name: "imenuv",
  styles: "display:block;font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S500-contrast)",
  toString: Ao
});
function Pi({
  value: e,
  onChange: r,
  formatTooltipValue: o,
  hideTooltip: n,
  label: a,
  description: s,
  className: c,
  style: i,
  tooltipSize: l = 2,
  handleSize: h = 15,
  min: d = 0,
  max: g = 100,
  step: x = 1,
  debounceThrottleValue: f = 300,
  debounceType: u = "debounce",
  onChangeComplete: b,
  cssStyles: p,
  ..._
}) {
  const [y, N] = ne(e ?? 0), [k, v] = ne(!1), S = G(null), R = G(null), A = G(null);
  K(() => {
    typeof e == "number" && N(e);
  }, [e]), K(() => {
    if (!S.current || n) return;
    const E = parseFloat(`${d ?? 0}`), T = parseFloat(`${g ?? 100}`), M = parseFloat(`${x ?? 1}`), j = parseFloat(S.current.valueAsNumber.toFixed(M < 1 ? Math.abs(Math.log10(M)) : 0)), I = (S.current.valueAsNumber - E) / (T - E) * 100;
    if (A.current) {
      A.current.style.left = `${I}%`;
      const z = typeof o == "function" ? o(j) : j;
      A.current.setAttribute("data-title", `${z}`);
    }
  }, [y, d, g, x, o, n]);
  const m = (u === "debounce" ? jt : Ur)((E) => {
    typeof b == "function" && b(E.target.valueAsNumber, E), v(!1);
  }, f, {
    leading: !0,
    trailing: !0
  });
  return /* @__PURE__ */ w(Ti, { className: `${c ?? ""} ${k ? "active" : ""} range-slider`, style: {
    position: "relative",
    ...i ?? {}
  }, css: /* @__PURE__ */ Se(p ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalRangeSlider;")), children: [
    a && /* @__PURE__ */ t($i, { className: "label", children: a }),
    s && /* @__PURE__ */ t(Mi, { className: "description", children: s }),
    /* @__PURE__ */ w(zi, { ref: R, handleSize: h, className: `range-slider-inner ${k ? "active" : ""}`, children: [
      /* @__PURE__ */ t("input", { ..._, min: d, max: g, step: x, ref: S, type: "range", className: "range-slider-range", value: y, onInput: (E) => {
        N(E.target.valueAsNumber), k || v(!0);
      }, onChange: (E) => {
        typeof r == "function" && r(E.target.valueAsNumber, E), m(E);
      } }),
      !n && /* @__PURE__ */ t("div", { className: "tooltip-holder", style: {
        position: "absolute",
        top: 0,
        left: h / 2,
        right: h / 2
      }, children: /* @__PURE__ */ t(Vi, { size: l, ref: A }) })
    ] })
  ] });
}
function ht(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "RangeSlider"
  }), children: /* @__PURE__ */ t(Pi, { ...e }) });
}
function ji() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Bi = {
  position: "relative",
  display: "inline-flex",
  overflow: "hidden"
}, Fi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ekpqrw61"
} : {
  target: "ekpqrw61",
  label: "StyledRipple"
})(process.env.NODE_ENV === "production" ? {
  name: "zomlrg",
  styles: "position:absolute;border-radius:50%;opacity:0;width:35px;height:35px;transform:translate(-50%, -50%);pointer-events:none;flex-shrink:0"
} : {
  name: "zomlrg",
  styles: "position:absolute;border-radius:50%;opacity:0;width:35px;height:35px;transform:translate(-50%, -50%);pointer-events:none;flex-shrink:0",
  toString: ji
}), Li = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ekpqrw60"
} : {
  target: "ekpqrw60",
  label: "ParentRipple"
})((e) => e.borderRadius && `
    border-radius: ${e.borderRadius};
    overflow: hidden;
    display: inline-flex;
  `, ";"), To = Vt(({
  duration: e = 600,
  color: r = "rgba(0, 0, 0, .3)",
  borderRadius: o = "none",
  onClick: n,
  children: a,
  disabled: s,
  preventPropagation: c = !1,
  style: i,
  className: l,
  cssStyles: h,
  id: d,
  ...g
}) => {
  const x = G(null), f = G(null), b = Q((_) => _.windowContext) ?? window;
  K(() => () => {
    f.current && clearTimeout(f.current);
  }, []);
  const p = $((_) => {
    if (_.stopPropagation(), s) return;
    f.current !== null && clearTimeout(f.current);
    const {
      pageX: y,
      pageY: N,
      currentTarget: k
    } = _, v = k.getBoundingClientRect();
    let S = 1;
    typeof b < "u" && (S = b.scrollX);
    let R = 1;
    typeof b < "u" && (R = b.scrollY);
    const A = y - (v.left + S), D = N - (v.top + R), m = Math.max(v.width, v.height);
    if (x.current) {
      const E = {
        left: isNaN(A) ? "0px" : `${A}px`,
        top: isNaN(D) ? "0px" : `${D}px`,
        opacity: 1,
        transform: "translate(-50%, -50%)",
        transition: "initial",
        backgroundColor: r
      };
      Object.assign(x.current.style, E);
    }
    f.current = setTimeout(() => {
      if (x.current) {
        const E = {
          opacity: 0,
          transform: `scale(${m / 9})`,
          transition: `all ${e}ms`
        };
        Object.assign(x.current.style, E);
      }
      f.current = null;
    }, 50), typeof n == "function" && n(_);
  }, [r, e, s, n, b]);
  return /* @__PURE__ */ t(Li, { borderRadius: o, id: d ?? "", className: `ripple-parent ${l ?? ""}`, css: /* @__PURE__ */ Se(h ?? "", ";"), style: {
    ...i ?? {}
  }, children: /* @__PURE__ */ w("div", { className: "ripple-inner", onPointerDownCapture: (_) => {
    c && _.stopPropagation();
  }, ...g, style: {
    width: "100%",
    ...Bi,
    borderRadius: o
  }, onClick: p, children: [
    a,
    /* @__PURE__ */ t(Fi, { ref: x })
  ] }) });
});
To.displayName = "_Ripples";
function Wi(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "Ripples"
  }), children: /* @__PURE__ */ t(To, { ...e }) });
}
function fr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Hi = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e17tod368"
} : {
  target: "e17tod368",
  label: "StyledTriggerCard"
})(), qi = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "e17tod367"
} : {
  target: "e17tod367",
  label: "ToggleMessage"
})("font-size:0.6rem;display:flex;align-items:center;justify-content:flex-end;height:100%;padding:0 0.4rem 0 0.8rem;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:justify-content,color;justify-content:", (e) => e.active ? "flex-start" : "flex-end", ";color:", (e) => e.active ? "var(--ha-300-contrast)" : "var(--ha-300)", ";", (e) => e.hideArrow && "padding-right: 0.8rem;", ";"), Ui = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e17tod366"
} : {
  target: "e17tod366",
  label: "ToggleState"
})("background-color:var(--ha-S200);border-radius:100%;width:1.9rem;height:1.9rem;position:absolute;top:5px;left:0px;display:flex;align-items:center;justify-content:center;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left,transform;left:", (e) => e.active ? "100%" : "0px", ";transform:", (e) => e.active ? "translate3d(calc(-100% - 5px), 0, 0)" : "translate3d(calc(0% + 5px), 0, 0)", ";svg{color:", (e) => e.active ? "var(--ha-A400)" : "var(--ha-200)", ";font-size:40px;}"), Yi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e17tod365"
} : {
  target: "e17tod365",
  label: "Gap"
})(process.env.NODE_ENV === "production" ? {
  name: "rhxkjj",
  styles: "height:20px"
} : {
  name: "rhxkjj",
  styles: "height:20px",
  toString: fr
}), Gi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e17tod364"
} : {
  target: "e17tod364",
  label: "Toggle"
})("position:relative;background-color:", (e) => e.active ? "var(--ha-300)" : "var(--ha-S200)", ";border-radius:3rem;width:10rem;height:2.5rem;flex-grow:0;flex-shrink:0;transition:background-color var(--ha-transition-duration) var(--ha-easing);margin-left:1.5rem;overflow:hidden;"), Xi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e17tod363"
} : {
  target: "e17tod363",
  label: "Contents"
})(process.env.NODE_ENV === "production" ? {
  name: "dpr5ta",
  styles: "padding:1rem;height:100%;display:flex;flex-direction:column;justify-content:center"
} : {
  name: "dpr5ta",
  styles: "padding:1rem;height:100%;display:flex;flex-direction:column;justify-content:center",
  toString: fr
}), Rn = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e17tod362"
} : {
  target: "e17tod362",
  label: "LayoutBetween"
})(process.env.NODE_ENV === "production" ? {
  name: "fycgd8",
  styles: "display:flex;align-items:center;justify-content:space-between;flex-direction:row"
} : {
  name: "fycgd8",
  styles: "display:flex;align-items:center;justify-content:space-between;flex-direction:row",
  toString: fr
}), Qi = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e17tod361"
} : {
  target: "e17tod361",
  label: "Description"
})(process.env.NODE_ENV === "production" ? {
  name: "bme980",
  styles: "color:var(--ha-S500-contrast);font-size:0.7rem;text-align:left"
} : {
  name: "bme980",
  styles: "color:var(--ha-S500-contrast);font-size:0.7rem;text-align:left",
  toString: fr
}), Ki = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e17tod360"
} : {
  target: "e17tod360",
  label: "Title"
})("color:var(--ha-S300-contrast);font-size:0.9rem;font-weight:bold;", (e) => e.disabled && "color: var(--ha-S50-contrast);", " text-align:left;span{display:block;width:100%;color:var(--ha-S50-contrast);margin-top:0.3rem;line-height:1rem;font-size:0.7rem;}");
function Ji({
  entity: e,
  title: r,
  description: o,
  onClick: n,
  disabled: a,
  icon: s,
  iconProps: c,
  sliderIconProps: i,
  sliderIcon: l,
  sliderTextActive: h,
  sliderTextInactive: d,
  activeStateDuration: g = 5e3,
  hideArrow: x = !1,
  className: f,
  service: u,
  serviceData: b,
  key: p,
  cssStyles: _,
  ...y
}) {
  const N = Q((O) => O.globalComponentStyles), k = tt(e), v = pe(e), S = Mt(e, c), R = $t(k, c), A = G(null), [D, m] = ne(!1), E = $e(s ?? null, c), T = $e(l ?? null, i), M = $e("mdi:power", c), j = $e("mingcute:arrows-right-line", {
    ...c,
    style: {
      fontSize: "16px",
      ...c?.style
    }
  }), I = Ee(v.state), z = a || I, V = $((O) => {
    m(!0), typeof n == "function" && !I && n(v, O), A.current && clearTimeout(A.current), A.current = setTimeout(() => {
      m(!1);
    }, g);
  }, [v, n, g, I]);
  return /* @__PURE__ */ t(
    Hi,
    {
      as: "button",
      className: `${f ?? ""} trigger-card`,
      disabled: z,
      entity: e,
      service: u,
      serviceData: b,
      onClick: V,
      cssStyles: `
        ${N?.triggerCard ?? ""}
        ${_ ?? ""}
      `,
      ...y,
      children: /* @__PURE__ */ w(Xi, { children: [
        /* @__PURE__ */ w(Rn, { className: "layout-between", children: [
          /* @__PURE__ */ w(Ki, { disabled: z, className: "description", children: [
            r || v.attributes.friendly_name || e,
            o && /* @__PURE__ */ t("span", { children: o })
          ] }),
          E ?? S ?? R
        ] }),
        /* @__PURE__ */ t(Yi, { className: "gap" }),
        /* @__PURE__ */ w(Rn, { className: "layout-between", children: [
          /* @__PURE__ */ w(Qi, { className: "title", children: [
            v.custom.relativeTime,
            z ? ` - ${v.state}` : ""
          ] }),
          /* @__PURE__ */ t(Gi, { active: z ? !1 : D, className: "toggle", children: z ? null : /* @__PURE__ */ w(se, { children: [
            /* @__PURE__ */ t(Ui, { active: D, className: "toggle-state", children: T ?? M }),
            /* @__PURE__ */ w(qi, { hideArrow: x, active: D, className: "toggle-message", children: [
              D ? h ?? B("triggered_name", {
                search: " {name}",
                replace: ""
              }) : d ?? `${B("run")} ${lo(e, v?.attributes?.device_class)}`,
              " ",
              !D && !x && j
            ] })
          ] }) })
        ] })
      ] })
    },
    p
  );
}
function zh(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "TriggerCard"
  }), children: /* @__PURE__ */ t(Ji, { ...r, ...e }) });
}
function zo() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Zi = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e16eobz13"
} : {
  target: "e16eobz13",
  label: "StyledGroup"
})("background-color:var(--ha-S200);color:var(--ha-S200-contrast);padding:", ({
  collapsed: e
}) => e ? "0 2rem" : "0 2rem 2rem", ";transition:var(--ha-transition-duration) var(--ha-easing);transition-property:height,padding,background-color;&.expanded{height:calc-size(auto);}width:100%;>div.contents>.header-title{cursor:pointer;padding:", ({
  collapsed: e
}) => e ? "1.5rem 0" : "2rem 0", ";>h3{color:var(--ha-S100-contrast);margin:0;display:flex;align-items:center;transition:padding var(--ha-transition-duration) var(--ha-easing);", ({
  collapsible: e,
  collapsed: r
}) => e && `&:before {
        content: "${r ? "+" : "-"}";
        display: inline-block;
        color: var(--ha-A400);
        width: 1rem;
      }`, ";}}", ({
  collapsed: e
}) => `
    ${De(["xxs", "xs"], `
      padding: ${e ? "1rem 0rem" : "1.5rem 1rem 1rem"};
    `)}
  `, ";"), es = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "e16eobz12"
} : {
  target: "e16eobz12",
  label: "Description"
})(process.env.NODE_ENV === "production" ? {
  name: "qzd1ts",
  styles: "color:var(--ha-S300-contrast);font-size:0.9rem;margin:0.5rem 0 0;width:100%;display:block;padding-left:1rem"
} : {
  name: "qzd1ts",
  styles: "color:var(--ha-S300-contrast);font-size:0.9rem;margin:0.5rem 0 0;width:100%;display:block;padding-left:1rem",
  toString: zo
}), ts = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e16eobz11"
} : {
  target: "e16eobz11",
  label: "Header"
})(process.env.NODE_ENV === "production" ? {
  name: "dslko4",
  styles: "transition:padding var(--ha-transition-duration) var(--ha-easing)"
} : {
  name: "dslko4",
  styles: "transition:padding var(--ha-transition-duration) var(--ha-easing)",
  toString: zo
}), rs = /* @__PURE__ */ C("h3", process.env.NODE_ENV === "production" ? {
  target: "e16eobz10"
} : {
  target: "e16eobz10",
  label: "Title"
})();
function ns({
  title: e,
  description: r,
  children: o,
  gap: n = "0.5rem",
  justifyContent: a = "center",
  alignItems: s = "center",
  layout: c = "row",
  collapsed: i = !1,
  collapsible: l = !0,
  className: h,
  onClick: d,
  ...g
}) {
  const [x, f] = ne(i), u = {
    gap: n,
    justifyContent: a,
    alignItems: s
  }, b = $(() => {
    f(!0);
  }, []), p = $((_) => {
    l && f(!x), d && d(_);
  }, [x, l, d]);
  return /* @__PURE__ */ w(Zi, { onlyFunctionality: !0, disableScale: !0, disableActiveState: !0, disableRipples: !0, borderRadius: "16px", className: `${h ?? ""} ${x ? "collapsed" : "expanded"} group`, collapsed: x, collapsible: l, ...g, children: [
    /* @__PURE__ */ w(ts, { onClick: p, className: "header-title", children: [
      /* @__PURE__ */ t(rs, { className: "title", children: e }),
      r && /* @__PURE__ */ t(es, { children: r })
    ] }),
    /* @__PURE__ */ t(hi, { isOpen: !x || !l, className: "content", onCollapseComplete: b, children: c === "row" ? /* @__PURE__ */ t(ee, { className: "row", ...u, children: o }) : /* @__PURE__ */ t(ie, { className: "column", ...u, children: o }) })
  ] });
}
function Vo(e) {
  const r = {
    xxs: 12,
    xs: 12,
    sm: 12,
    md: 12,
    lg: 12,
    xlg: 12
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "Group"
  }), children: /* @__PURE__ */ t(ns, { ...r, ...e }) });
}
function Be() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const os = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e15e1idt11"
} : {
  target: "e15e1idt11",
  label: "Card"
})(), as = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e15e1idt10"
} : {
  target: "e15e1idt10",
  label: "Contents"
})(process.env.NODE_ENV === "production" ? {
  name: "a4fcxv",
  styles: "padding:1rem;gap:1rem;flex-direction:column;display:flex;width:100%;height:100%"
} : {
  name: "a4fcxv",
  styles: "padding:1rem;gap:1rem;flex-direction:column;display:flex;width:100%;height:100%",
  toString: Be
}), is = /* @__PURE__ */ C("h4", process.env.NODE_ENV === "production" ? {
  target: "e15e1idt9"
} : {
  target: "e15e1idt9",
  label: "Title"
})(process.env.NODE_ENV === "production" ? {
  name: "jwzzvx",
  styles: "all:unset;font-family:var(--ha-font-family);font-size:0.8rem;color:var(--ha-S100-contrast);display:flex;align-items:center;justify-content:flex-start"
} : {
  name: "jwzzvx",
  styles: "all:unset;font-family:var(--ha-font-family);font-size:0.8rem;color:var(--ha-S100-contrast);display:flex;align-items:center;justify-content:flex-start",
  toString: Be
}), ss = /* @__PURE__ */ C("h4", process.env.NODE_ENV === "production" ? {
  target: "e15e1idt8"
} : {
  target: "e15e1idt8",
  label: "SubTitle"
})(process.env.NODE_ENV === "production" ? {
  name: "p73dxp",
  styles: "all:unset;font-family:var(--ha-font-family);font-size:1rem;color:var(--ha-S500-contrast);margin-top:0.3rem;margin-left:1.1rem"
} : {
  name: "p73dxp",
  styles: "all:unset;font-family:var(--ha-font-family);font-size:1rem;color:var(--ha-S500-contrast);margin-top:0.3rem;margin-left:1.1rem",
  toString: Be
}), cs = /* @__PURE__ */ C(we, process.env.NODE_ENV === "production" ? {
  target: "e15e1idt7"
} : {
  target: "e15e1idt7",
  label: "StyledIcon"
})(process.env.NODE_ENV === "production" ? {
  name: "1d2jak5",
  styles: "font-size:3rem;color:var(--ha-A100)!important"
} : {
  name: "1d2jak5",
  styles: "font-size:3rem;color:var(--ha-A100)!important",
  toString: Be
}), ls = /* @__PURE__ */ C(we, process.env.NODE_ENV === "production" ? {
  target: "e15e1idt6"
} : {
  target: "e15e1idt6",
  label: "LocationIcon"
})(process.env.NODE_ENV === "production" ? {
  name: "1nqb1ni",
  styles: "font-size:1rem;color:var(--ha-A400)!important;margin-right:0.2rem"
} : {
  name: "1nqb1ni",
  styles: "font-size:1rem;color:var(--ha-A400)!important;margin-right:0.2rem",
  toString: Be
});
function ds(e, r, o) {
  const n = r * o, a = e.slice(0, n), s = [];
  let c = 0;
  for (let i = 0; i < r; i++) {
    const l = Math.min(
      Math.ceil((a.length - c) / (r - i)),
      // Evenly distribute remaining elements
      o
    );
    s.push(a.slice(c, c + l)), c += l;
  }
  return s;
}
const us = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e15e1idt5"
} : {
  target: "e15e1idt5",
  label: "Forecast"
})(process.env.NODE_ENV === "production" ? {
  name: "lywmg8",
  styles: "display:flex;flex-direction:column;align-items:center;justify-content:space-between;gap:0.5rem;height:100%"
} : {
  name: "lywmg8",
  styles: "display:flex;flex-direction:column;align-items:center;justify-content:space-between;gap:0.5rem;height:100%",
  toString: Be
}), ps = /* @__PURE__ */ C(we, process.env.NODE_ENV === "production" ? {
  target: "e15e1idt4"
} : {
  target: "e15e1idt4",
  label: "ForecastIcon"
})(process.env.NODE_ENV === "production" ? {
  name: "18ku6o8",
  styles: "font-size:1.5rem;color:var(--ha-A100)!important"
} : {
  name: "18ku6o8",
  styles: "font-size:1.5rem;color:var(--ha-A100)!important",
  toString: Be
}), hs = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e15e1idt3"
} : {
  target: "e15e1idt3",
  label: "Day"
})(process.env.NODE_ENV === "production" ? {
  name: "2pu5xu",
  styles: "color:var(--ha-S50-contrast)"
} : {
  name: "2pu5xu",
  styles: "color:var(--ha-S50-contrast)",
  toString: Be
}), fs = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e15e1idt2"
} : {
  target: "e15e1idt2",
  label: "Time"
})(process.env.NODE_ENV === "production" ? {
  name: "1syrqdo",
  styles: "color:var(--ha-S200-contrast);font-size:0.8rem"
} : {
  name: "1syrqdo",
  styles: "color:var(--ha-S200-contrast);font-size:0.8rem",
  toString: Be
}), ms = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e15e1idt1"
} : {
  target: "e15e1idt1",
  label: "Temperature"
})(process.env.NODE_ENV === "production" ? {
  name: "1pdq2t8",
  styles: "color:var(--ha-S50-contrast);font-size:0.8rem"
} : {
  name: "1pdq2t8",
  styles: "color:var(--ha-S50-contrast);font-size:0.8rem",
  toString: Be
}), gs = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e15e1idt0"
} : {
  target: "e15e1idt0",
  label: "TemperatureLow"
})(process.env.NODE_ENV === "production" ? {
  name: "1wvg1a4",
  styles: "color:var(--ha-S500-contrast);font-size:0.75rem"
} : {
  name: "1wvg1a4",
  styles: "color:var(--ha-S500-contrast);font-size:0.75rem",
  toString: Be
}), vs = 50;
function bs({
  entity: e,
  title: r,
  icon: o,
  iconProps: n,
  temperatureSuffix: a,
  includeTitle: s = !0,
  includeForecast: c = !0,
  includeCurrent: i = !0,
  includeTime: l = !0,
  includeDay: h = !0,
  details: d = [],
  apparentTemperatureAttribute: g = "apparent_temperature",
  className: x,
  service: f,
  serviceData: u,
  forecastType: b = "daily",
  forecastRows: p = 1,
  allowForecastToggle: _ = !0,
  cssStyles: y,
  key: N,
  ...k
}) {
  const v = Q((L) => L.config), [S, R] = ne(0), A = Q((L) => L.globalComponentStyles), D = Math.floor(S / vs), [m, E] = ne("UTC"), T = Q((L) => L.formatter), j = Q((L) => L.helpers).dateTime.shouldUseAmPm(), [I, z] = ne(b), V = ma(e, {
    type: I
  }), O = Ee(V.state), W = pn("weather", V), {
    attributes: {
      friendly_name: P,
      temperature: re,
      temperature_unit: H
    }
  } = V;
  K(() => {
    v?.time_zone && m !== v.time_zone && E(v.time_zone);
  }, [v, m]);
  const Y = oe(() => ga(V), [V]);
  K(() => {
    z(b);
  }, [b]);
  const U = oe(() => {
    const {
      humidity: L,
      temperature: X,
      wind_speed: te,
      wind_speed_unit: ce,
      temperature_unit: ue
    } = V.attributes, he = Ha(X, ue, te, ce, L);
    return {
      apparent_temperature: V.attributes[g] ?? null,
      ...V.attributes,
      ...he ?? {}
    };
  }, [V.attributes, g]), J = U.apparent_temperature ?? U.feelsLike, ae = J === re ? null : J, be = ds(V.forecast?.forecast ?? [], p, D), F = () => /* @__PURE__ */ t(se, { children: be.map((L, X) => /* @__PURE__ */ t(ee, { className: "row", fullHeight: !0, style: {
    justifyContent: "space-between"
  }, children: L.map((te, ce) => {
    const ue = new Date(te.datetime), he = T.formatDateWeekdayShort(ue), ve = T.formatHour(ue), me = j ? T.formatAmPmSuffix(ue) : "", _e = j ? `${ve} ${me}` : ve;
    return /* @__PURE__ */ w(us, { className: "forecast", children: [
      h && /* @__PURE__ */ t(hs, { className: "day", children: he }),
      l && /* @__PURE__ */ t(fs, { className: "time", children: _e }),
      /* @__PURE__ */ t(ps, { className: "icon forecast-icon", icon: pn("weather", {
        ...V,
        state: te.condition
      }), ...n ?? {} }),
      /* @__PURE__ */ w(ms, { className: "temperature", children: [
        te.temperature,
        a || H
      ] }),
      te.templow && /* @__PURE__ */ w(gs, { className: "temperature-low", children: [
        te.templow,
        a || H
      ] })
    ] }, ce);
  }) }, `weather-${X}`)) });
  return /* @__PURE__ */ t(
    os,
    {
      title: r,
      entity: e,
      service: f,
      serviceData: u,
      className: `${x ?? ""} weather-card`,
      resizeDetectorProps: {
        refreshRate: 50,
        refreshMode: "throttle",
        onResize({
          width: L
        }) {
          L && R(L);
        }
      },
      cssStyles: `
        ${A?.weatherCard ?? ""}
        ${y ?? ""}
      `,
      ...k,
      children: /* @__PURE__ */ w(as, { children: [
        i && !O && /* @__PURE__ */ w(ee, { className: "row", justifyContent: "space-between", fullWidth: !0, wrap: "nowrap", children: [
          /* @__PURE__ */ w(ee, { wrap: "nowrap", children: [
            /* @__PURE__ */ t(cs, { icon: W, className: "icon" }),
            /* @__PURE__ */ w(ie, { className: "column", alignItems: "flex-start", justifyContent: "center", children: [
              s && /* @__PURE__ */ w(is, { className: "title", children: [
                /* @__PURE__ */ t(ls, { className: "location-icon icon", icon: o || "mdi:location" }),
                r || P
              ] }),
              /* @__PURE__ */ t(ss, { className: "sub-title", children: /* @__PURE__ */ w(ee, { "align-items": "center", justifyContent: "flex-start", children: [
                /* @__PURE__ */ t("span", { className: "temperature-value", children: T.attributeValue(V, "temperature") }),
                /* @__PURE__ */ t("span", { className: "sub-title-separator", children: "," }),
                /* @__PURE__ */ t("span", { className: "state-value", children: T.stateValue(V) })
              ] }) })
            ] })
          ] }),
          c && _ && /* @__PURE__ */ t(nt, { children: Y.map((L, X) => /* @__PURE__ */ t(Ae, { onClick: () => {
            z(L);
          }, icon: L === "daily" ? "mdi:view-day" : L === "twice_daily" ? "mdi:hours-12" : "mdi:hourglass", noIcon: !1, title: L, active: I === L, rippleProps: {
            preventPropagation: !0
          } }, X)) })
        ] }),
        (d && d.length > 0 || typeof ae == "number") && /* @__PURE__ */ w(ee, { gap: "0.5rem", className: "row", alignItems: "flex-start", justifyContent: "space-between", fullWidth: !0, children: [
          typeof ae == "number" && /* @__PURE__ */ t(_s, { entity: e, title: B("apparent_temperature"), render: () => `${B("apparent_temperature")} - ${Math.round(ae)}${a || H}` }),
          Re.map(d, (L, X) => Te(L) ? Ue(L, {
            key: L.key || X
          }) : L)
        ] }),
        c && !O && S > 0 && F(),
        O && B("unavailable")
      ] })
    },
    N
  );
}
function ys(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "WeatherCard"
  }), children: /* @__PURE__ */ t(bs, { ...r, ...e }) });
}
function xs() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const ws = /* @__PURE__ */ C(ee, process.env.NODE_ENV === "production" ? {
  target: "e1jqhbrg1"
} : {
  target: "e1jqhbrg1",
  label: "DetailsRow"
})("width:auto;", De(["xxs"], `
    width: 100%;
  `), ";"), Ns = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1jqhbrg0"
} : {
  target: "e1jqhbrg0",
  label: "State"
})(process.env.NODE_ENV === "production" ? {
  name: "jljpb8",
  styles: "color:var(--ha-S500-contrast);font-size:0.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis"
} : {
  name: "jljpb8",
  styles: "color:var(--ha-S500-contrast);font-size:0.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis",
  toString: xs
});
function Es({
  icon: e,
  iconProps: r,
  entity: o,
  title: n,
  suffix: a,
  render: s,
  ...c
}) {
  const i = pe(o), l = n ?? i.attributes.friendly_name ?? "";
  return /* @__PURE__ */ t(ws, { className: "details", gap: "0rem", justifyContent: "flex-start", ...c, children: /* @__PURE__ */ t(ye, { title: l ?? B("unknown"), children: /* @__PURE__ */ w(ee, { className: "row", fullWidth: !0, gap: "0.5rem", justifyContent: "flex-start", children: [
    /* @__PURE__ */ t(we, { className: "icon", icon: e ?? i.attributes.icon ?? "mdi:info", ...r ?? {} }),
    /* @__PURE__ */ t(Ns, { className: "state", children: typeof s == "function" ? s(i) : `${l ? `${l} - ` : ""}${i.state ?? ""}${!a && i.attributes.unit_of_measurement ? `${i.attributes.unit_of_measurement}` : a ?? ""}` })
  ] }) }) });
}
function _s(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "WeatherCardDetail"
  }), children: /* @__PURE__ */ t(Es, { ...e }) });
}
const ks = (e) => /* @__PURE__ */ Z.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", x: "0px", y: "0px", xmlSpace: "preserve", viewBox: "0 0 77.41 123.36", style: {
  color: "#444545"
}, ...e }, /* @__PURE__ */ Z.createElement("defs", null, /* @__PURE__ */ Z.createElement("style", { type: "text/css" }, `
      .main-color{fill:currentColor;}
      .bin-wheel{fill:#1B1B1B;}
      .bin-wheel-inner{fill:#2D2D2D;}
      .overlay{
        fill:currentColor;
        filter: brightness(80%);
      }
    `)), /* @__PURE__ */ Z.createElement("path", { className: "main-color", d: "M67.65,10S55,0,30.19,0C12,0,2.73,5.89,2.73,5.89a.87.87,0,0,0-.36.66v6.92a1.15,1.15,0,0,0,.31.73l.77.74a1.13,1.13,0,0,0,.74.29L67,13.91a.54.54,0,0,0,.51-.43L68,10.59A.64.64,0,0,0,67.65,10Z" }), /* @__PURE__ */ Z.createElement("path", { className: "main-color", d: "M62.25,19.9H7.18a.41.41,0,0,0-.42.43L11,117.24a1.16,1.16,0,0,0,.34.72l5.17,4.68a1.29,1.29,0,0,0,.75.29H39.57a1,1,0,0,0,.68-.35l17.87-25a1.88,1.88,0,0,0,.28-.78l4.25-76.45A.4.4,0,0,0,62.25,19.9Z" }), /* @__PURE__ */ Z.createElement("path", { className: "bin-wheel", d: "M63.13,110.22A13.14,13.14,0,1,1,50,97.08,13.14,13.14,0,0,1,63.13,110.22Z" }), /* @__PURE__ */ Z.createElement("path", { className: "overlay", d: "M54,24.2H14.91a.42.42,0,0,0-.42.43l4.12,93.5c0,.24.07.45.13.46a4.61,4.61,0,0,0,.64,0H33.84a1.82,1.82,0,0,0,.61-.09c.09,0,0-.48-.1-.69a20.13,20.13,0,0,1-1.8-7.62A17.46,17.46,0,0,1,50,92.78h.22a.43.43,0,0,0,.45-.41l3.78-67.74A.41.41,0,0,0,54,24.2Z" }), /* @__PURE__ */ Z.createElement("path", { className: "bin-wheel-inner", d: "M45.62,108.53l-5.43-2.8a10.49,10.49,0,0,0-.93,3.48l6.1.29A5.34,5.34,0,0,1,45.62,108.53Zm1.43-2-3.3-5.14A10.83,10.83,0,0,0,41.2,104l5.14,3.3A4.77,4.77,0,0,1,47.05,106.57Zm2.22-1L49,99.49a10.66,10.66,0,0,0-3.48.93l2.8,5.43A4.46,4.46,0,0,1,49.27,105.6Zm5.35,3.9,6.1-.29a10.73,10.73,0,0,0-.93-3.48l-5.43,2.8A5.34,5.34,0,0,1,54.62,109.5Zm-1-2.22,5.14-3.3a10.83,10.83,0,0,0-2.55-2.55l-3.3,5.14A4.77,4.77,0,0,1,53.64,107.28Zm-8.28,3.66-6.1.29a10.66,10.66,0,0,0,.93,3.48l5.43-2.8A5.13,5.13,0,0,1,45.36,110.94ZM45.5,120A10.42,10.42,0,0,0,49,121l.29-6.1a5.13,5.13,0,0,1-1-.26Zm8.86-8.11,5.43,2.8a10.66,10.66,0,0,0,.93-3.48l-6.1-.29A5.13,5.13,0,0,1,54.36,111.91Zm-8,1.25-5.14,3.3A10.65,10.65,0,0,0,43.75,119l3.3-5.14A4.77,4.77,0,0,1,46.34,113.16Zm6.59.71,3.3,5.14a10.65,10.65,0,0,0,2.55-2.55l-5.14-3.3A4.77,4.77,0,0,1,52.93,113.87Zm-2.22,1L51,121a10.49,10.49,0,0,0,3.48-.93l-2.8-5.43A5.13,5.13,0,0,1,50.71,114.85Zm3.77-14.43A10.66,10.66,0,0,0,51,99.49l-.29,6.11a4.46,4.46,0,0,1,1,.25Z" }), /* @__PURE__ */ Z.createElement("path", { className: "overlay", d: "M72.37,10.94,69.72,8.06A.5.5,0,0,0,69.08,8l-3.46,2.64a1.48,1.48,0,0,1-.77.26H.43a.43.43,0,0,0-.43.43v8.14a.43.43,0,0,0,.43.43H64.85a1.05,1.05,0,0,0,.71-.33l6.82-8A.51.51,0,0,0,72.37,10.94Z" }), /* @__PURE__ */ Z.createElement("path", { className: "main-color", d: "M77.41,8.11a4.69,4.69,0,1,1-4.69-4.69A4.69,4.69,0,0,1,77.41,8.11Z" }), /* @__PURE__ */ Z.createElement("path", { className: "overlay", d: "M75.36,8.11a2.64,2.64,0,1,1-2.64-2.64A2.64,2.64,0,0,1,75.36,8.11Z" }));
function mr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Ss = 77.41 / 123.36, Cs = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "ef4onsx5"
} : {
  target: "ef4onsx5",
  label: "Card"
})(), Ds = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ef4onsx4"
} : {
  target: "ef4onsx4",
  label: "Contents"
})(process.env.NODE_ENV === "production" ? {
  name: "1qh4jjv",
  styles: "padding:1rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between"
} : {
  name: "1qh4jjv",
  styles: "padding:1rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between",
  toString: mr
}), Os = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ef4onsx3"
} : {
  target: "ef4onsx3",
  label: "Bin"
})("position:relative;.vertical-text{position:absolute;inset:0;margin-top:40%;margin-left:5%;", (e) => typeof e.textColor == "string" && `color: ${e.textColor};`, ";text{transition:opacity var(--ha-transition-duration) var(--ha-easing);opacity:0;}}.bin-icon{position:absolute;top:50%;left:50%;transform:translate3d(-65%, -60%, 0);", (e) => typeof e.iconColor == "string" && `color: ${e.iconColor};`, ";}"), Rs = /* @__PURE__ */ C(ie, process.env.NODE_ENV === "production" ? {
  target: "ef4onsx2"
} : {
  target: "ef4onsx2",
  label: "BinBox"
})(process.env.NODE_ENV === "production" ? {
  name: "1qntq08",
  styles: "background:var(--ha-S500);border-radius:0.5rem;padding:0.5rem;width:50%;&:nth-of-type(2n){margin-left:1rem;}.collection-time{font-size:0.8rem;color:var(--ha-S500-contrast);}.collection-title{font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S300-contrast);}"
} : {
  name: "1qntq08",
  styles: "background:var(--ha-S500);border-radius:0.5rem;padding:0.5rem;width:50%;&:nth-of-type(2n){margin-left:1rem;}.collection-time{font-size:0.8rem;color:var(--ha-S500-contrast);}.collection-title{font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S300-contrast);}",
  toString: mr
}), Is = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ef4onsx1"
} : {
  target: "ef4onsx1",
  label: "Title"
})(process.env.NODE_ENV === "production" ? {
  name: "1o9bz4x",
  styles: "color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold"
} : {
  name: "1o9bz4x",
  styles: "color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold",
  toString: mr
}), As = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ef4onsx0"
} : {
  target: "ef4onsx0",
  label: "Description"
})(process.env.NODE_ENV === "production" ? {
  name: "kl4f2c",
  styles: "font-size:0.8rem;margin-top:0.5rem;color:var(--ha-S500-contrast)"
} : {
  name: "kl4f2c",
  styles: "font-size:0.8rem;margin-top:0.5rem;color:var(--ha-S500-contrast)",
  toString: mr
});
function Ts({
  height: e,
  text: r
}) {
  const o = e / Ss / 2, n = e / 1.3, a = G(null), [s, c] = ne(n);
  return K(() => {
    (() => {
      if (a.current) {
        const l = a.current.getComputedTextLength();
        l > n && c((h) => h * (n / l)), a.current.style.opacity = "1";
      }
    })();
  }, [n, r]), /* @__PURE__ */ t("svg", { width: o, height: n, className: "vertical-text", children: /* @__PURE__ */ t("text", { ref: a, x: "0", y: "0", transform: `translate(${o / 2}, ${n / 2}) rotate(90)`, textAnchor: "middle", dominantBaseline: "middle", fill: "currentColor", fontSize: s, children: r }) });
}
function zs({
  schedules: e,
  svg: r,
  title: o = "Garbage Collection",
  description: n,
  className: a,
  cssStyles: s,
  key: c,
  ...i
}) {
  const l = Q((y) => y.globalComponentStyles), h = pe("sensor.date", {
    returnNullIfNotFound: !0
  }), d = oe(() => ({
    size: 45,
    color: "#484848",
    textColor: "rgba(0,0,0,0.6)",
    iconColor: "rgba(0,0,0,0.6)",
    ...r ?? {}
  }), [r]), g = oe(() => (h === null ? /* @__PURE__ */ new Date() : new Date(h.state)).getDay(), [h]), x = Math.floor((/* @__PURE__ */ new Date()).getDate() / 7), f = oe(() => ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], []), u = $((y, N) => {
    if (typeof y == "object" && typeof y.render == "function") return y.render(y, N);
    const k = typeof y == "string" ? d.size : y?.size ?? d.size, v = typeof y == "string" ? y : y?.color ?? d.color, S = typeof y == "string" ? d.textColor : y?.textColor ?? d.textColor, R = typeof y == "string" ? d.iconColor : y?.iconColor ?? d.iconColor, A = typeof y == "string" ? void 0 : y?.icon;
    return /* @__PURE__ */ w(Os, { className: "bin-group", textColor: S, iconColor: R, children: [
      typeof y != "string" && typeof y < "u" && typeof y.name == "string" && /* @__PURE__ */ t(Ts, { height: k, text: y.name }),
      typeof A == "string" && /* @__PURE__ */ t(we, { className: "icon bin-icon", icon: A, style: {
        fontSize: k / 2.7
      } }),
      /* @__PURE__ */ t(ks, { className: "garbage-bin", style: {
        color: v,
        width: k
      } })
    ] }, N);
  }, [d]), b = $((y) => y === 0 ? "Today" : y === 1 ? "Tomorrow" : `in ${y} days`, []), p = $((y, N) => {
    for (let k = 0; k < y.length; k++) {
      const v = (N + k) % y.length;
      if (y[v] !== null)
        return v;
    }
    return -1;
  }, []), _ = oe(() => e.flatMap((y) => {
    const k = (f.map((j) => j.toLowerCase()).indexOf(y.day.toLowerCase()) - g + 7) % 7, v = /* @__PURE__ */ new Date();
    v.setDate((/* @__PURE__ */ new Date()).getDate() + k);
    const S = y.weeks[x];
    let R = (x + 1) % y.weeks.length;
    y.frequency !== "weekly" && (R = p(y.weeks, x));
    const A = y.weeks[R], D = b(k);
    if (y.hideNextCollection || A === null)
      return [{
        schedule: y,
        timeUntilCollection: D,
        bins: S
      }];
    const m = new Date(v);
    let E;
    switch (y.frequency) {
      case "weekly":
        E = 7;
        break;
      case "fortnightly":
        E = 14;
        break;
      case "monthly":
        E = 28;
        break;
      default:
        E = 7;
    }
    m.setDate(v.getDate() + E);
    const T = k + E, M = b(T);
    return [{
      schedule: y,
      timeUntilCollection: D,
      bins: S
    }, {
      schedule: y,
      timeUntilCollection: M,
      bins: A
    }];
  }), [x, f, e, g, p, b]);
  return /* @__PURE__ */ t(Cs, { cssStyles: `
      ${l?.garbageCollectionCard ?? ""}
      ${s ?? ""}
    `, disableActiveState: !0, disableRipples: !0, disableScale: !0, className: `garbage-collection-card ${a ?? ""}`, ...i, children: /* @__PURE__ */ w(Ds, { children: [
    /* @__PURE__ */ w(ie, { alignItems: "flex-start", fullWidth: !0, children: [
      /* @__PURE__ */ t(Is, { className: "title", children: o }),
      typeof n < "u" && /* @__PURE__ */ t(As, { className: "description", children: n })
    ] }),
    /* @__PURE__ */ t(ee, { className: "row", fullWidth: !0, wrap: "nowrap", justifyContent: "space-between", style: {
      marginTop: "0.5rem"
    }, children: _.filter((y) => y.bins !== null).map((y, N) => /* @__PURE__ */ w(Rs, { className: "bin-box", children: [
      typeof y.schedule.title < "u" && /* @__PURE__ */ t("div", { className: "collection-title", children: y.schedule.title }),
      /* @__PURE__ */ t(ee, { className: "row", wrap: "nowrap", gap: "1rem", children: y.bins && y.bins.map((k, v) => u(k, v)) }),
      /* @__PURE__ */ t("div", { className: "collection-time", children: y.timeUntilCollection })
    ] }, N)) })
  ] }) }, c);
}
function Vh(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "GarbageCollectionCard"
  }), children: /* @__PURE__ */ t(zs, { ...r, ...e }) });
}
function $o() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Vs = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e1x6j6w51"
} : {
  target: "e1x6j6w51",
  label: "Card"
})(process.env.NODE_ENV === "production" ? {
  name: "1ll9bqd",
  styles: "cursor:default"
} : {
  name: "1ll9bqd",
  styles: "cursor:default",
  toString: $o
}), $s = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1x6j6w50"
} : {
  target: "e1x6j6w50",
  label: "Contents"
})(process.env.NODE_ENV === "production" ? {
  name: "lgify2",
  styles: "padding:1rem;height:100%;.primary-icon{color:var(--ha-A200);font-size:30px;}&:not(:disabled),&:not(.disabled){&:hover,&:active{.primary-icon{color:var(--ha-A400);}}}"
} : {
  name: "lgify2",
  styles: "padding:1rem;height:100%;.primary-icon{color:var(--ha-A200);font-size:30px;}&:not(:disabled),&:not(.disabled){&:hover,&:active{.primary-icon{color:var(--ha-A400);}}}",
  toString: $o
}), Ms = "hh:mm A", In = "dddd, MMMM DD YYYY", Ps = pi({});
function js({
  timeEntity: e,
  dateEntity: r,
  timeFormat: o,
  dateFormat: n,
  throttleTime: a = 1e3,
  hideDate: s = !1,
  hideIcon: c = !1,
  hideTime: i = !1,
  center: l = !1,
  icon: h,
  iconProps: d,
  className: g,
  children: x,
  disabled: f,
  onClick: u,
  cssStyles: b,
  key: p,
  ..._
}) {
  const [y, N] = ne(/* @__PURE__ */ new Date()), k = Q((F) => F.formatter), v = Q((F) => F.locale), S = Q((F) => F.config), R = v?.language, A = S?.time_zone, {
    formatAmPmSuffix: D,
    formatDateWeekday: m,
    formatDateMonth: E,
    formatDateYear: T,
    formatTime: M
  } = k, j = G(Date.now()), I = G(void 0), z = Q((F) => F.globalComponentStyles), V = pe(e ?? "unknown", {
    returnNullIfNotFound: !0
  }), O = pe(r ?? "unknown", {
    returnNullIfNotFound: !0
  }), W = oe(() => h || O?.attributes?.icon || "mdi:calendar", [h, O]), [P, re] = oe(() => {
    if (V && !o) {
      const X = V.state ?? "00:00", [te, ce] = X.split(":").map(Number), ue = /* @__PURE__ */ new Date();
      return ue.setHours(te, ce, 0, 0), [X, D(ue)];
    }
    const F = M(y), L = F.match(/^(.*?)(?:\s([AP]M))$/i);
    return L ? [L[1], L[2]] : [F, void 0];
  }, [V, o, y, M, D]), H = typeof u == "function", Y = $((F, L, X) => Ps(F, L, {
    locale: R,
    timezone: A,
    ...X
  }), [R, A]), U = oe(() => {
    if (V && !o)
      return /* @__PURE__ */ w(se, { children: [
        /* @__PURE__ */ t(Zt, { className: "time", children: P }),
        re && /* @__PURE__ */ t(kn, { className: "time-suffix", children: re })
      ] });
    if (!V && !o)
      return /* @__PURE__ */ w(se, { children: [
        /* @__PURE__ */ t(Zt, { className: "time", children: P }),
        re && /* @__PURE__ */ t(kn, { className: "time-suffix", children: re })
      ] });
    try {
      return /* @__PURE__ */ t(Zt, { className: "time", children: typeof o == "function" ? o(y, Y) : Y(y, o ?? Ms) });
    } catch (F) {
      return console.error("Time formatting error", F), /* @__PURE__ */ t(Zt, { className: "time", children: P });
    }
  }, [re, y, P, o, V, Y]), J = oe(() => {
    if (s) return null;
    try {
      if (O && !n) {
        const F = O.state.split("-").map(Number);
        if (F.length === 3) {
          const L = new Date(F[0], F[1] - 1, F[2]), X = L.getDate(), te = _n(X);
          return `${m(L)}, ${E(L)} ${X}${te} ${T(L)}`;
        }
      }
      if (!O && !n) {
        const F = y, L = F.getDate(), X = _n(L);
        return `${m(F)}, ${E(F)} ${L}${X} ${T(F)}`;
      }
      return typeof n == "function" ? n(y, Y) : Y(y, n ?? In);
    } catch (F) {
      return console.error("Date formatting error", F), Y(y, In);
    }
  }, [s, O, n, y, m, E, T, Y]), ae = $(() => {
    const F = Date.now(), L = F - j.current;
    L >= a && (N(/* @__PURE__ */ new Date()), j.current = F - L % a), I.current = requestAnimationFrame(ae);
  }, [a]), be = oe(() => !(V && !o && (O && !n)), [V, o, O, n]);
  return K(() => {
    if (be)
      return I.current = requestAnimationFrame(ae), () => {
        I.current && cancelAnimationFrame(I.current);
      };
  }, [be, ae]), /* @__PURE__ */ t(Vs, { cssStyles: `
        ${z?.timeCard ?? ""}
        ${b ?? ""}
      `, className: `${g ?? ""} time-card`, disableScale: f || !H, disableActiveState: _.disableActiveState ?? !H, disableRipples: _.disableRipples ?? !H, onClick: (F, L) => {
    H && V && u?.(V, L);
  }, ..._, children: /* @__PURE__ */ w($s, { children: [
    /* @__PURE__ */ w(ie, { className: "column", gap: "0.5rem", alignItems: l ? "center" : "flex-start", fullHeight: !0, wrap: "nowrap", children: [
      (!c || !i) && /* @__PURE__ */ w(ee, { className: "row", gap: "0.5rem", alignItems: "center", wrap: "nowrap", children: [
        !c && /* @__PURE__ */ t(we, { className: "icon primary-icon", icon: W, ...d ?? {} }),
        !i && U
      ] }),
      !s && /* @__PURE__ */ t(ee, { children: J })
    ] }),
    x && /* @__PURE__ */ t("div", { className: "children", children: x })
  ] }) }, p);
}
function Bs(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "TimeCard"
  }), children: /* @__PURE__ */ t(js, { ...r, ...e }) });
}
function Lt() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Fs = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "ewn90o04"
} : {
  target: "ewn90o04",
  label: "StyledAreaCard"
})(process.env.NODE_ENV === "production" ? {
  name: "ydyzro",
  styles: "aspect-ratio:16/9;background-color:transparent;&:hover,&:active{background-color:transparent!important;}height:var(--stretch,)"
} : {
  name: "ydyzro",
  styles: "aspect-ratio:16/9;background-color:transparent;&:hover,&:active{background-color:transparent!important;}height:var(--stretch,)",
  toString: Lt
}), Mo = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ewn90o03"
} : {
  target: "ewn90o03",
  label: "PictureCardFooter"
})(process.env.NODE_ENV === "production" ? {
  name: "1bejhbe",
  styles: "all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem"
} : {
  name: "1bejhbe",
  styles: "all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem",
  toString: Lt
}), Ls = /* @__PURE__ */ C(Mo, process.env.NODE_ENV === "production" ? {
  target: "ewn90o02"
} : {
  target: "ewn90o02",
  label: "NavBar"
})(process.env.NODE_ENV === "production" ? {
  name: "2gnka1",
  styles: "padding:0.95rem;color:var(--ha-S100-contrast);background-color:var(--ha-S50);inset:0 0 auto 0;z-index:calc(var(--ha-device-area-card-z-index) + 1);border-bottom:1px solid var(--ha-S200)"
} : {
  name: "2gnka1",
  styles: "padding:0.95rem;color:var(--ha-S100-contrast);background-color:var(--ha-S50);inset:0 0 auto 0;z-index:calc(var(--ha-device-area-card-z-index) + 1);border-bottom:1px solid var(--ha-S200)",
  toString: Lt
}), Ws = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ewn90o01"
} : {
  target: "ewn90o01",
  label: "FullScreen"
})("position:fixed;inset:0;left:var(--ha-area-card-expanded-offset);padding:0;margin:0;max-height:100svh;background:var(--ha-S100);z-index:var(--ha-device-area-card-z-index);display:flex;justify-content:center;align-items:stretch;transition:left var(--ha-transition-duration) var(--ha-easing);color:var(--ha-S50-contrast);", De(["xxs", "xs"], `
    left: 0;
  `), ";"), Hs = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ewn90o00"
} : {
  target: "ewn90o00",
  label: "ChildContainer"
})(process.env.NODE_ENV === "production" ? {
  name: "3jdts4",
  styles: "margin-top:5rem;display:flex;justify-content:flex-start;align-items:center;width:100%;overflow-y:auto;flex-direction:column"
} : {
  name: "3jdts4",
  styles: "margin-top:5rem;display:flex;justify-content:flex-start;align-items:center;width:100%;overflow-y:auto;flex-direction:column",
  toString: Lt
});
var qs = process.env.NODE_ENV === "production" ? {
  name: "12p7ws1",
  styles: ":root{--ha-hide-body-overflow-y:hidden;}"
} : {
  name: "1q4ll79-InternalAreaCard",
  styles: ":root{--ha-hide-body-overflow-y:hidden;};label:InternalAreaCard;",
  toString: Lt
};
function Us({
  hash: e,
  children: r,
  icon: o,
  title: n,
  image: a,
  className: s,
  preloadProps: c,
  onClick: i,
  disable: l = !1,
  id: h,
  cssStyles: d,
  key: g,
  ...x
}) {
  const f = dr(), u = h ?? f, {
    addRoute: b,
    getRoute: p
  } = Q.getState().helpers, _ = Q((m) => m.hash), y = Q((m) => m.globalComponentStyles), N = Q((m) => m.portalRoot), v = Q((m) => m.windowContext) ?? window, [S] = Co((m) => m.key === "Escape"), [R, A] = ne(!1), D = oe(() => p(e), [e, p, _]);
  return K(() => {
    D?.active && !R ? A(!0) : !D?.active && R && A(!1);
  }, [D, R]), K(() => {
    b({
      hash: e,
      icon: o || "mdi:info",
      name: n
    });
  }, [b, e, o, n]), K(() => {
    S && R && (location.hash = "");
  }, [S, R]), /* @__PURE__ */ w(se, { children: [
    R && ur(R === !0 && /* @__PURE__ */ w(Ws, { className: "full-screen", children: [
      /* @__PURE__ */ t(qr, { styles: qs }),
      /* @__PURE__ */ t(Ls, { className: "nav-bar", children: /* @__PURE__ */ w(ee, { gap: "0.5rem", justifyContent: "space-between", className: "row", children: [
        /* @__PURE__ */ w(ee, { gap: "0.5rem", className: "row", children: [
          o && /* @__PURE__ */ t(we, { className: "icon", icon: o }),
          n
        ] }),
        /* @__PURE__ */ t(fe, { title: B("close"), tooltipPlacement: "left", icon: "mdi:close", onClick: () => {
          location.hash = "";
        } })
      ] }) }),
      /* @__PURE__ */ t(Hs, { className: "child-container", children: r })
    ] }, `fullscreen-layout-${u}`), N ?? v.document.body, u),
    /* @__PURE__ */ t(Fs, { disableActiveState: !0, disableRipples: !0, id: `${u}-area-card`, className: `area-card ${s ?? ""}`, onClick: () => {
      l || (location.hash = e, i && i());
    }, cssStyles: `
          ${y.areaCard ?? ""}
          ${d ?? ""}
        `, ...x, children: /* @__PURE__ */ t(Gr, { ...c ?? {}, src: a, style: {
      width: "100%",
      height: "100%",
      position: "absolute"
    }, lazy: !0, children: /* @__PURE__ */ t(Mo, { className: "footer", children: /* @__PURE__ */ w(ee, { gap: "0.5rem", className: "row", children: [
      o && /* @__PURE__ */ t(we, { className: "icon", icon: o, style: {
        color: "var(--ha-500-contrast)"
      } }),
      n
    ] }) }) }) }, g)
  ] });
}
function $h(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "AreaCard"
  }), children: /* @__PURE__ */ t(Us, { ...r, ...e }) });
}
function Po() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Ys = /* @__PURE__ */ C(Io, process.env.NODE_ENV === "production" ? {
  target: "eb4h5nq1"
} : {
  target: "eb4h5nq1",
  label: "StyledVacuumCard"
})(process.env.NODE_ENV === "production" ? {
  name: "1p4572o",
  styles: ".footer{margin-top:0.5rem;}"
} : {
  name: "1p4572o",
  styles: ".footer{margin-top:0.5rem;}",
  toString: Po
}), Gs = /* @__PURE__ */ C(Oo, process.env.NODE_ENV === "production" ? {
  target: "eb4h5nq0"
} : {
  target: "eb4h5nq0",
  label: "StyledVacuumImage"
})(process.env.NODE_ENV === "production" ? {
  name: "1d3w5wq",
  styles: "width:100%"
} : {
  name: "1d3w5wq",
  styles: "width:100%",
  toString: Po
});
function Xs({
  entity: e,
  shortcuts: r,
  hideCurrentBatteryLevel: o,
  hideState: n = !1,
  hideUpdated: a = !1,
  hideToolbar: s = !1,
  className: c,
  cssStyles: i,
  serviceData: l,
  service: h,
  modalProps: d,
  customImage: g,
  locatingNode: x,
  ...f
}) {
  const [u, b] = ne(!1), p = Q((v) => v.globalComponentStyles), _ = pe(e), y = oe(() => u ? x ?? `${B("locate")}...` : _.attributes.status ?? _.state, [_.attributes.status, x, _.state, u]), N = $(() => {
    b(!0), setTimeout(() => {
      b(!1);
    }, 2e3);
  }, []), k = Do({
    entity: _,
    shortcuts: r,
    onLocate() {
      N();
    }
  });
  return /* @__PURE__ */ t(
    Ys,
    {
      className: `${c ?? ""} vacuum-card`,
      modalProps: {
        stateTitle: y,
        locatingNode: x,
        hideCurrentBatteryLevel: o,
        hideState: n,
        hideUpdated: a,
        hideToolbar: s,
        shortcuts: r,
        ...d
      },
      entity: e,
      service: h,
      serviceData: l,
      disableActiveState: !0,
      disableRipples: !0,
      hideToggle: !0,
      cssStyles: `
        ${p.vacuumCard ?? ""}
        ${i ?? ""}
      `,
      icon: /* @__PURE__ */ t(Gs, { src: g, className: _.state }),
      customRenderState: () => y,
      fabProps: {
        style: {
          padding: 0,
          backgroundColor: "none",
          width: "3rem",
          height: "3rem"
        }
      },
      features: k.map((v, S) => /* @__PURE__ */ t(pt, { iconProps: {
        color: v?.active ? "var(--ha-300)" : void 0
      }, ...v }, S)),
      ...f
    }
  );
}
function Mh(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "VacuumCard"
  }), children: /* @__PURE__ */ t(Xs, { ...r, ...e }) });
}
function Jr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Qs = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e1ndedhf2"
} : {
  target: "e1ndedhf2",
  label: "StyledPictureCard"
})(process.env.NODE_ENV === "production" ? {
  name: "1w0uscc",
  styles: "aspect-ratio:16/9"
} : {
  name: "1w0uscc",
  styles: "aspect-ratio:16/9",
  toString: Jr
}), Ks = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1ndedhf1"
} : {
  target: "e1ndedhf1",
  label: "Inner"
})(process.env.NODE_ENV === "production" ? {
  name: "1s8jpg3",
  styles: "flex-direction:column;align-items:stretch;justify-content:space-between"
} : {
  name: "1s8jpg3",
  styles: "flex-direction:column;align-items:stretch;justify-content:space-between",
  toString: Jr
}), Js = /* @__PURE__ */ C("h4", process.env.NODE_ENV === "production" ? {
  target: "e1ndedhf0"
} : {
  target: "e1ndedhf0",
  label: "PictureCardFooter"
})(process.env.NODE_ENV === "production" ? {
  name: "fn7q5o",
  styles: "all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem"
} : {
  name: "fn7q5o",
  styles: "all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem",
  toString: Jr
});
function Zs({
  title: e,
  key: r,
  image: o,
  icon: n,
  iconProps: a,
  className: s,
  preloadProps: c,
  children: i,
  ...l
}) {
  return /* @__PURE__ */ w(Qs, { disableActiveState: !0, disableScale: l.disableScale ?? typeof l.onClick > "u", disableRipples: l.disableRipples ?? typeof l.onClick > "u", className: `picture-card ${s ?? ""}`, ...l, children: [
    /* @__PURE__ */ t(Ks, { children: /* @__PURE__ */ t(Gr, { ...c ?? {}, src: o, style: {
      width: "100%",
      height: "100%",
      position: "absolute"
    }, lazy: !0, children: /* @__PURE__ */ t(Js, { className: "footer", children: /* @__PURE__ */ w(ee, { gap: "0.5rem", className: "row", children: [
      n && /* @__PURE__ */ t(we, { icon: n, className: "icon", ...a ?? {} }),
      e
    ] }) }) }) }),
    i && /* @__PURE__ */ t("div", { className: "children", children: i })
  ] }, r);
}
function Ph(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "PictureCard"
  }), children: /* @__PURE__ */ t(Zs, { ...r, ...e }) });
}
const ec = /* @__PURE__ */ C(({
  service: e,
  serviceData: r,
  key: o,
  ...n
}) => /* @__PURE__ */ t(
  Ce,
  {
    service: e,
    serviceData: r,
    ...n
  },
  o
), process.env.NODE_ENV === "production" ? {
  target: "eu9w9ut1"
} : {
  target: "eu9w9ut1",
  label: "StyledFabCard"
})("flex-shrink:0;border-radius:", (e) => e.borderRadius, ";color:", (e) => e.active ? "var(--ha-A400)" : "var(--ha-S500-contrast)", ";", (e) => e.size && `
    font-size: ${e.size * 0.37}px;
    height: ${e.size}px;
    ${e.hasChildren ? "" : `width: ${e.size}px;`}
  `, ">.ripple-parent{>.ripple-inner{height:100%;}}"), tc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eu9w9ut0"
} : {
  target: "eu9w9ut0",
  label: "Contents"
})("text-align:center;display:flex;flex-grow:0;flex-shrink:0;justify-content:center;align-items:center;height:100%;svg{", (e) => e.hasChildren ? "margin-right: 0.5rem;" : "", ";}", (e) => `
    ${e.hasChildren ? `padding: 0 ${e.size * 0.2}px;` : `
    `}
  `, ";");
function rc({
  title: e,
  tooltipPlacement: r,
  icon: o,
  iconProps: n,
  noIcon: a,
  size: s = 48,
  entity: c,
  active: i,
  children: l,
  disabled: h = !1,
  borderRadius: d,
  className: g,
  service: x,
  serviceData: f,
  cssStyles: u,
  key: b,
  ...p
}) {
  const _ = Q((M) => M.globalComponentStyles), y = pe(c || "unknown", {
    returnNullIfNotFound: !0
  }), N = c ? tt(c) : null, k = typeof o == "string" ? o : null, v = $t(N === null ? "unknown" : N, {
    ...n ?? {},
    fontSize: n?.fontSize ?? `${s / 1.7}px`
  }), S = typeof l < "u", R = S ? d ?? "10px" : d ?? "50%", A = typeof y?.state == "string" ? Ee(y.state) : !1, D = Mt(c || "unknown", {
    ...n ?? {},
    fontSize: n?.fontSize ?? `${s / 1.7}px`
  }), m = $e(k, {
    ...n ?? {},
    fontSize: n?.fontSize ?? `${s / 1.7}px`
  }), E = typeof i == "boolean" ? i : y === null ? !1 : y.state === je && !A, T = oe(() => e || (N !== null && c ? lo(c, y?.attributes?.device_class) : null), [e, N, y, c]);
  return /* @__PURE__ */ t(se, { children: /* @__PURE__ */ t(ye, { placement: r, title: `${e ?? y?.attributes?.friendly_name ?? T ?? ""}${y?.state ? ` - ${y.state}` : ""}`, children: /* @__PURE__ */ t(
    ec,
    {
      as: "button",
      title: T,
      service: x,
      serviceData: f,
      entity: c,
      className: `fab-card ${g ?? ""}`,
      disabled: h || A,
      active: E,
      size: s,
      borderRadius: R,
      hasChildren: S,
      disableColumns: !0,
      cssStyles: `
            ${_?.fabCard ?? ""}
            ${u ?? ""}
          `,
      ...p,
      children: /* @__PURE__ */ w(tc, { size: s, hasChildren: S, children: [
        a !== !0 && (m || D || v),
        S ? l : void 0
      ] })
    }
  ) }, b) });
}
function fe(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "FabCard"
  }), children: /* @__PURE__ */ t(rc, { ...e }) });
}
function jo() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const nc = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e4debe2"
} : {
  target: "e4debe2",
  label: "FamilyBaseCard"
})(process.env.NODE_ENV === "production" ? {
  name: "1ll9bqd",
  styles: "cursor:default"
} : {
  name: "1ll9bqd",
  styles: "cursor:default",
  toString: jo
}), oc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e4debe1"
} : {
  target: "e4debe1",
  label: "FamilyCardContent"
})("padding:1rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;.person-card{&.entity-count-2-plus{width:", ut(6), ";", De(["xxs", "xs"], `
        width: ${ut(12)};
      `), " ", De(["md", "lg", "xlg"], `
        width: ${ut(4)};
      `), ";}&.entity-count-1{width:", ut(12), ";}&.entity-count-2{width:", ut(6), ";", De(["xxs", "xs"], `
        width: ${ut(12)};
      `), ";}}"), ac = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e4debe0"
} : {
  target: "e4debe0",
  label: "Title"
})(process.env.NODE_ENV === "production" ? {
  name: "1o9bz4x",
  styles: "color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold"
} : {
  name: "1o9bz4x",
  styles: "color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold",
  toString: jo
});
function ic({
  title: e,
  key: r,
  cssStyles: o,
  children: n,
  className: a,
  ...s
}) {
  const c = Q((d) => d.globalComponentStyles), i = Re.count(n), l = i > 2 ? "2-plus" : i === 1 ? "1" : "2", h = Re.map(n, (d, g) => {
    if (Te(d)) {
      const u = ["xxs", "xs", "sm", "md", "lg", "xlg"].some((b) => typeof d.props[b] == "number") ? !1 : d.props.disableColumns ?? !0;
      return Ue(d, {
        key: d.key || g,
        className: u ? `entity-count-${l}` : "",
        disableColumns: u
      });
    }
    return d;
  });
  return /* @__PURE__ */ t(nc, { disableRipples: !0, disableScale: !0, disableActiveState: !0, className: `family-card ${a}`, cssStyles: `
      ${c?.familyCard ?? ""}
      ${o ?? ""}
    `, ...s, children: /* @__PURE__ */ w(oc, { children: [
    e && /* @__PURE__ */ t(ie, { alignItems: "flex-start", fullWidth: !0, children: /* @__PURE__ */ t(ac, { children: e }) }),
    /* @__PURE__ */ t(ee, { className: "row", fullWidth: !0, wrap: "wrap", justifyContent: "flex-start", gap: "0.5rem", style: {
      marginTop: "0.5rem"
    }, children: h })
  ] }) }, r);
}
function jh(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "FamilyCard"
  }), children: /* @__PURE__ */ t(ic, { ...r, ...e }) });
}
function gr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const sc = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e1qo3r524"
} : {
  target: "e1qo3r524",
  label: "PersonBaseCard"
})(process.env.NODE_ENV === "production" ? {
  name: "zx801r",
  styles: "background-color:var(--ha-S500);&:not(.disabled):hover,&:not(:disabled):hover{background-color:var(--ha-S600);}"
} : {
  name: "zx801r",
  styles: "background-color:var(--ha-S500);&:not(.disabled):hover,&:not(:disabled):hover{background-color:var(--ha-S600);}",
  toString: gr
}), cc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1qo3r523"
} : {
  target: "e1qo3r523",
  label: "PersonCardContent"
})(process.env.NODE_ENV === "production" ? {
  name: "2w5is8",
  styles: "display:flex;justify-content:center;align-items:center;flex-direction:column;gap:8px;border-radius:0.5rem;padding:0.5rem;.state-text{font-size:0.8rem;color:var(--ha-S500-contrast);}"
} : {
  name: "2w5is8",
  styles: "display:flex;justify-content:center;align-items:center;flex-direction:column;gap:8px;border-radius:0.5rem;padding:0.5rem;.state-text{font-size:0.8rem;color:var(--ha-S500-contrast);}",
  toString: gr
}), An = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1qo3r522"
} : {
  target: "e1qo3r522",
  label: "UserAvatarDiv"
})("position:relative;.avatar-image,.avatar-icon{border-radius:100%;width:", ({
  width: e
}) => e, ";height:", ({
  height: e
}) => e, ";border:", ({
  withBorder: e
}) => e ? "2px solid var(--ha-50)" : "none", ";box-shadow:", ({
  withBorder: e
}) => e ? "0 2px 2px rgba(0, 0, 0, 0.2)" : "none", ";background:var(--ha-S900);}.avatar-icon{display:flex;align-items:center;justify-content:center;}"), Tn = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1qo3r521"
} : {
  target: "e1qo3r521",
  label: "UserAvatarStateIcon"
})(process.env.NODE_ENV === "production" ? {
  name: "1qni5pz",
  styles: "position:absolute;background-color:var(--ha-50);border-radius:100%;top:calc(50% + 8px);right:calc(0% - 11px);display:flex;justify-content:center;align-items:center;height:28px;width:28px;border:3px solid var(--ha-S500)"
} : {
  name: "1qni5pz",
  styles: "position:absolute;background-color:var(--ha-50);border-radius:100%;top:calc(50% + 8px);right:calc(0% - 11px);display:flex;justify-content:center;align-items:center;height:28px;width:28px;border:3px solid var(--ha-S500)",
  toString: gr
}), lc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1qo3r520"
} : {
  target: "e1qo3r520",
  label: "NameAndState"
})(process.env.NODE_ENV === "production" ? {
  name: "k9o5p4",
  styles: "flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;text-align:center;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}"
} : {
  name: "k9o5p4",
  styles: "flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;text-align:center;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}",
  toString: gr
}), Bo = ({
  entity: e,
  iconSize: r = {
    width: "2.5rem",
    height: "2.5rem"
  },
  avatarSize: o = {
    width: "3.5rem",
    height: "3.5rem"
  },
  withBorder: n = !1,
  stateIcon: a
}) => {
  const s = pe(e), {
    joinHassUrl: c
  } = Q.getState().helpers, i = oe(() => {
    const d = s.attributes.entity_picture ? s.attributes.entity_picture : null;
    return d && d.startsWith("/") ? c(d) : d;
  }, [s.attributes.entity_picture, c]), l = $e(s.attributes.icon ?? "mdi:account", r), h = $e(a ?? "", {
    width: "16px",
    height: "16px",
    color: "var(--ha-S900)"
  });
  return i ? /* @__PURE__ */ w(An, { width: o.width, height: o.height, withBorder: n, children: [
    /* @__PURE__ */ t("img", { src: i, className: "avatar-image" }),
    a && h && /* @__PURE__ */ t(Tn, { children: h })
  ] }) : /* @__PURE__ */ w(An, { width: o.width, height: o.height, withBorder: n, children: [
    /* @__PURE__ */ t("div", { className: "avatar-icon", children: l }),
    a && h && /* @__PURE__ */ t(Tn, { children: h })
  ] });
};
function dc({
  entity: e,
  personStateMap: r = {},
  cssStyles: o,
  modalProps: n,
  className: a,
  ...s
}) {
  const c = Q((x) => x.globalComponentStyles), l = {
    ...{
      home: {
        text: B("home"),
        icon: "mdi:home"
      },
      not_home: {
        text: B("away"),
        icon: "mdi:walk"
      }
    },
    ...r
  }, h = pe(e), d = l[h.state]?.text ?? h.state, g = l[h.state]?.icon;
  return /* @__PURE__ */ t(sc, { entity: e, className: `person-card ${a}`, cssStyles: `
      ${c?.personCard ?? ""}
      ${o ?? ""}
    `, modalProps: {
    stateTitle: d,
    ...n
  }, ...s, children: /* @__PURE__ */ w(cc, { children: [
    /* @__PURE__ */ t(Bo, { entity: e, stateIcon: g }),
    /* @__PURE__ */ w(lc, { children: [
      h.attributes.friendly_name,
      /* @__PURE__ */ t("span", { children: d })
    ] })
  ] }) });
}
function Bh(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "PersonCard"
  }), children: /* @__PURE__ */ t(dc, { ...r, ...e }) });
}
function Zr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const uc = /* @__PURE__ */ C(Bs, process.env.NODE_ENV === "production" ? {
  target: "e1yomyvi7"
} : {
  target: "e1yomyvi7",
  label: "StyledTimeCard"
})("padding:0;background:transparent;width:100%;box-shadow:none;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:padding;border-radius:0;&:hover{box-shadow:none;background:transparent;}&:not(.disabled):not(:disabled):not(:focus):hover{box-shadow:none;background:transparent;color:var(--ha-S200-contrast) svg{color:var(--ha-S200-contrast);}}.time,.time-suffix{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:font-size;}", (e) => !e.open && `
    padding: 0.5rem 0;
    .time, .time-suffix {
      font-size: 0.7rem;
    }
  `, ";"), pc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1yomyvi6"
} : {
  target: "e1yomyvi6",
  label: "StyledSidebarCard"
})("background-color:var(--ha-S50);display:flex;flex-direction:column;align-items:center;overflow:hidden;height:100%;justify-content:flex-start;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left,max-width,width;transform-origin:left center;gap:1rem;>*{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:padding;}", De(["xxs", "xs"], `
    position: fixed;
    top: 0;
    bottom: 0;
    left: var(--ha-sidebar-offset);
    z-index: calc(var(--ha-device-area-card-z-index) - 1);
  `), ";"), Fo = /* @__PURE__ */ C("ul", process.env.NODE_ENV === "production" ? {
  target: "e1yomyvi5"
} : {
  target: "e1yomyvi5",
  label: "Menu"
})("padding:0;margin:1rem 0 0 0;width:100%;li{position:relative;list-style-type:none;a{position:relative;cursor:pointer;user-select:none;position:relative;cursor:pointer;user-select:none;height:3rem;text-decoration:none;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;align-items:center;justify-content:flex-start;flex-direction:row;padding:0.5rem 0rem 0.5rem 1rem;gap:1rem;&:hover{background:transparent;}svg{display:inline-block;margin:0;text-align:left;font-size:1.5rem;}>.menu-inner{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;}span{display:block;width:100%;font-size:0.7rem;font-weight:300;color:var(--ha-S100-contrast);}}}li{>a{color:var(--ha-S100-contrast);background-color:transparent;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color,background-color;svg{color:var(--ha-S100-contrast);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color;}}&:hover,&.active,&:focus{>a{color:var(--ha-A400);background-color:var(--ha-S100);svg{color:var(--ha-A400);}}}}", (e) => !e.open && `
    margin: 0;
    li {
      a {
        padding: 0;
        justify-content: center;
        svg {
          margin: 0;
        }
      }
    }
  `, ";"), hc = /* @__PURE__ */ C("hr", process.env.NODE_ENV === "production" ? {
  target: "e1yomyvi4"
} : {
  target: "e1yomyvi4",
  label: "Divider"
})(process.env.NODE_ENV === "production" ? {
  name: "k9qapc",
  styles: "width:100%;border:none;border-bottom:1px solid var(--ha-S200);margin:0"
} : {
  name: "k9qapc",
  styles: "width:100%;border:none;border-bottom:1px solid var(--ha-S200);margin:0",
  toString: Zr
}), fc = /* @__PURE__ */ C(Fo, process.env.NODE_ENV === "production" ? {
  target: "e1yomyvi3"
} : {
  target: "e1yomyvi3",
  label: "HamburgerMenu"
})("margin:0;li{a{justify-content:center;padding:0.7rem;svg{margin:0;}}}", De(["xxs", "xs"], `
    left: 0;
    top: 0;
    li {
      a {
        background-color: transparent;
      }
    }
  `), ";"), zn = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1yomyvi2"
} : {
  target: "e1yomyvi2",
  label: "Filler"
})(process.env.NODE_ENV === "production" ? {
  name: "w1atjl",
  styles: "width:100%;height:100%"
} : {
  name: "w1atjl",
  styles: "width:100%;height:100%",
  toString: Zr
}), mc = /* @__PURE__ */ C(ys, process.env.NODE_ENV === "production" ? {
  target: "e1yomyvi1"
} : {
  target: "e1yomyvi1",
  label: "StyledWeatherCard"
})(process.env.NODE_ENV === "production" ? {
  name: "1vz6grl",
  styles: "background:transparent;width:100%;padding:0;border-radius:0;box-shadow:none;&:hover{box-shadow:none;background:transparent;}"
} : {
  name: "1vz6grl",
  styles: "background:transparent;width:100%;padding:0;border-radius:0;box-shadow:none;&:hover{box-shadow:none;background:transparent;}",
  toString: Zr
}), gc = /* @__PURE__ */ C(mc, process.env.NODE_ENV === "production" ? {
  target: "e1yomyvi0"
} : {
  target: "e1yomyvi0",
  label: "WeatherCardCustom"
})("padding-bottom:1rem;border-radius:0;", (e) => !e.open && `
    div > * {
      display: none;
    }
    div > svg {
      display: flex;
    }
  `, ";");
function vc({
  weatherCardProps: e,
  timeCardProps: r = {
    hideIcon: !0,
    hideDate: !0,
    center: !0
  },
  startOpen: o = !0,
  collapsible: n = !0,
  menuItems: a = [],
  children: s,
  autoIncludeRoutes: c = !0,
  includeTimeCard: i = !0,
  className: l,
  cssStyles: h,
  sortSidebarMenuItems: d,
  key: g,
  style: x,
  ...f
}) {
  const [u, b] = ne(o), p = Q((k) => k.routes), _ = Q((k) => k.hash), y = Ft(), N = oe(() => {
    const k = p.map((S) => ({
      ...S,
      title: S.name,
      onClick() {
        S.active || (location.hash = "", setTimeout(() => {
          location.hash = S.hash;
        }, _ === "" ? 0 : 450));
      }
    })), v = c ? [...a, ...k] : a;
    return typeof d == "function" && v.sort(d), v;
  }, [p, d, c, a, _]);
  return /* @__PURE__ */ w(se, { children: [
    /* @__PURE__ */ t(qr, { styles: /* @__PURE__ */ Se(":root{--ha-area-card-expanded-offset:", y.xxs || y.xs ? "0rem" : u ? "var(--ha-device-sidebar-card-width-expanded, 19rem)" : "var(--ha-device-sidebar-card-width-collapsed, 5rem)", ";--ha-sidebar-max-width:", u ? "var(--ha-device-sidebar-card-width-expanded, 19rem)" : "var(--ha-device-sidebar-card-width-collapsed, 5rem)", ";--ha-sidebar-offset:", u ? "0" : "calc(var(--ha-sidebar-max-width) * -1)", ";}" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalSidebarCard;")) }),
    /* @__PURE__ */ t(pc, { css: /* @__PURE__ */ Se(h ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalSidebarCard;")), className: `${l ?? ""} sidebar-card`, style: {
      ...x,
      width: "100%",
      maxWidth: u ? "var(--ha-device-sidebar-card-width-expanded, 19rem)" : "var(--ha-device-sidebar-card-width-collapsed, 5rem)"
    }, ...f, children: /* @__PURE__ */ w(ie, { className: "column", wrap: "nowrap", fullHeight: !0, fullWidth: !0, alignItems: "flex-start", justifyContent: "space-between", children: [
      /* @__PURE__ */ w(zn, { className: "filler", children: [
        /* @__PURE__ */ w(ee, { className: "row", wrap: "nowrap", style: {
          padding: u ? "0.28rem 0" : "0",
          flexDirection: u ? "row" : "column"
        }, children: [
          i && /* @__PURE__ */ t(uc, { disableColumns: !0, className: "sidebar-time-card", open: u, ...r }, "sidebar-large-time-card"),
          n && /* @__PURE__ */ t(fc, { open: u, className: "hamburger-menu", style: {
            width: y.xxs || y.xs ? "auto" : u ? "40%" : "100%",
            position: y.xxs || y.xs ? "fixed" : "relative"
          }, children: /* @__PURE__ */ t("li", { onClick: (k) => {
            k.stopPropagation(), b(!u);
          }, children: /* @__PURE__ */ t("a", { style: {
            justifyContent: "center"
          }, children: /* @__PURE__ */ t(we, { className: "icon", icon: u ? "mdi:close" : "mdi:menu" }) }) }) }, "hamburger-menu-open")
        ] }),
        /* @__PURE__ */ t(hc, { className: "divider" }),
        /* @__PURE__ */ t(Fo, { open: u, className: "menu", children: N.map((k, v) => /* @__PURE__ */ t("li", { onClick: (S) => {
          S.stopPropagation(), k.onClick(S);
        }, className: k.active ? "active" : "inactive", children: /* @__PURE__ */ w("a", { children: [
          typeof k.icon == "string" ? /* @__PURE__ */ t(we, { className: "icon", icon: k.icon }) : k.icon,
          u && /* @__PURE__ */ w("div", { className: "menu-inner", children: [
            k.title,
            k.description && /* @__PURE__ */ t("span", { children: k.description })
          ] })
        ] }) }, v)) }),
        s && u && /* @__PURE__ */ t(zn, { className: "filler", children: s })
      ] }),
      e && /* @__PURE__ */ t("div", { className: "weather-wrapper", style: {
        width: "100%",
        padding: u ? "0 1rem 1rem" : "0"
      }, children: /* @__PURE__ */ t(gc, { disableColumns: !0, className: "weather-card-sidebar", open: u, ...e }) }, "sidebar-weather-large")
    ] }) }, g ?? "ha-sidebar-closed")
  ] });
}
function Fh(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "SidebarCard"
  }), children: /* @__PURE__ */ t(vc, { ...e }) });
}
function bc() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const yc = {
  auto: "full",
  cool: "end",
  dry: "full",
  fan_only: "full",
  heat: "start",
  heat_cool: "full",
  off: "full"
}, xc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "evn1rt0"
} : {
  target: "evn1rt0",
  label: "Wrapper"
})(process.env.NODE_ENV === "production" ? {
  name: "qmiylc",
  styles: "position:relative;width:320px;.container{position:relative;}.info *{margin:0;pointer-events:auto;}.label{width:60%;font-weight:500;text-align:center;align-items:center;justify-content:center;display:flex;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}.label span{white-space:nowrap;}.label ha-svg-icon{bottom:5%;}.label.disabled{color:#444;}.buttons{position:absolute;bottom:10px;left:0;right:0;margin:0 auto;gap:24px;display:flex;flex-direction:row;align-items:center;justify-content:center;}.info{position:absolute;inset:0px;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;font-size:16px;line-height:24px;letter-spacing:0.1px;}.dual{display:flex;flex-direction:row;gap:24px;}.dual button{outline:none;background:none;color:inherit;font-family:inherit;-webkit-tap-highlight-color:transparent;border:none;opacity:0.5;padding:0;transition:opacity 180ms ease-in-out,transform 180ms ease-in-out;cursor:pointer;}.dual button:focus-visible{transform:scale(1.1);}.dual button.selected{opacity:1;}.control-slider-circular{width:100%;}"
} : {
  name: "qmiylc",
  styles: "position:relative;width:320px;.container{position:relative;}.info *{margin:0;pointer-events:auto;}.label{width:60%;font-weight:500;text-align:center;align-items:center;justify-content:center;display:flex;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}.label span{white-space:nowrap;}.label ha-svg-icon{bottom:5%;}.label.disabled{color:#444;}.buttons{position:absolute;bottom:10px;left:0;right:0;margin:0 auto;gap:24px;display:flex;flex-direction:row;align-items:center;justify-content:center;}.info{position:absolute;inset:0px;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;font-size:16px;line-height:24px;letter-spacing:0.1px;}.dual{display:flex;flex-direction:row;gap:24px;}.dual button{outline:none;background:none;color:inherit;font-family:inherit;-webkit-tap-highlight-color:transparent;border:none;opacity:0.5;padding:0;transition:opacity 180ms ease-in-out,transform 180ms ease-in-out;cursor:pointer;}.dual button:focus-visible{transform:scale(1.1);}.dual button.selected{opacity:1;}.control-slider-circular{width:100%;}",
  toString: bc
});
function wc({
  entity: e,
  targetTempStep: r,
  showCurrent: o = !1
}) {
  const [n, a] = ne({}), [s, c] = ne("low"), i = pe(e), l = Q((E) => E.config), {
    min_temp: h,
    max_temp: d,
    target_temp_step: g,
    hvac_modes: x
  } = i.attributes, f = oe(() => r ?? g ?? (l?.unit_system.temperature === pr ? 1 : 0.5), [l?.unit_system.temperature, r, g]);
  K(() => {
    a({
      value: i.attributes.temperature,
      low: i.attributes.target_temp_low,
      high: i.attributes.target_temp_high
    });
  }, [i.attributes.temperature, i.attributes.target_temp_low, i.attributes.target_temp_high]);
  const u = xe(i.attributes, at.TARGET_TEMPERATURE), b = xe(i.attributes, at.TARGET_TEMPERATURE_RANGE), p = $((E) => {
    if (E === "high" || E === "low") {
      i.service.setTemperature({
        serviceData: {
          target_temp_low: n.low,
          target_temp_high: n.high
        }
      });
      return;
    }
    i.service.setTemperature({
      serviceData: {
        temperature: n.value
      }
    });
  }, [n, i]), _ = jt((E) => p(E), 1e3, {
    trailing: !0,
    leading: !0
  }), y = $((E, T) => {
    const M = E === "high" ? d : h;
    let j = n[E] ?? M;
    j += T, j = ct(j, h, d), E === "high" && n.low != null && (j = ct(j, n.low, d)), E === "low" && n.high != null && (j = ct(j, h, n.high)), a((I) => ({
      ...I,
      [E]: j
    })), _(E);
  }, [d, h, _, n]), N = $((E) => {
    c(E);
  }, []), k = $(() => {
    if (i.state === Ve)
      return /* @__PURE__ */ t("p", { className: "label disabled", children: i.state ?? "" });
    if (!u && !b)
      return /* @__PURE__ */ t("p", { className: "label", children: i.state ?? "" });
    const E = i.attributes.hvac_action, T = Le(i.attributes.hvac_action);
    return /* @__PURE__ */ t("p", { className: "label", children: E && E !== "off" && E !== "idle" ? T : B("target_temperature") });
  }, [i.attributes.hvac_action, i.state, u, b]), v = $((E, T) => {
    a((M) => ({
      ...M,
      [T]: E
    })), c(T), p(T);
  }, [p]), S = $((E, T) => {
    a((M) => ({
      ...M,
      [T]: E
    })), c(T);
  }, []), R = $((E, T) => {
    const M = Ie.heat, j = Ie.cool, I = T && Tr(i) ? E === "high" ? j[1] : M[1] : void 0;
    return /* @__PURE__ */ w("div", { className: "buttons", children: [
      /* @__PURE__ */ t(fe, { style: {
        borderColor: I
      }, icon: "mdi:minus", onClick: () => y(E, -f) }),
      /* @__PURE__ */ t(fe, { style: {
        borderColor: I
      }, icon: "mdi:plus", onClick: () => y(E, f) })
    ] });
  }, [y, f, i]), A = $((E) => {
    const T = f.toString().split(".")?.[1]?.length ?? 0, M = {
      maximumFractionDigits: T,
      minimumFractionDigits: T
    };
    return /* @__PURE__ */ t(_o, { value: E, unit: l?.unit_system.temperature, unitPosition: f === 1 ? "bottom" : "top", formatOptions: M });
  }, [f, l]), D = $((E) => !o || E == null ? /* @__PURE__ */ t("p", { className: "label", children: "" }) : uo(i.state) ? /* @__PURE__ */ t("p", { className: "label disabled", children: i.state ?? "" }) : /* @__PURE__ */ w("p", { className: "label current", children: [
    /* @__PURE__ */ t(we, { icon: "mdi:thermometer" }),
    /* @__PURE__ */ t("span", { children: E ?? i.attributes.current_temperature })
  ] }), [i.state, i.attributes.current_temperature, o]);
  function m() {
    const E = i.state, T = i.attributes.hvac_action, M = Tr(i), j = Ie[E], I = M ? Ie.heat[1] : Ie.off, z = M ? Ie.cool[1] : Ie.off;
    let V;
    if (T && T !== "idle" && T !== "off" && M && (V = Ie[E] ?? Ie[qa[T]]), u && n.value != null && i.state !== Ve) {
      const O = x.filter((P) => ["heat", "cool", "heat_cool"].includes(P)), W = yc[O.length === 1 && ["off", "auto"].includes(E) ? O[1] : E];
      return /* @__PURE__ */ w("div", { className: "container", children: [
        /* @__PURE__ */ t(Rt, { inactive: !M, mode: W, value: n.value, min: h, max: d, step: f, current: i.attributes.current_temperature, onChange: (P, re) => {
          S(P, re);
        }, onChangeApplied: (P, re) => {
          v(P, re);
        }, colors: {
          color: j ? j[1] : void 0,
          lowColor: I ? I[1] : void 0,
          highColor: z ? z[1] : void 0
        } }),
        /* @__PURE__ */ w("div", { className: "info", children: [
          k(),
          A(n.value),
          D(i.attributes.current_temperature)
        ] }),
        R("value")
      ] });
    }
    return b && n.low != null && n.high != null && i.state !== Ve ? /* @__PURE__ */ w("div", { className: "container", children: [
      /* @__PURE__ */ t(Rt, { inactive: !M, dual: !0, low: n.low, high: n.high, min: h, max: d, step: f, current: i.attributes.current_temperature, onChange: (O, W) => {
        S(O, W);
      }, onChangeApplied: (O, W) => {
        v(O, W);
      }, colors: {
        lowColor: I ? I[1] : void 0,
        highColor: z ? z[1] : void 0,
        color: V ? V[1] : void 0
      } }),
      /* @__PURE__ */ w("div", { className: "info", children: [
        k(),
        /* @__PURE__ */ w("div", { className: "dual", children: [
          /* @__PURE__ */ t("button", { onClick: () => N("low"), className: `${s === "low" ? "selected" : ""}`, children: A(n.low) }),
          /* @__PURE__ */ t("button", { onClick: () => N("high"), className: `${s === "high" ? "selected" : ""}`, children: A(n.high) })
        ] }),
        D(i.attributes.current_temperature)
      ] }),
      R(s, !0)
    ] }) : /* @__PURE__ */ w("div", { className: "container", children: [
      /* @__PURE__ */ t(Rt, { mode: "full", current: i.attributes.current_temperature, min: h, max: d, step: f, readonly: !0, disabled: !M }),
      /* @__PURE__ */ w("div", { className: "info", children: [
        k(),
        D(i.attributes.current_temperature)
      ] })
    ] });
  }
  return /* @__PURE__ */ t(xc, { children: m() });
}
function Nc({
  entity: e,
  targetTempStep: r,
  showCurrent: o = !1
}) {
  const n = pe(e), [a, s] = ne(n.attributes.humidity ?? null), c = Q((D) => D.config), {
    target_temp_step: i,
    min_humidity: l = 0,
    max_humidity: h = 100
  } = n.attributes, d = oe(() => r ?? i ?? (c?.unit_system.temperature === pr ? 1 : 0.5), [c?.unit_system.temperature, r, i]);
  K(() => {
    s(n.attributes.humidity ?? null);
  }, [n.attributes.humidity]);
  const g = $((D) => {
    D && n.service.setHumidity({
      serviceData: {
        humidity: D
      }
    });
  }, [n.service]), x = jt((D) => g(D), 1e3, {
    leading: !0,
    trailing: !0
  }), f = $((D) => {
    isNaN(D) || (s(D), g(D));
  }, [g]), u = $((D) => {
    isNaN(D) || s(D);
  }, []), b = $((D) => {
    let m = a ?? l;
    m += D, m = ct(m, l, h), s(m), x(m);
  }, [x, h, l, a]), p = $(() => n.state === Ve ? /* @__PURE__ */ t("p", { className: "label disabled", children: n.state ?? Ve }) : /* @__PURE__ */ t("p", { className: "label", children: "Target" }), [n.state]), _ = $(() => /* @__PURE__ */ w("div", { className: "buttons", children: [
    /* @__PURE__ */ t(fe, { icon: "mdi:minus", onClick: () => b(-d) }),
    /* @__PURE__ */ t(fe, { icon: "mdi:plus", onClick: () => b(d) })
  ] }), [b, d]), y = $((D) => /* @__PURE__ */ t(_o, { value: D, unit: "%", unitPosition: "bottom", formatOptions: {
    maximumFractionDigits: 0
  } }), []), N = $((D) => !o || D == null ? /* @__PURE__ */ t("p", { className: "label", children: "" }) : /* @__PURE__ */ w("p", { className: "label", children: [
    /* @__PURE__ */ t(we, { icon: "mdi:water-percent" }),
    /* @__PURE__ */ t("span", { children: n.attributes.current_humidity ?? D })
  ] }), [n.attributes.current_humidity, o]), k = xe(n.attributes, at.TARGET_HUMIDITY), v = Tr(n), S = v ? Ie.cool[1] : Ie.off[1], R = a, A = n.attributes.current_humidity;
  return k && R != null && n.state !== Ve ? /* @__PURE__ */ w("div", { className: "container", children: [
    /* @__PURE__ */ t(Rt, { inactive: !v, value: a ?? 0, min: l, max: h, step: d, current: A, onChangeApplied: f, onChange: u, colors: {
      color: S
    } }),
    /* @__PURE__ */ w("div", { className: "info", children: [
      p(),
      " ",
      y(R),
      N(n.attributes.current_humidity)
    ] }),
    _()
  ] }) : /* @__PURE__ */ w("div", { className: "container${containerSizeClass}", children: [
    /* @__PURE__ */ t(Rt, { current: n.attributes.current_humidity, min: l, max: h, step: d, disabled: !0 }),
    /* @__PURE__ */ w("div", { className: "info", children: [
      p(),
      N(n.attributes.current_humidity)
    ] })
  ] });
}
function Ec() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const _c = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1qwa2hl0"
} : {
  target: "e1qwa2hl0",
  label: "Wrapper"
})(process.env.NODE_ENV === "production" ? {
  name: "hs0z6",
  styles: "color:var(--ha-500-contrast);width:100%;.controls{display:flex;flex-direction:column;justify-content:center;align-items:center;}.controls-scroll{display:flex;flex-direction:row;justify-content:flex-start;gap:24px;padding:0 24px;}"
} : {
  name: "hs0z6",
  styles: "color:var(--ha-500-contrast);width:100%;.controls{display:flex;flex-direction:column;justify-content:center;align-items:center;}.controls-scroll{display:flex;flex-direction:row;justify-content:flex-start;gap:24px;padding:0 24px;}",
  toString: Ec
});
function kc({
  entity: e,
  hvacModes: r,
  hvacModeLabels: o,
  hideCurrentTemperature: n,
  hideHvacModes: a,
  hideSwingModes: s,
  hideFanModes: c,
  hidePresetModes: i,
  entityStateChanged: l,
  cssStyles: h,
  className: d,
  targetTempStep: g,
  mainControl: x = "temperature",
  ...f
}) {
  const [u, b] = ne(x), p = pe(e), _ = p.state === We, {
    hvac_action: y,
    preset_mode: N,
    fan_mode: k
  } = p.attributes, v = p.attributes.fan_modes, S = p.attributes.preset_modes, R = p.attributes.swing_modes, A = r ?? p.attributes.hvac_modes, D = Q((P) => P.config), m = xe(p.attributes, at.TARGET_HUMIDITY), E = xe(p.attributes, at.FAN_MODE), T = xe(p.attributes, at.PRESET_MODE), M = xe(p.attributes, at.SWING_MODE);
  K(() => {
    if (l)
      return l(_ ? "Off" : y ?? "unknown");
  }, [y, l, _]), K(() => {
    b(x);
  }, [x]);
  const {
    target_temp_step: j
  } = p.attributes, I = oe(() => g ?? j ?? (D?.unit_system.temperature === pr ? 1 : 0.5), [D?.unit_system.temperature, g, j]), z = $((P) => {
    p.service.setFanMode({
      serviceData: {
        fan_mode: P
      }
    });
  }, [p.service]), V = $((P) => {
    p.service.setHvacMode({
      serviceData: {
        hvac_mode: P
      }
    });
  }, [p.service]), O = $((P) => {
    p.service.setSwingMode({
      serviceData: {
        swing_mode: P
      }
    });
  }, [p.service]), W = $((P) => {
    P && p.service.setPresetMode({
      serviceData: {
        preset_mode: P
      }
    });
  }, [p.service]);
  return /* @__PURE__ */ t(_c, { ...f, className: `climate-card-controls ${d}`, css: /* @__PURE__ */ Se(h ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalClimateControls;")), children: /* @__PURE__ */ w("div", { className: "controls", children: [
    u === "temperature" ? /* @__PURE__ */ t(wc, { targetTempStep: I, entity: e, showCurrent: !n }) : null,
    u === "humidity" ? /* @__PURE__ */ t(Nc, { targetTempStep: I, entity: e, showCurrent: !n }) : null,
    m ? /* @__PURE__ */ w(nt, { cssStyles: `
              margin-bottom: 12px;
            `, children: [
      /* @__PURE__ */ t(Ae, { active: u === "temperature", disabled: p.state === Ve, title: B("temperature"), icon: "mdi:thermometer", onClick: () => b("temperature") }),
      /* @__PURE__ */ t(Ae, { active: u === "humidity", disabled: p.state === Ve, title: B("humidity"), onClick: () => b("humidity"), icon: "mdi:water-percent" })
    ] }) : null,
    /* @__PURE__ */ w("div", { className: "controls-scroll", children: [
      A && !a && /* @__PURE__ */ t(Dt, { placement: "top", items: A.concat().sort(Ua).map((P) => ({
        active: p.state === P,
        icon: vn(P),
        label: o?.[P] ?? Le(P),
        onClick: () => {
          V(P);
        }
      })), children: /* @__PURE__ */ t(fe, { icon: vn(p.state), disabled: p.state === Ve, title: Le(p.state) }) }),
      T && !i && S && /* @__PURE__ */ t(Dt, { placement: "top", items: S.map((P) => ({
        active: N === P,
        icon: bn(P),
        label: Le(P),
        onClick: () => {
          W(P);
        }
      })), children: /* @__PURE__ */ t(fe, { icon: bn(N), disabled: p.state === Ve, title: Le(p.attributes.preset_mode) }) }),
      E && !c && v && /* @__PURE__ */ t(Dt, { placement: "top", items: v.map((P) => ({
        active: p.attributes.fan_mode === P,
        icon: yn(P),
        label: Le(P),
        onClick: () => {
          z(P);
        }
      })), children: /* @__PURE__ */ t(fe, { icon: yn(k), disabled: p.state === Ve, title: Le(p.attributes.fan_mode) }) }),
      M && !s && R && /* @__PURE__ */ t(Dt, { placement: "top", items: R.map((P) => ({
        active: p.attributes.swing_mode === P,
        icon: xn(P),
        label: Le(P),
        onClick: () => {
          O(P);
        }
      })), children: /* @__PURE__ */ t(fe, { icon: xn(p.attributes.swing_mode), disabled: p.state === Ve, title: Le(p.attributes.swing_mode) }) })
    ] })
  ] }) });
}
function Lh(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ClimateControls"
  }), children: /* @__PURE__ */ t(kc, { ...e }) });
}
const Sc = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACKmSURBVHgBzV0NzCZVdT7nzrwvy6IICCygUFepqARQEKIIyp8ogugSay0qaooVm5rW1CBWsdtYYmONGks1UWtEbVpDoxZFqYiu/EQRIcYUI4qiwb8CIsiyu987M/f0/pxz77l35vvYX2DIMDN35p3vnec55znnnnvnXYRH8bIO/vD4eTs/BhCevsqYg1tDBzaNPWRucE1rcJ+mocfMEWYNIrQtLFrEjXOke9y5384N3Nni8OvG4C9m1Ny6enV7yytvxY3wKFsQHkXLcQ7wx8LsrBnQS2ZontsaeMKsAdM24FCOa4u8b+K+u4b3Me4jt8s53nfX9O6a21ug7zUwXLG0z+5ffuW3cTM8wssjTsDx8MD+PcxePQc4bwZwhAOrCcAp0Gd83DYJzAS6EJEIQQGdIilyzOfdLaRtyXnKjW7/P9ul+z97wm37PQCPwPKIEPAMuH+fBmanNtC83lnkixzwTQLWg9yWwKd9k61aW73/7NyDG4DNwCfwQXmFHJu8nSH+oQX82ryFfzvyWe01+DHs4GFaHlYC1sLGNQ70s9zDXuQe/lAHPGjgZ65xzpYeiDB87Lfa0hn8+cjqFcC6DcbnZF9/LhKIN7vY8sE9cP75gx8GiXpYCDgc6DEbYenNDq8L3EM/WR5cA+9XD3wiwKjzuIwHgD/GeMzyUhNRe0C4Rh37/WZ8Dbn2Hzam+cDBi+YzePOu84hdSsB6IPMJ2LzOyfrFDdBRor8SSFsGfs7bBLhRHqCAnzurb4SMyvJnFegNKqBhAmhQ10JNQCJ1cH/qOsDhkgOu3/3rsAuWXUbAQfOlp5mO3u8k+Uz/R/xDNgr4AvyJgJs8IAVcTwZmoGsSYELzIVt5CyoAQ+kJiYD0OUyfN2gBbG8R+8v6dtOFB2046B7YiYuBnbysX0/mj/ZYenXb0HVmDmca9xSm4dWlOma3uDa8DW2yzuK2mcXV8FofhzZ/3zZuwyrXtXyNtDfVtfxdwta3m3zcOAsxjuTwXX27IWeijgBjDeHwhqZvv/ObE3/zAtiJy071gEMPpT2HB7d8xA7wp2ix9d89rIN/hviQYvk66E5lO1n7fapJcVsF2xmuoPmQpUfOBUun0trFG4LVQ/YMvzXgvjQ5+afeHfVxSz0RLN5n2i3/uP+Gw3e4Y7fTCFh72NKRsLCXI+FT/fdGNp6wZQK8u7WNIqBRBHAMmCfZwSIGzKpOVjiGSnZgeSLCSuWxSM/Mg09lm4tZDuwhEpDAz/sI3ZVOl95ywLVPuwN2YNkpBBx6xIMvc+HqE2BxX/+9Pejeez0R4sXI+xIH5jrXbxnoRiw+k9Eq8FOnSwdfKDOa2rLTlpTWJyKwJEWRgAH8Xq0dE5DbEfpfWtv9yQE3HPMd2M5lhwl4yrGb3+gk8v1oaU/UoFP2giyl7AUme4F4wJzBD6A3Y8uflWWFMQEwEWB52xBfI2ATyw1VhDhx8aQ0RAFgEvlJBPTsFYU33I1Nd97+G46/CrZj2SECDjtxywVOXj4arB6U5LAHSJvRnsCWKFY/TxkQlqCbWpImrH+CgKT7mgjK+u/lJsWCEQEQwEeymQDblZ5geQu5HanvOrPlzCd867SrYRuX7SbgGac8eIH7uh8NVq8tnrIHpK3Nx7IvgXYeVkxBdz6RghaeoFNPJmCUegqoKNKjNJ6UHFX7bfiONgFLHmwhwPYTkpS3To56Q8OL973u9Gu2AcbtI+DwMxevw4E+FSy8sH7KVg8KdE0CxwOJBbs1nOV4D2ge2vrnZkxArf8BZMiZjQa/VWAXqz9vOfAK2A78QELwhCG1lUQsVLAeuoa2nLHvdeu2moRtJuCIdQ++zNj2087q90zgQy09xIBjIEIIMDomkLL4pkxH5xUBugIaLN5ksOdYWb4GHiakJuyTIwNHJATpqa3eek/oFCnKA6z2BPYa6O6iYTjlwBtecevW4LlNBDzrNYujYEE3uN09RHqSpVckZBmiSAJ7hbGYPCFYagCfcgyoAvBc13+qAOxBnRfyg9NpZ0VAo7YzytpPNoOeiBASxPrtUILPhPh4gRI3oL/DGnvcQRvOfche81YTcOxf0gF24+KrLst5prb8lPFABNvBy2BT9AAtQzD2hBbLYJzTUUUETqeiUXqQ6zmUAyxMA69XIWHG+2gHtvYx+IUXjOJCV8WHLpIFw5VrzE9fjhvW9yvh2sLWLERozl+8F2cO/HCsrB6y5hvA1G4U+CgPmbIMBxTHjHCdlAdM3oZ9k/d9zEjbtEbADcZA27D+h7qTrFSu8p3CcTIGSl12dFvyPcfUjbceTHf3Ibb7fkDoIcd2sJzm2XiOwvmQGZ3xf/aJf+8OLl4J2q3ygOMvWLzWIn066T0ouYEy7UyWTtW+hVE8kP3UOWuUN0ylo6kfgNzbJV+/H/d4YcIDbLb6lsGP+xRBHDpl6UO29qFLVp+yoqEvAnW8flH1G4JsbSTozzzo2r+6drsJOO5tm9fOenOLe9a9QIMPVaYDyxBA0rPMJDSUs6JGB+RWd8oy8DkOYAZd9wmg7HylnB6yxIwkiAkwDnzyACqgBWCqCPDthUQNKjA7AnI80Olp95NNe9Nxa7/41vum8F1Zglxlc9Wm/kMws3t5dFHpvQY7yQ5Ulg/Z3U29gvIEy3IhVUmjtkmKMMmOr1KK5Hj5CaSCFNDU35WtHX+HKD9uZ7BOdry8eC9Q0jOI/HA1EeI+JplhGfLkiWQFKWJpCiWLcO0fr/p99w7X8PYpiFf0gOdfvOlcY5t/R3VhDrjZC4w6brQHQAahkKBKi1HkwVRBuOExAAOjQZhRLxhUNkTTAbiprD9o/7CoLF6se4hyNLClD1mGcNDe0S2fMXE/wdWVOkvDCQde967vbjUBJ/0rPaa5Z3G92z0KlNXX4EtpAScsL+3DWJKKOKC8IGdCUpogliBMOf+oRwzT+h8Bx1jj4W0En+s9QwRRZIVEbhLgfJ6vy20cKwYFvCKjJKATWbrigFNgHa5fbzXOy0pQu3Hpze6Jjxx1tmCs94XlY2ntjT4HE1JAZZkifD4MjHBGhDFL8mCbURbEK+gVJ7If5LiDSY6CVFRyg7xPwDKCKtthCRJpQbdPlKUGzBCvRZYpVFIUM6Oz7/nGcJbbuQIeygNOvZQe32xZ3OSAWYshs1/OA0hJEGbJ8e384KVXRO0uwIeYmobPs1dEq0euE0ExKD81KJMLcKofYPO2zn5CyaGy+NL6xerF8vWxCsiDsvyhkiHbTfSWh2+sWTWcjV97/4MresCqoTvXznBtDXxh/WGLI5mJ+1jof5OkB8sYkc5hEZTDdXW/AKHoE7SIyQNa5QFafhoqg3DDcTKmjWzhHHhD/j+oPL+wXhstHnQ/YOCer/IAbgd0cQL7eD3q+3Wn3LV5OMHt/M+yHvDaT9Me9z24uNl1lw5LwZfG4BdZDyyTgUCWHy1FmRAYB2VOT1M9qC37AaEPUKWgxcA71TGAvcEKAVYFW7f2XT6uLD9ZeD/tFclzBp2uLlJ6Gs5R7CNIPHAB+fObzMZXr93wqS2THnD/YvFSnOFhRtJOVKmn0vJABJb6roloaHzcQAl8A8ukqNJfUOmojwuNTz9XiAHp76h7l9ZPQftx4N4uewH6jMcPrhS6zVruAWz52KeVaVDGVlteQzo65JQ23Dd7k/s7L3ff5wh3cNMkAWaOfz6ZdsJEAEZIw4xFyglQlgIqzygCs5YLgDI7ksAbwIcwY0GXI0wdhCtSdbkhlsEjAcQlhxhwRSIogOYroqTyeGh43/B+Dbi3ejOMScBBEaHuB72ZA64TAgoJWvd52t9s6e7EmPFFQmQrXsAPjBPSMyk7WFt/TAHjeY4hIThDDtxEyQukH1CUJ1QgnqsYUNT9Jf3kzMdLD6ger5YXGlRQTXKjpKfXUuSu61X/oO8qGVL9Bl+Ys5Ke6rR0uHfNyU/ez6ekhQfMaHG+e6K5MBMyIKTCC6JlYqH/EUxKBTktCW3lGa1co2UiESHWj4UXpGBcBeLcE8ayCCf3snzfYOQUCCBJO3Ww5cHsIDGNyI2N+z7YNl56bLZ0ozzBTHhCsP5eBXVuo5SS7nPXN2891e1cXRBgZuYcCbgAOdPRGZDEhgw6FtZslMU3Kka0ipApKarjQREbvJXrEoVkPwarPkApPaL/aDjDsbnaGbIaLjVo4BNglkE2ObOJAPM2lSCGWMrQ4GOf23k/naMoTy6WnFcQcO6X79sbG3gmcOAd9X4RyvKDsjwtQU21P1ppAjCo9Btg1EM2BQEY/74OxFXgNUXaKWkmQSwtx85WCL5UdqwCWUH7xQtiZwwbbvf3Mgrw5AEZ+BQDQjoq5W0mD3v+e/QiABWEm1Wrz2GjjpkPTHS+EMoUdALwURsH6RbGQVkT0RKUGZLsS0aEORj7VU8prwnUHoA25vrB6g1LkFinSI3IiUhO8Ig+l5YNW72J0hKB7yPossW+AF7ICB4AYYCGwY/Hbuhyv7tPPv2YTMDMvCSYPWT5AQX8KP+HbKkCglnBA1b2CoTxQErsHQsJYWugGKQxyxAgw51mkKyH2AOkmhmtWrKamF4y8DrbMSxZwQqEhBjMoxcICUOWKiVNwQOkLBHAt0VK6u58aiIAZ/Zo9EhT1nlQej9JgNL4AuSUnua6jH9lqNHBkj/bjsiAXNOpYoIEYVP0iMcEtCw96D7otT9avlg9Aw2qnpNWldsbBrER6bDZAwx34jTQvuerLD8F3nDc5f2YigLHmRcFAt78A9q7W+oPSbm/XjGmhciZD9KU/FDIjEbxQOfogMt7AKggTWV8aFX/ILSbWLaOBCAPR0KV/Xj5YYv3FtyzhheSwxZuYgD2Y8Ikx2lrM9CGr6k0Xkig4rgvZCgSomVIOmXdEYGAAftjzQxN0QGDHHz9GK4OxAZrEnBSZrY2MLeKsJbG3lDUk6RzJp0yGBMQE5o80CKyE3u2VsmODKqwy4jOC3AsO9GD2PKlXTpaRrKrmoSUckKZilqVktr9AgEt0NNphiPrBxjLj95vmJRa/0deQONrUruSEC0n0l+QtFW2gQSWodbAKAOK0uMDLzH4bPFqFEs0P+XuepWp3DiUq/RqRX5E/0FZeyo7VNavsyDo83m3DQTgKjwEqbJ+VQOaIqGpSEh9AFiekLF0yedxeS8hJVHKO1oOwvK2Y658UiwxyAwHDq5ApdQA1nKTt6Lz6DtTRslK0v5o1UWej0MpS8n6/dopT1Ae4dZIQENPMMgeIH0ACcYAy1dCNahCAkx5B07LUgrWrP8TJLTVNgX9lIZi7vz5WOUzHx5oiQHX5qyHssyE3q2kj6aUlRhQh5y/1yCLlo8svi/3CzLUfagioJ3jExPw7AbF4DvHAYOUtqFcgBOSo3rHpvKOKU/QkmRgXNuXbW7HVDuSgfrkATy/R3Q/WL3N8hItugQ7gQ914Kwzmy62Qd3WJeDDOVAyI9Yv11J9jglwJYg1Hv1c/4kEgLJ8ZEuOgGIuSWAtNTjtJTgtQ0XqWpzjEgdSAj57Aeb4Ip/z2Cfd5wBrYxoZOmOcihadKtQWPIwtWAMIEyRBJTU4terrqmDsPDMQ0Mzg8cA1HwAY9YKxAnEK+NqaGyUtzXLAJ+/AkbwlgHX6qqy9RSVF/jvJ7LYCfMua32cNl84RA4vOMtP5cE2n9kWvlRWPLHtCfpSFl/s1aUyAK1CvFotPJFSdsCxFmYw6MNcgFrEDdRuOzjcTUjUqfWBJdhwNwzS/h1JKGS29kBCjtborLT4BVwEMlfTAkO83CrAiPxr0qfuLF8ROX/SANozoLWv9NbioA64GKQVunCahAhMnSKr/Xu19SQY51oR3EvzMZrC5JsNAjPS4kJsOSovt8vkEag2u0nmsr+smSFR/N+b9oEfckgdE14WUAYHeKmIKkhDGkoXja6FqK+6D1bUQyQttSKMz8hnga8KoVnibkV8rkiKQzSv5DhmPhMU1tnlrCb3jIX4G5VpfvvDneCtDdPFY7fNcmnwd/w39eijIaiHNstNtINVQ7JfcQ+w+QkqRUPERWogvIj5DY7xGC01u5T4xFaDqr6VHwfi1/ZmBrR8kafDdXysdrUiKfJDUX0P1LcNk+nCL/Bf93wglsVDA4+uEdG6vrSm2YyjXAO9r3cZB2iFPL7LxmbkYt9joLti9eOIVAUQFO0IJfelG5aNT+iwoKEhdKRAttwoBHG7dQxuWxZjbewJIrD3k/ixRlqLshhtRIikcA1/Dr1gRGzCfKp7Ep+EU+kmUzscvnklPn00Px+2afoaojZ/tfudI2y/hnhgeW6JAj6pNfb0RYJq0khANvrZNSt/ZImaD8SGw+DrxwKekFqMcIZeNMQ2eR1kI4HMRLgBvGWwBjf9eAM63t8ocrPJ1IY+/b2zTT5f/p68vrLkCIHoA9b9xf/1p9TXC0jLOMLonVKDWxxroaM1xHLm2cB9cA6hAxZSo4NXhO1n2gia3u2sao0arpIPFqWgsupXAk6XsDXwuxA7+8sHKW0pAJw8CyhZvobR8JiR7jkaIKqKYAJeu3SlBoViW0X8Npv4TJfBYeUG+i0hOJoQU+FlmstToL0/c2/a/5GAjAf5hfe/cX6NGtYBnQoRhRRtL0lqikOQ4Axqtnz3GMgkFuJk0aU/Pl67LT5mPM0BatKMEwdJvBe8IU63rpedgAfI4CIvn+aBTW7eklXVbuY1zSyXoCvg9g49BnjwBJnlI9BL/c2XKC9ywYrT+SEbRQSNt8UKGEKFlC/K1Kp5A1Z6CvqDi9xvI5i7HfOi+frgmEGCp+7kU46ZAn5Kg2gsISrBpGdkriBiRRCrLIcV2BDfpsu8LuKeJ3mJA5jNHn3DkpdoPz3bgkkSo27ds9TIuYG2SI1TekIIsEwRWBWrxBoIkWblNkZO8xW0ayiAwESgEOIu4NdYmMlKktF97hWi4tvlRhoNxaynn+gJs7REmAR9zBFT3xkRCFq14VYQ6Wj8Havegg08dgaeZB7npQ/kYEwkMvJBh8qwH6SMk7xDPaC3rv03xgxIZljOeygtUCpxkh08nL4jPGCdmPdDSLXstup7CvNcaYJ0FkQIxy0+2zfLvA8LYMyovGIhZSmfyXxvUXUvtd2pPRmVJsbrjQbEhQMeALNMJZTqJjP2iIgNtJiAcywCOrcHm76ckJ4JqVQor3xXUeeUVQAkrlok7AwEfwcM3vmPppp+73UMBoEzlFTRYbTM0yV6LNrFqYp0W60bISWlJCKWMRvcSiN0ZA+AmdMI8EYZTUBuOKcUClOjQ2DxroQmvjuagzESkeT9WBWiZE2S5Z50IsZkQJU2alHBdozxILJ+oBLMJmN2aZkUQLja4Zzk05beqFKA7XDRJQikxhdyMdB4qMijPwAgbm75nwxSZUDPBBC2l4IspS5J7DXxViAWhc8aWb/sUmDP4LEVhcEaui2T4soPPiGK84FIFlf2JYBQ2xwUQi/c7VgOQJQmbfI0zqG/kqYlmuMqxdz6MFqXtKj+S1vrKtGLe1hkOABQE5E/LYlNbtOksPVaBP4BMm8yZUCjJoA2zbsJVSYr6NJ8HZCYEZ0USF5Ctn6yaPaH2kwc0xEGcwiwCiQfJIwyns3X/QI45A4LWfjERcO9d9311n31XL9wDzZX6JFhwREvWf1sQk3N6/TmRF1sdl8DnOxheG6bNhj0hANgTgO09fnLgb4TJC2JATlKU4oEa/21s6jPEYptMQ2SZEikK10owZmJ0EJe4YFXK2uj0NUsRO8DP1lx2+08TAR876OxNFy2+eqPbPVHDkYlA9X8N11jPtfSI1WtSAHQuJdkOpZSzXg0rfAQdSy/gGD6A9JwpZEQeeIkHISDLBCtvyX6KeTNAMatZOnCQg3YA2FhOXSnFB6glyCiwddAOD00x85Ete4Ql8y3/tMXsaDt0lxmDJ/IEOQU+AU6SooHHigT2EIrxJCu7yJHsU/obxF1LER4P80xJT858sgQZfrYYjMXLbCIj0aWmnlAbgY4B2qYZESCTsWQkjXI8gEYKfCoY+8+2Ki54Mhqt+ZTTVMuG6IGIceCjIwJWr3rs57b091/qrloFCRgorL5eyuAKoyt9iWAorgbQRQqs7+Kth8sK4XujBF2x+jIAi/xJwU4DH0mMvtOkqYVqXmcTPaCYpFVlR6nELfFBT+YKFi+ZUrkG4holP6yTMQjDbQd+/MfhDRmjwVqPJ28ku/RfxCM8kyP81UppXfBatlnet7zv14G3ltuHcC5uw0pxS6iv45X0cT8+79rC/ann/bj190Ke66NnvKHITxOzIRQPUOdCR46nW8d9inElHBMfU3HsrRx5oIZkah/PKkCDnxPMR++INab/rNPQ15Q2W+6xbYP2kmhtWoZisLFSl0VI1i/XZ42P9zGc8eSOnYRhESRUq+EUFNnqVR2JvWBQsWAIsUC0nmfHWXUs8mNi6poKdg2XJ6TdP8tgeaQsxwSQ0TTxhuAhbPVJdtzawKYe7X8sS8C8nd2wpd/0HfeHnoNbRUHq2ykpyi2GckywijAqqUr/SW5jgt6bEfiUsiAtQzEODAhKgrIcWUWZ4ankMktOesfEc/1RMiVOS3WKKi9w+OnXcaIv95QT8CJX/hhYflRAjlP7vnTQP//4R4KhqQlYj6/c2Nj+A8ByIlJEEzJEPAAdz4vkLAr5CdKDWopEjhaF/OTjpSQlcl/L30Ekh6jn49w+qPN6P0uVSBH3isUbJDg33GnjjCnJD1t+khdJVY1IDnsBz41EoyWJ8uyF0Iab+sZcqvGefFN+Nm+utt3SLe6jR0sBDNhWs61nH4B0VnKQzK7lwBovJ1V8o8oXYqvhMoP0LyQAS/lBB19/r9wZiwU5L3kiQWEbinSWe8nsCSIfPEVRyhWphE0xCMdAyl6SiCo7aVK8AxV0pSQhk1ll7MB5wjcP/Icf3gCXZKzNFAHr8Q33OUu8VE+7oCL4aquXANwp6+/UcT4XrVOsfuwJQ/HZbN3igUWg9UGWchuJpVP2gEF9vtyy3JjcB8AUlMXCxUOkc0aQ3/yzKVjrV3JQe4FPT9VkVqemD2ALH8SqfLDsr6Xc94M9Prv3kX84zxnUSeIFpD6bK0PR+sfxIO5JapqtMgdg+S8ruyi1jdae4gBCHYSD9fNLIzoAj7feC2xIh62KJKlaKsOYTY4HMUDnXnEs0sm1uV8wsnxv9a3N2h/IgBgPEC7f920/vKbG2SxHwMee/abO9RjfA9hZfqlMWX+0eii8oDxnK2su0lGqU8dFYemxpDYoLxPL1aln/InI8j6DsvSuigl+O4Rr5P6YUswqLVUzqCVOoNJ7TK9vau1nL2C9h/K9qY2tse+dwrmBFZbrL7nmjhMufsETnK0dA4X65pldsT8qNljO+pJj1OeKt0ciEPIZqf8YIChK0zLQAhNbLJNT+XuI8t2oOI/qVxBRJkuRPJN6Lv3OWHqeqP/FPg0Kl9jbiipj0+C/+/4X7/3Xt35pCuOVfzPOLWax5d12bs5wUBxMkGtBpSBJQIXJbe6RxoBksEwVAfJIlwRdo8vOoe6PHKLHKaj0hGWs2VZyJ73hspfMwpbyfh4hM/ziBRfwJCaQKYtvqWStakCQ5mdyv6cJm2/++pf2Q8vhi7AVy0XdRae77/sFh95q0fu8rQdSxgMrWFm00W1p+nnjrMHwNPQ44ht/CZePEdUxpOnq8u+95PcJ4shZ2EcKP1PccltY0cY2kv2YzVDvLL0bwlRFcltwx/7lvvA7EW5re24rzvFn+twGXXwpEMJ5esB0cPTjzr/l9uWwXVGCZLn+Pdf/9HkXP2dvxP65kMagsrtPyY7s05QMqTdGoi1Hz0BOU3FChsLLIZBLzUZLC1IpP3KukqdUSeLXl1DLlUiNSIoqR4Na8+wJlpjwFo4+lupusO637PX6W76+ErYPKUGy7D7/xTs39wcc7W58SjUEPylHpMADKCVHRr4i6JwfoY4ARn3CFJmPVvRUhCNIU9mz9ACPEVMxTpALdrbYYjGpiztjlMcFdP0/zSeSXm9L/NiUyw8AH97zVbd8Al6zMq4GtnJZj5cvmnbzucb0v8h9A73VGVHdT+iKczlDij+ARJQzkzpfT73YkPOr42XX8TVUnBvUvfKK0slirY+94iH1elOPl3vA5a+KSOEN+Fq4YXgcvLvO+aeWrYoBenk7veko7Pur3a33K8vL2dpxYl+kASDHhvjyntd3w+9+xf3443uY4kDD2t9gqf85DkDxexStxICk+5DiQLHleCDHQYZY24PGhwxc6b06F7R+kGt4645tZ39GHZ6219nfvWNr8NxmAvxyUfe6010R6soY/5YjoQRbtwspDWc7JQFMioCuCGhRfhURi/fGNAk6GOcthZ9KiG/XCOgQAnD8CQUK++GXSgYNNgMuIMu5Ts75dgqB2QVcf829fW9P3fv0m74PW7lsFwF+uXDLn73QNPCV+Jxlj1gDDRxkAeqMKIJseFt4grb6ar8mQb892SJV2ZDyBiSVISlPQO0ZNryBKZadrL0+DhZPKtsJ6/1uzOE5ex5/849gG5btJiCQ0L3qVFcm+4rLg+d6ZEsDPpakmPObtNbAlySUBAATgEpusHpnTIMfCTABaCjS0SkC5Now+pWBZTkSr1DABxki7xH3th09b7fjv71N4O8wAX65qHvF6S7IfcZF0v31+AGuSEYEMcIv1o/sEVn7jdJ6TUKDuQ8w+VJ36luU8SCTU3kC6tgQZYpYcmAh0sPgs9bLPvb0s8XQvfhxz7rxJ7Adyw4T4Jd30tnP7ju63MnNk8ox3jER4cU6AFZ/TNv4a+iY94MnQCVFIjWQjvNL3HKe1D9dSKUcjQgAFR+0NPkER0AeSqsvvIBu7B+Elz726Ovuhu1cdgoBfnn75tMOgbb9oPOEc+KNp0hAkDcoUUmQgG4QJ+Ung509IFu4eoEbdEZElWeQ8owcH6Q9X59J05YegzDvd3bhkpCP70bmbbh2wxbYgWWnEeCX9XTSqiW724V26N8NEQeASno0CSbJEHAcAOUBWOyXVp69QP+cgf6pgzoWNMq6Wx60KeVpTEAMyMQBOFn971xZ4j27HXjth7cmz3+oZacSIMuFixc+23XzP+mAP0J/R0zyg8kDhIzaA4wCW3tAigs4HYRLT6CqvcyIsnxxfKDcZ5DPhFeXQt7vRggGe+NssH+B+2z4X9hJy1b3hLdled/86u/tPnvwBFdj+bD/YWbiMq3MWM3zIqxqs9Uaf2TJFvvSW/a92TiXx6oavx2tNrXre1iyMPqP4tVU/EUe3ULYaI3929meh75gZ4Lvl13iAXp55+LE43rCv3N/6Iz4i7x5Qq1RHpF/nCNbf+kFMBELpr0gSpEOvFNeACoO6DS2OO7d9rIGFv+EuOF22AXLLifAL+tpvdm0uOYcJzFvdc93HIZ/KriWI5EheEgCin2ckJ5wbjkCGHTVXpAT2/0o4hdWAXxghlffALtweVgIkMUF6XZp6E5H2/yNA/pkpPhGTs6KIhCm8IKy9CBtmoz0U2cwRUZ5fuQNJRFdQ/jJxsBn7ofu5rW4YxnO1iwPKwGyuJ4zvqs7+Rinr+eZgdY5vJ+YfogDhIBs6fV+mRFpL5jumI29hJKXMAG/dEXNf5mZ4YoDAW53ctPDw7Q8IgToZb3vAy09/zSXgrzREfA8F/MOXJ6ALEui9WVaOp2SiheU7XjnDPC/5wYvewpe/T14hJZHnIB6uWRx0jOdh6xrDZ3gwHqGA3xNEycVj6SniAcryBCD/quZge87ibkKzPzqY/Gq2+BRsDzqCKiX92086YB2N3NkS/apzjEOcCWCfWdonuSGKJ/ivGWNiw+rfdB0HasHHBG/dcW6H7sxtF/NsLnbSc2vHei3bYLVPzgLr/w9PAqX/we9xNN4G1Km7wAAAABJRU5ErkJggg==";
function en() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Lo = 40, Cc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "exy3c405"
} : {
  target: "exy3c405",
  label: "ButtonBar"
})(process.env.NODE_ENV === "production" ? {
  name: "1lot0rj",
  styles: "position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px"
} : {
  name: "1lot0rj",
  styles: "position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px",
  toString: en
}), Vn = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "exy3c404"
} : {
  target: "exy3c404",
  label: "Separator"
})(process.env.NODE_ENV === "production" ? {
  name: "amtg61",
  styles: "background-color:rgba(255, 255, 255, 0.1);width:1px;height:40px"
} : {
  name: "amtg61",
  styles: "background-color:rgba(255, 255, 255, 0.1);width:1px;height:40px",
  toString: en
}), Dc = /* @__PURE__ */ C(fe, process.env.NODE_ENV === "production" ? {
  target: "exy3c403"
} : {
  target: "exy3c403",
  label: "FabCardColor"
})('position:relative;.icon{background-color:transparent;transition:background var(--ha-transition-duration) var(--ha-easing);}&:after{content:"";position:absolute;inset:0px;border-radius:50%;border:0px;background-image:url(', Sc, ");background-size:101%;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:inset,border;pointer-events:none;}", (e) => e.active && `
    .icon {
      background-color: white;
      transition: background var(--ha-transition-duration) var(--ha-easing);
    }
    &:after {
      inset: 2px;
      border: 2px solid var(--ha-S200);
    }
  `, " svg{display:none;}"), Oc = /* @__PURE__ */ C(fe, process.env.NODE_ENV === "production" ? {
  target: "exy3c402"
} : {
  target: "exy3c402",
  label: "FabCardTemp"
})('position:relative;.icon{background-color:transparent;transition:background var(--ha-transition-duration) var(--ha-easing);}&:after{content:"";position:absolute;inset:0px;border-radius:50%;border:0px;pointer-events:none;background:linear-gradient(0deg, rgb(166, 209, 255) 0%, rgb(255, 255, 255) 50%, rgb(255, 160, 0) 100%);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:inset,border;}', (e) => e.active && `
    .icon {
      background-color: white;
    }
    &:after {
      inset: 2px;
      border: 2px solid var(--ha-S200);
    }
  `, " svg{display:none;}");
function Rc({
  entity: e,
  onStateChange: r,
  style: o,
  showFavoriteColors: n = !0,
  favoriteColors: a,
  ...s
}) {
  const [c, i] = ne("brightness"), l = pe(e), h = va(l), d = Ft(), g = Ee(l.state), x = Q((m) => m.formatter), f = oe(() => l.state === We ? B("off") : l.state === je ? `${h}${ba.light.brightness}` : B("unavailable"), [h, l.state]);
  K(() => {
    r && r(f);
  }, [f, r]);
  const u = Je(l, Ze.COLOR_TEMP), b = po(l), p = ya(l), _ = Je(l, Ze.WHITE), y = !!(l?.attributes?.effect_list && l.attributes.effect_list.length > 0), N = xa(l), k = oe(() => N ? a && a.length > 0 ? a : wa(l) : [], [N, a, l]), v = Na(l), S = l.attributes.color_temp_kelvin, R = $((m) => "color_temp_kelvin" in m ? m.color_temp_kelvin === S : "rgb_color" in m && v ? m.rgb_color.every((T, M) => T === v[M]) : !1, [S, v]), A = $((m) => {
    const E = {};
    "hs_color" in m && (E.hs_color = m.hs_color), "color_temp_kelvin" in m && (E.color_temp_kelvin = m.color_temp_kelvin), "rgb_color" in m && (E.rgb_color = m.rgb_color), "rgbw_color" in m && (E.rgbw_color = m.rgbw_color), "rgbww_color" in m && (E.rgbww_color = m.rgbww_color), l.service.turnOn({
      serviceData: E
    });
  }, [l.service]), D = $((m) => {
    l.service.turnOn({
      serviceData: {
        effect: m
      }
    });
  }, [l.service]);
  return /* @__PURE__ */ w(ie, { fullHeight: !0, fullWidth: !0, wrap: "nowrap", justifyContent: d.xxs ? "flex-start" : "center", style: {
    padding: d.xxs ? "1rem" : "0",
    ...o
  }, ...s, children: [
    /* @__PURE__ */ w(ie, { children: [
      !p && /* @__PURE__ */ t(zd, { disabled: g, reversed: !0, checked: l.state === je, onChange: () => {
        l.service.toggle();
      } }),
      (u || b || p) && /* @__PURE__ */ w(se, { children: [
        p && c === "brightness" && /* @__PURE__ */ t($r, { sliderColor: l.state === je ? l.custom.color : void 0, min: 1, max: 100, thickness: d.xxs ? 90 : 100, clampValueToBaseline: !uo(l.state), borderRadius: 24, value: h, disabled: g, onChange: (m) => {
          r && r(`${Math.round(m)}%`);
        }, onChangeApplied: (m) => {
          l.service.turnOn({
            serviceData: {
              brightness_pct: m
            }
          }), r && r(`${Math.round(m)}%`);
        } }),
        b && c === "color" && /* @__PURE__ */ t(hp, { entity: e }),
        u && c === "color_temp" && /* @__PURE__ */ t(cp, { entity: e, disabled: g || l.state === We, onChange: (m) => {
          m === null ? r && r(`${f}`) : r && r(`${m}K`);
        }, onChangeApplied: () => {
          r && r(`${f}`);
        } })
      ] })
    ] }),
    (u || b || p) && /* @__PURE__ */ w(Cc, { children: [
      p && /* @__PURE__ */ t(ye, { title: l.state === We ? B("turn_on") : B("turn_off"), children: /* @__PURE__ */ t(fe, { icon: "mdi:power", onClick: () => {
        l.service.toggle();
      } }) }),
      (b || u) && p && /* @__PURE__ */ t(Vn, {}),
      (b || u) && p && /* @__PURE__ */ t(ye, { title: B("color_brightness"), children: /* @__PURE__ */ t(fe, { icon: "mdi:brightness-6", active: c === "brightness", onClick: () => i("brightness") }, `${e}-brightness`) }),
      b && /* @__PURE__ */ t(ye, { title: B("color"), children: /* @__PURE__ */ t(Dc, { active: c === "color", onClick: () => i("color") }, `${e}-color`) }),
      u && /* @__PURE__ */ t(ye, { title: B("color_temperature"), children: /* @__PURE__ */ t(Oc, { active: c === "color_temp", onClick: () => i("color_temp") }, `${e}-color-temp`) }),
      _ && /* @__PURE__ */ w(se, { children: [
        /* @__PURE__ */ t(Vn, {}),
        /* @__PURE__ */ t(ye, { title: B("set_white"), children: /* @__PURE__ */ t(fe, { icon: "mdi:file-word-box", onClick: () => {
          l.service.turnOn({
            serviceData: {
              white: !0
            }
          });
        } }, `${e}-white`) })
      ] }),
      y && l.attributes.effect_list && /* @__PURE__ */ t(Dt, { placement: "top", items: l.attributes.effect_list.map((m) => ({
        active: l.attributes.effect === m,
        label: Le(m),
        onClick: () => {
          D(m);
        }
      })), children: /* @__PURE__ */ t(ye, { title: B("effect"), children: /* @__PURE__ */ t(fe, { icon: "mdi:stars" }, `${e}-effects`) }) })
    ] }),
    n && N && k.length > 0 && /* @__PURE__ */ t(Ac, { children: k.map((m, E) => {
      const [T, M, j] = Ic(l.attributes, m), I = `rgb(${T}, ${M}, ${j})`, z = R(m), O = Ea([T, M, j]) > 0.8 ? "rgb(33,33,33)" : "white", W = (re) => "#" + re.map((H) => Math.min(255, Math.max(0, Math.round(H)))).map((H) => H.toString(16).padStart(2, "0")).join("");
      let P;
      return "color_temp_kelvin" in m ? Je(l, Ze.COLOR_TEMP) ? P = x.attributeValue({
        ...l,
        attributes: {
          ...l.attributes,
          color_temp_kelvin: m.color_temp_kelvin
        }
      }, "color_temp_kelvin") : P = W([T, M, j]) : P = W([T, M, j]), /* @__PURE__ */ t(ye, { title: P, children: /* @__PURE__ */ t(Tc, { "data-label": P, size: Lo, icon: z ? "mdi:check-circle-outline" : null, iconProps: {
        style: {
          color: O
        }
      }, noIcon: !z, active: z, style: {
        backgroundColor: I,
        color: O
      }, onClick: () => A(m) }) }, `fav-${E}`);
    }) })
  ] });
}
function Wh(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "LightControls"
  }), children: /* @__PURE__ */ t(Rc, { ...e }) });
}
function Ic(e, r) {
  if (r) {
    if ("hs_color" in r)
      return ho([r.hs_color[0], r.hs_color[1] / 100]);
    if ("color_temp_kelvin" in r)
      return Wr(r.color_temp_kelvin);
    if ("rgb_color" in r)
      return r.rgb_color;
    if ("rgbw_color" in r)
      return fo(r.rgbw_color);
    if ("rgbww_color" in r)
      return mo(r.rgbww_color, e.min_color_temp_kelvin, e.max_color_temp_kelvin);
  }
  return [255, 255, 255];
}
const Ac = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "exy3c401"
} : {
  target: "exy3c401",
  label: "FavoritesWrapper"
})("--favorite-swatch-size:", Lo, "px;--favorite-swatch-gap:8px;margin-top:16px;display:grid;width:100%;gap:var(--favorite-swatch-gap);grid-template-columns:repeat(4, var(--favorite-swatch-size));justify-content:center;align-items:center;justify-items:center;"), Tc = /* @__PURE__ */ C(fe, process.env.NODE_ENV === "production" ? {
  target: "exy3c400"
} : {
  target: "exy3c400",
  label: "FavoriteFabCard"
})(process.env.NODE_ENV === "production" ? {
  name: "1d8cn36",
  styles: "position:relative;box-sizing:border-box;width:var(--favorite-swatch-size);height:var(--favorite-swatch-size);.icon{opacity:0;}&:hover{transform:scale(0.97);}"
} : {
  name: "1d8cn36",
  styles: "position:relative;box-sizing:border-box;width:var(--favorite-swatch-size);height:var(--favorite-swatch-size);.icon{opacity:0;}&:hover{transform:scale(0.97);}",
  toString: en
}), $n = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "", "0", "clear"], zc = $n.reduce((e, r, o) => (o % 3 === 0 && e.push($n.slice(o, o + 3)), e), []), Vc = "number", $c = xo`
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`, Mc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1n0bd6p1"
} : {
  target: "e1n0bd6p1",
  label: "Wrapper"
})("width:100%;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;.card-header{display:flex;justify-content:space-between;align-items:center;width:100%;box-sizing:border-box;}.loading-wrapper{position:absolute;top:0;bottom:0;overflow:hidden;z-index:2;}.loading-indicator{position:absolute;inset:0;animation:", $c, ` 1s infinite;display:flex;justify-content:center;align-items:center;background-color:var(--ha-300-a1);}.keypad{.keypad-buttons{z-index:1;}&:before{content:"";position:absolute;top:-10%;left:-10%;right:-10%;bottom:-10%;display:block;opacity:0.25;z-index:0;pointer-events:none;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background;background:radial-gradient(
        var(--ha-alarm-controls-size) at var(--ha-alarm-controls-position),
        var(--ha-alarm-controls-color, transparent) 0%,
        transparent 100%
      );}}.actions{margin:0;display:flex;flex-wrap:wrap;justify-content:center;width:100%;}`), tr = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1n0bd6p0"
} : {
  target: "e1n0bd6p0",
  label: "ControlPanelSize"
})((e) => `
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: auto;
      width: 100%;
      direction: ltr;
      gap: ${e.buttonGap};
      position: relative;
      max-width: calc(${e.buttonSize}px * 3 + ${e.buttonGap} * 2);
      > * {
        width: 100%;
      }
      .button-group-parent:not(.vertical) {
        max-width: none;
        min-width: 0;
        width: 100%;
        gap: ${e.buttonGap};
      }
    `, ";");
function Pc({
  entity: e,
  states: r,
  className: o,
  cssStyles: n,
  defaultCode: a,
  buttonSize: s = 80,
  buttonGap: c = "0.5rem",
  hideCodeInput: i = !1,
  hideKeypad: l = !1,
  customActionColor: h,
  labelMap: d,
  slots: g,
  ...x
}) {
  const f = G(null), [u, b] = ne(a ? `${a}` : ""), p = pe(e), _ = Q((D) => D.globalComponentStyles), y = r || ja(p, Ba), N = (D) => {
    b(D === "clear" ? "" : u + D);
  }, k = (D) => {
    p.service[mt(`alarm_${D}`)]({
      serviceData: {
        code: u
      }
    }), a || b("");
  };
  K(() => {
    a && b(`${a}`);
  }, [a]), K(() => {
    f.current && (f.current.style.setProperty("--ha-alarm-controls-position", "50% 50%"), f.current.style.setProperty("--ha-alarm-controls-size", "50% 50%"), f.current.style.setProperty("--ha-alarm-controls-color", Fa(p.state, h)));
  }, [p.state, h]);
  const v = () => p.state === "triggered" ? B("pending") : p.state.includes("custom_bypass") ? B("custom_bypass") : p.state.includes("armed_") ? B("armed") : B(p.state), S = ["pending", "triggered", "arming"].includes(p.state), R = p.attributes.code_format === Vc && !a && !l, A = (D) => g?.find((m) => m.position === D)?.children ?? null;
  return /* @__PURE__ */ w(Mc, { ref: f, className: `alarm-control-panel ${S ? "is-loading" : ""} ${o ?? ""}`, cssStyles: `
          ${_.alarmCard ?? ""}
          ${n ?? ""}
        `, ...x, children: [
    A("1"),
    /* @__PURE__ */ t(tr, { className: "actions-wrapper", buttonSize: s, buttonGap: c, children: /* @__PURE__ */ t(At, { id: "armActions", className: "actions", orientation: "horizontal", thickness: s, gap: c, maintainAspectRatio: !1, children: (p.state === "disarmed" ? y : ["disarm"]).map((D) => /* @__PURE__ */ t(Ke, { icon: D in gn ? La[gn[D]].icon : "", iconProps: {
      fontSize: "30px",
      style: {
        marginBottom: "6px"
      }
    }, title: u ? mn(D, d) : B("enter_code"), placement: "top", style: {
      flexDirection: "column",
      fontSize: "14px",
      aspectRatio: "unset"
    }, disabled: !u || S, onClick: () => k(D), children: mn(D, d) }, D)) }) }),
    A("2"),
    !p.attributes.code_format || a || i ? null : /* @__PURE__ */ t(tr, { className: "actions-wrapper-input", buttonSize: s, buttonGap: c, children: /* @__PURE__ */ t(Aa, { value: u, type: "password", label: B("code"), id: "alarmCode", disabled: S }) }),
    A("3"),
    R ? /* @__PURE__ */ t(tr, { className: "keypad", buttonSize: s, buttonGap: c, children: zc.map((D, m) => /* @__PURE__ */ t(At, { orientation: "horizontal", gap: c, thickness: s, className: "keypad-buttons", children: D.map((E, T) => /* @__PURE__ */ t(Ke, { className: `keypad-button keypad-button-${E === "" ? "empty" : E} ${E !== "clear" ? "numberkey" : ""}`, disabled: S || E === "", disableScaleEffect: E === "", onClick: () => {
      N(E);
    }, style: {
      opacity: E === "" ? 0.2 : 1,
      zIndex: E === "" ? -1 : void 0,
      cursor: E === "" ? "default" : "pointer"
    }, children: /* @__PURE__ */ t("span", { children: E === "clear" ? B("clear") : E }) }, `${m}-${T}`)) }, m)) }) : null,
    S && /* @__PURE__ */ t(se, { children: /* @__PURE__ */ t(tr, { className: "loading-wrapper", buttonSize: s, buttonGap: c, children: /* @__PURE__ */ t("div", { className: "loading-indicator", children: /* @__PURE__ */ t("span", { children: v() }) }) }) }),
    A("4")
  ] });
}
function Hh(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "AlarmControls"
  }), children: /* @__PURE__ */ t(Pc, { ...e }) });
}
function Wo() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const jc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eol4iox1"
} : {
  target: "eol4iox1",
  label: "ButtonBar"
})(process.env.NODE_ENV === "production" ? {
  name: "1lot0rj",
  styles: "position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px"
} : {
  name: "1lot0rj",
  styles: "position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px",
  toString: Wo
}), rr = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "eol4iox0"
} : {
  target: "eol4iox0",
  label: "Label"
})(process.env.NODE_ENV === "production" ? {
  name: "11sbb4p",
  styles: "font-size:0.8rem;margin-top:0.5rem;text-transform:uppercase"
} : {
  name: "11sbb4p",
  styles: "font-size:0.8rem;margin-top:0.5rem;text-transform:uppercase",
  toString: Wo
});
function St(e, r) {
  const n = !Ee(e.state) && e.state !== "closed" ? e.attributes.current_position ?? e.attributes.current_tilt_position : void 0, a = r ?? n, s = a && a !== 100 ? a ?? e.attributes.current_position ?? "" : "";
  return typeof r == "number" ? `${r === 0 ? "closed" : r === 100 ? "open" : e.state}${s ? ` - ${s}%` : ""}` : `${e.state}${s ? ` - ${s}%` : ""}`;
}
function Bc({
  entity: e,
  mode: r = "position",
  orientation: o = "vertical",
  reverse: n = !1,
  onStateChange: a
}) {
  const s = pe(e), c = Ee(s.state), i = $((p) => xe(s.attributes, p), [s.attributes]), l = i(
    4
    /* SET_POSITION */
  ), h = i(
    128
    /* SET_TILT_POSITION */
  ), d = i(
    1
    /* OPEN */
  ) || i(
    2
    /* CLOSE */
  ) || i(
    8
    /* STOP */
  ), g = i(
    16
    /* OPEN_TILT */
  ) || i(
    32
    /* CLOSE_TILT */
  ) || i(
    64
    /* STOP_TILT */
  ), [x, f] = ne(r ?? l ? "position" : "button"), u = Ft(), b = oe(() => St(s), [s]);
  return K(() => {
    f(l && r === "position" ? r : "button");
  }, [r, l]), K(() => {
    a && a(b);
  }, [b, a]), /* @__PURE__ */ t(ie, { fullHeight: !0, wrap: "nowrap", justifyContent: (u.xxs, "flex-start"), style: {
    padding: u.xxs ? "1rem" : "0"
  }, children: /* @__PURE__ */ w(ie, { children: [
    x === "position" && /* @__PURE__ */ t(se, { children: /* @__PURE__ */ w(ee, { gap: "1rem", style: {
      flexDirection: o === "vertical" ? "row" : "column"
    }, children: [
      l && typeof s.attributes.current_position < "u" && /* @__PURE__ */ w(ie, { children: [
        /* @__PURE__ */ t($r, { sliderColor: c ? void 0 : "var(--ha-A400)", min: 0, max: 100, mode: n ? "end" : "start", vertical: o === "vertical", thickness: u.xxs ? 90 : 100, borderRadius: 24, value: s.attributes.current_position, disabled: c, onChange: (p) => {
          a && a(St(s, Math.round(p)));
        }, onChangeApplied: (p) => {
          s.service.setCoverPosition({
            serviceData: {
              position: p
            }
          }), a && a(St(s, Math.round(p)));
        } }),
        /* @__PURE__ */ t(rr, { children: B("cover_position") })
      ] }),
      h && typeof s.attributes.current_tilt_position < "u" && /* @__PURE__ */ w(ie, { children: [
        /* @__PURE__ */ t($r, { sliderColor: c ? void 0 : "var(--ha-A400)", min: 0, max: 100, mode: n ? "end" : "start", vertical: o === "vertical", thickness: u.xxs ? 90 : 100, borderRadius: 24, value: s.attributes.current_tilt_position, disabled: c, onChange: (p) => {
          a && a(St(s, Math.round(p)));
        }, onChangeApplied: (p) => {
          s.service.setCoverTiltPosition({
            serviceData: {
              tilt_position: p
            }
          }), a && a(St(s, Math.round(p)));
        } }),
        /* @__PURE__ */ t(rr, { children: B("cover_tilt_position") })
      ] })
    ] }) }),
    x === "button" && /* @__PURE__ */ t(se, { children: /* @__PURE__ */ w(ee, { gap: "1rem", style: {
      flexDirection: o === "vertical" ? "row" : "column"
    }, children: [
      d && /* @__PURE__ */ w(ie, { children: [
        /* @__PURE__ */ w(At, { thickness: u.xxs ? 80 : 96, reverse: n, orientation: o, style: {
          minHeight: o === "vertical" ? "200px" : void 0,
          maxHeight: o === "vertical" ? "320px" : void 0,
          height: o === "vertical" ? "45vh" : void 0,
          minWidth: o === "horizontal" ? "320px" : void 0,
          maxWidth: o === "horizontal" ? "420px" : void 0,
          flexWrap: "nowrap"
        }, children: [
          /* @__PURE__ */ t(Ke, { title: B("open_cover"), entity: e, service: "openCover", icon: n ? "mdi:arrow-down" : "mdi:arrow-up" }),
          /* @__PURE__ */ t(Ke, { title: B("stop_cover"), entity: e, service: "stopCover", icon: "mdi:stop-circle-outline" }),
          /* @__PURE__ */ t(Ke, { title: B("close_cover"), entity: e, service: "closeCover", icon: n ? "mdi:arrow-up" : "mdi:arrow-down" })
        ] }),
        /* @__PURE__ */ t(rr, { children: B("control") })
      ] }),
      g && /* @__PURE__ */ w(ie, { children: [
        /* @__PURE__ */ w(At, { thickness: u.xxs ? 80 : 96, reverse: n, orientation: o, style: {
          minHeight: o === "vertical" ? "200px" : void 0,
          maxHeight: o === "vertical" ? "320px" : void 0,
          height: o === "vertical" ? "45vh" : void 0,
          minWidth: o === "horizontal" ? "320px" : void 0,
          maxWidth: o === "horizontal" ? "420px" : void 0,
          flexWrap: "nowrap"
        }, children: [
          /* @__PURE__ */ t(Ke, { title: B("open_cover_tilt"), entity: e, service: "openCoverTilt", icon: n ? "mdi:arrow-collapse" : "mdi:arrow-expand" }),
          /* @__PURE__ */ t(Ke, { title: B("stops_a_tilting_cover_movement"), entity: e, service: "stopCoverTilt", icon: "mdi:stop-circle-outline" }),
          /* @__PURE__ */ t(Ke, { title: B("close_cover_tilt"), entity: e, service: "closeCoverTilt", icon: n ? "mdi:arrow-expand" : "mdi:arrow-collapse" })
        ] }),
        /* @__PURE__ */ t(rr, { children: B("tilt_position") })
      ] })
    ] }) }),
    (g || l) && /* @__PURE__ */ w(jc, { children: [
      /* @__PURE__ */ t(fe, { icon: "mdi:hamburger-menu", active: x === "position", title: B("position"), onClick: () => {
        f("position");
      } }),
      /* @__PURE__ */ t(fe, { icon: "mdi:swap-vertical", active: x === "button", title: B("button"), onClick: () => {
        f("button");
      } })
    ] })
  ] }) });
}
function qh(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "CoverControls"
  }), children: /* @__PURE__ */ t(Bc, { ...e }) });
}
function Fc() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const He = /* @__PURE__ */ C(fe, process.env.NODE_ENV === "production" ? {
  target: "e1p6lr4g0"
} : {
  target: "e1p6lr4g0",
  label: "Fab"
})(process.env.NODE_ENV === "production" ? {
  name: "ov3jk1",
  styles: "background-color:var(--ha-S600);&:not(.active){color:black;}opacity:0.8;transition-property:opacity,color,background-color;&:disabled{opacity:0.38;}&:not(:disabled){&:hover,&:active{opacity:1;color:black;}}z-index:2"
} : {
  name: "ov3jk1",
  styles: "background-color:var(--ha-S600);&:not(.active){color:black;}opacity:0.8;transition-property:opacity,color,background-color;&:disabled{opacity:0.38;}&:not(:disabled){&:hover,&:active{opacity:1;color:black;}}z-index:2",
  toString: Fc
});
function Wt() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Lc = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e13bkotg4"
} : {
  target: "e13bkotg4",
  label: "StyledMediaPlayerCard"
})(process.env.NODE_ENV === "production" ? {
  name: "11aohsy",
  styles: "transform:none;will-change:width,height;overflow:visible;svg{color:currentColor;}&:not(.disabled){&:hover,&:active{background-color:var(--ha-S300);svg{color:currentColor;}}}padding:1rem;cursor:default"
} : {
  name: "11aohsy",
  styles: "transform:none;will-change:width,height;overflow:visible;svg{color:currentColor;}&:not(.disabled){&:hover,&:active{background-color:var(--ha-S300);svg{color:currentColor;}}}padding:1rem;cursor:default",
  toString: Wt
}), Wc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e13bkotg3"
} : {
  target: "e13bkotg3",
  label: "Title"
})(process.env.NODE_ENV === "production" ? {
  name: "rfe0kg",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 1)"
} : {
  name: "rfe0kg",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 1)",
  toString: Wt
}), Hc = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "e13bkotg2"
} : {
  target: "e13bkotg2",
  label: "State"
})(process.env.NODE_ENV === "production" ? {
  name: "18akv06",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 0.5)"
} : {
  name: "18akv06",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 0.5)",
  toString: Wt
}), qc = /* @__PURE__ */ C(ie, process.env.NODE_ENV === "production" ? {
  target: "e13bkotg1"
} : {
  target: "e13bkotg1",
  label: "StyledColumn"
})(process.env.NODE_ENV === "production" ? {
  name: "1aygt3c",
  styles: "display:grid;grid-template-columns:auto auto"
} : {
  name: "1aygt3c",
  styles: "display:grid;grid-template-columns:auto auto",
  toString: Wt
}), Uc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e13bkotg0"
} : {
  target: "e13bkotg0",
  label: "GroupLine"
})(process.env.NODE_ENV === "production" ? {
  name: "8qz55m",
  styles: "height:50px;width:2px;background-color:var(--ha-A400);position:absolute;top:30px;left:14px;z-index:1"
} : {
  name: "8qz55m",
  styles: "height:50px;width:2px;background-color:var(--ha-A400);position:absolute;top:30px;left:14px;z-index:1",
  toString: Wt
}), Uh = ({
  groupedEntities: e = [],
  allEntityIds: r = [],
  onStateChange: o,
  entity: n,
  ...a
}) => {
  const s = pe(n), c = xe(s.attributes, 524288), i = oe(() => za(Object.values(Va(e, (f) => f.attributes?.group_members))), [e]), l = Pt("media_player"), [h, d] = ne({
    media_content_id: "",
    media_content_type: ""
  }), g = $((f) => {
    const u = e.find((p) => p.entity_id === f);
    if (!u)
      return;
    const b = e.filter((p) => p.state === "playing");
    if (b.length === 0)
      return l.playMedia({
        target: u.attributes?.group_members ?? u.entity_id,
        serviceData: {
          media: {
            ...h
          },
          enqueue: "play"
        }
      }), l.mediaPlay({
        target: u.attributes?.group_members ?? u.entity_id
      });
    if (u.attributes?.group_members?.length === 1 && u.state === "playing")
      return d({
        media_content_id: u.attributes.media_content_id ?? "",
        media_content_type: u.attributes.media_content_type ?? ""
      }), l.mediaPause({
        target: u.attributes?.group_members ?? u.entity_id
      });
    if ((u.attributes?.group_members?.length || 0) > 1 && u.state === "playing")
      return l.unjoin({
        target: f
      });
    if (u.state !== "playing" && b.length > 0)
      return l.join({
        target: b[0].entity_id,
        serviceData: {
          group_members: [f]
        }
      });
  }, [e, l, h]), x = $((f) => {
    const u = i?.some((b) => b.state === "playing");
    return f.attributes.group_members?.length === 1 && f.state === "playing" ? "mdi:pause" : u ? "mdi:speaker-multiple" : f.attributes.group_members?.length === 1 && f.state !== "playing" ? "mdi:play" : "mdi:speaker-off";
  }, [i]);
  return K(() => {
    s && o && o(s.state);
  }, [s, o]), /* @__PURE__ */ t(ie, { fullHeight: !0, fullWidth: !0, ...a, children: /* @__PURE__ */ w(ie, { fullWidth: !0, fullHeight: !0, className: "column", gap: "1rem", children: [
    s && /* @__PURE__ */ t(Nl, { layout: "slim", groupMembers: r.length > 1 ? r : void 0, disableColumns: !0, entity: s.entity_id, hideGrouping: !0, disableScale: !0, disableModal: !0 }),
    r.length > 1 && /* @__PURE__ */ t(Vo, { title: B("related_entities"), disableColumns: !0, cssStyles: `
            &.group {
              background-color: rgba(0,0,0,0.1);
            }
          `, children: i.map((f, u) => {
      const b = f.state === "playing", p = u === i.length - 1, _ = `${f.attributes?.friendly_name ?? f.entity_id}`, y = f.state === We, N = Ee(f.state), k = xe(f.attributes, 128), v = xe(f.attributes, 256);
      return /* @__PURE__ */ t(Lc, { disableRipples: !0, disableScale: !0, disableActiveState: !0, xxs: 12, xs: 12, sm: 12, md: 12, lg: 12, xlg: 12, className: "entities-card entities-card-media-controls", children: /* @__PURE__ */ t(le, { ...de({
        prefix: "EntityRow"
      }), children: /* @__PURE__ */ w(qc, { gap: "0.5rem", justifyContent: "space-between", children: [
        /* @__PURE__ */ w(Wc, { className: "title device-name", children: [
          _,
          /* @__PURE__ */ w(Hc, { children: [
            " - ",
            Ot(f.state)
          ] })
        ] }),
        /* @__PURE__ */ w(ee, { gap: "0.5rem", justifyContent: "end", children: [
          !c && /* @__PURE__ */ t(He, { className: "media-player-power", iconProps: {
            color: "var(--ha-S200-contrast)"
          }, active: !y && !N, disabled: !k || !v, size: 30, icon: "mdi:power", rippleProps: {
            preventPropagation: !0
          }, onClick: () => {
            y ? l.turnOn({
              target: f.entity_id
            }) : l.turnOff({
              target: f.entity_id
            });
          } }),
          !y && /* @__PURE__ */ t(Ho, { entity: f.entity_id, volumeLayout: "buttons", hideMute: !1, disabled: !1, layout: "slim" }),
          c && !y && /* @__PURE__ */ w("div", { style: {
            position: "relative"
          }, children: [
            /* @__PURE__ */ t(He, { rippleProps: {
              preventPropagation: !0
            }, className: "speaker-group", iconProps: {
              color: "var(--ha-S200-contrast)"
            }, active: b, disabled: !1, size: 30, icon: x(f), onClick: () => g(f.entity_id) }),
            !p && /* @__PURE__ */ t(Uc, {})
          ] })
        ] })
      ] }) }) }, f.entity_id);
    }) })
  ] }) });
};
function Yc() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Gc = /* @__PURE__ */ C(ui, process.env.NODE_ENV === "production" ? {
  target: "e14r6hro0"
} : {
  target: "e14r6hro0",
  label: "StyledMapContainer"
})(process.env.NODE_ENV === "production" ? {
  name: "9qnj85",
  styles: ".leaflet-layer,.leaflet-control-zoom-in,.leaflet-control-zoom-out,.leaflet-control-attribution{filter:brightness(0.6) invert(1) contrast(4) hue-rotate(300deg) saturate(0.3) brightness(1) grayscale(40%);}.leaflet-div-icon{background:none;border:none;}"
} : {
  name: "9qnj85",
  styles: ".leaflet-layer,.leaflet-control-zoom-in,.leaflet-control-zoom-out,.leaflet-control-attribution{filter:brightness(0.6) invert(1) contrast(4) hue-rotate(300deg) saturate(0.3) brightness(1) grayscale(40%);}.leaflet-div-icon{background:none;border:none;}",
  toString: Yc
}), Xc = ({
  children: e,
  marker: r,
  container: o
}) => {
  const {
    tagName: n,
    className: a
  } = o, s = Vr.DomUtil.create(n, a), c = new ci({
    html: s
  }), i = ur(e, s), {
    position: l,
    eventHandlers: h
  } = r;
  return K(() => () => {
    Vr.DomUtil.remove(s);
  }, []), /* @__PURE__ */ w(se, { children: [
    i,
    /* @__PURE__ */ t(di, { position: l, icon: c, eventHandlers: h })
  ] });
};
function Qc({
  entity: e,
  mapHeight: r
}) {
  const o = pe(e), n = new Vr.LatLng(o.attributes.latitude, o.attributes.longitude);
  return /* @__PURE__ */ w(Gc, { center: n, zoom: 14, style: {
    height: `${r}px`,
    width: "100%"
  }, children: [
    /* @__PURE__ */ t(li, { url: "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", attribution: ' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors' }),
    /* @__PURE__ */ t(Xc, { marker: {
      position: n
    }, container: {
      tagName: "div",
      className: "custom-marker"
    }, children: /* @__PURE__ */ t(Bo, { entity: e, iconSize: {
      width: "30px",
      height: "30px"
    }, avatarSize: {
      width: "48px",
      height: "48px"
    }, withBorder: !0 }) })
  ] });
}
function Yh(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "PersonControls"
  }), children: /* @__PURE__ */ t(Qc, { ...e }) });
}
function vr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Kc = /* @__PURE__ */ C(Io, process.env.NODE_ENV === "production" ? {
  target: "e1nr8uu73"
} : {
  target: "e1nr8uu73",
  label: "StyledClimateCard"
})(process.env.NODE_ENV === "production" ? {
  name: "l7vt8h",
  styles: "&.slim{&.has-temp-controls{}}&.slim-vertical{&.has-temp-controls{}}"
} : {
  name: "l7vt8h",
  styles: "&.slim{&.has-temp-controls{}}&.slim-vertical{&.has-temp-controls{}}",
  toString: vr
}), Jc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1nr8uu72"
} : {
  target: "e1nr8uu72",
  label: "Gap"
})(process.env.NODE_ENV === "production" ? {
  name: "rhxkjj",
  styles: "height:20px"
} : {
  name: "rhxkjj",
  styles: "height:20px",
  toString: vr
}), Zc = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1nr8uu71"
} : {
  target: "e1nr8uu71",
  label: "Description"
})(process.env.NODE_ENV === "production" ? {
  name: "1d8ysdp",
  styles: 'color:var(--ha-S400-contrast);font-size:0.7rem;display:flex;gap:0.5rem;flex-wrap:wrap;>*{position:relative;display:flex;flex-shrink:0;&:after{content:",";position:absolute;bottom:0;right:-3px;}&:last-of-type{&:after{display:none;}}}'
} : {
  name: "1d8ysdp",
  styles: 'color:var(--ha-S400-contrast);font-size:0.7rem;display:flex;gap:0.5rem;flex-wrap:wrap;>*{position:relative;display:flex;flex-shrink:0;&:after{content:",";position:absolute;bottom:0;right:-3px;}&:last-of-type{&:after{display:none;}}}',
  toString: vr
}), Mn = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "e1nr8uu70"
} : {
  target: "e1nr8uu70",
  label: "Temperature"
})(process.env.NODE_ENV === "production" ? {
  name: "17qxhar",
  styles: "position:relative;display:flex;span{font-size:0.7rem;align-items:flex-start;}"
} : {
  name: "17qxhar",
  styles: "position:relative;display:flex;span{font-size:0.7rem;align-items:flex-start;}",
  toString: vr
});
function el({
  entity: e,
  onClick: r,
  hvacModes: o,
  hvacModeLabels: n,
  showHvacModeLabels: a = !1,
  hideCurrentTemperature: s,
  showTemperatureControls: c = !1,
  hideToggle: i = !0,
  hideHvacModes: l,
  disabled: h,
  className: d,
  modalProps: g,
  service: x,
  serviceData: f,
  cssStyles: u,
  layoutType: b,
  key: p,
  title: _,
  targetTempStep: y,
  ...N
}) {
  const k = Q((H) => H.config), v = Q((H) => H.globalComponentStyles), S = pe(e), R = S.state in wn ? S.state : "unknown-mode", A = Ee(S.state), D = S.state !== "off" && !A && !h, {
    current_temperature: m,
    hvac_action: E,
    hvac_modes: T,
    min_temp: M = 6,
    max_temp: j = 40,
    unit_of_measurement: I,
    temperature: z = 20,
    target_temp_step: V
  } = S.attributes || {}, O = S.state === We, W = oe(() => A ? B("unavailable") : O ? B("off") : E ? B(E) : B("unknown"), [E, A, O]), P = oe(() => y ?? V ?? (k?.unit_system.temperature === pr ? 1 : 0.5), [k?.unit_system.temperature, y, V]), re = (o ?? []).length === 0 ? T : o ?? [];
  return /* @__PURE__ */ t(se, { children: /* @__PURE__ */ t(
    Kc,
    {
      hideToggle: i,
      disableActiveState: !0,
      className: `climate-card ${c ? "has-temp-controls" : ""} ${d ?? ""}`,
      disabled: h || A,
      entity: e,
      title: _ ?? S.attributes.friendly_name,
      service: x,
      serviceData: f,
      layoutType: b,
      modalProps: {
        hvacModes: re,
        hideCurrentTemperature: s,
        hideHvacModes: l,
        hvacModeLabels: n,
        targetTempStep: P,
        ...g
      },
      onClick: () => {
        A || h || typeof r != "function" || r(S);
      },
      cssStyles: `
          ${v.climateCard ?? ""}
          ${u ?? ""}
        `,
      hideState: !0,
      features: re.concat().filter((H) => !!H).map((H) => {
        const Y = {
          size: 35,
          disabled: h || A,
          iconProps: {
            color: R === H ? Ya[H] : void 0
          },
          rippleProps: {
            preventPropagation: !0
          },
          title: Ot(H.replace(/_/g, " ")),
          active: R === H,
          icon: wn[H],
          onClick: () => {
            S.service.setHvacMode({
              serviceData: {
                hvac_mode: H
              }
            });
          }
        };
        if (n?.[H] && a) {
          const U = n?.[H];
          return /* @__PURE__ */ t(pt, { ...Y, title: U, children: U }, H);
        }
        return /* @__PURE__ */ t(pt, { ...Y }, H);
      }),
      fabProps: {
        style: {
          color: D ? "var(--ha-A400)" : "var(--ha-S500-contrast)",
          backgroundColor: A || h ? Ie.off[1] : R === "unknown-mode" ? "var(--ha-S500-contrast)" : Ie[R][1]
        }
      },
      description: /* @__PURE__ */ t(ee, { justifyContent: "flex-start", children: /* @__PURE__ */ w(Zc, { className: "climate-description", children: [
        /* @__PURE__ */ t("span", { children: W }),
        /* @__PURE__ */ w("span", { className: "fan-speed", children: [
          B("speed"),
          ": ",
          B(S.attributes.fan_mode) || B("unknown")
        ] }),
        !s && /* @__PURE__ */ t("span", { className: "current-temperature", children: /* @__PURE__ */ w(Mn, { children: [
          /* @__PURE__ */ w("div", { children: [
            Ot(B("current_temperature", {
              search: "{name} ",
              replace: ""
            })),
            ": ",
            m
          ] }),
          /* @__PURE__ */ t("span", { children: I ?? k?.unit_system.temperature })
        ] }) })
      ] }) }),
      ...N,
      children: c && /* @__PURE__ */ w(ie, { alignItems: b === "slim-vertical" ? "center" : "flex-start", fullWidth: !0, fullHeight: !0, children: [
        /* @__PURE__ */ t(Jc, {}),
        /* @__PURE__ */ w(nt, { fullWidth: !0, children: [
          /* @__PURE__ */ t(pt, { size: 40, disabled: h || A || z === M, rippleProps: {
            preventPropagation: !0
          }, title: B("decrease_temperature"), icon: "mdi:minus", onClick: () => {
            S.service.setTemperature({
              serviceData: {
                temperature: z - P
              }
            });
          } }),
          /* @__PURE__ */ t(pt, { size: 40, disabled: !0, rippleProps: {
            preventPropagation: !0
          }, borderRadius: 0, noIcon: !0, title: Ot(B("current_temperature", {
            search: "{name} ",
            replace: ""
          })), cssStyles: `
                  button {
                    cursor: default;
                  }
                `, children: /* @__PURE__ */ w(Mn, { children: [
            /* @__PURE__ */ t("div", { children: z }),
            /* @__PURE__ */ t("span", { children: I ?? k?.unit_system.temperature })
          ] }) }),
          /* @__PURE__ */ t(pt, { size: 40, disabled: h || A || z === j, rippleProps: {
            preventPropagation: !0
          }, title: B("increase_temperature"), icon: "mdi:plus", onClick: () => {
            S.service.setTemperature({
              serviceData: {
                temperature: z + P
              }
            });
          } })
        ] })
      ] })
    },
    p
  ) });
}
function Gh(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ClimateCard"
  }), children: /* @__PURE__ */ t(el, { ...r, ...e }) });
}
function tl() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const rl = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "elajsjg0"
} : {
  target: "elajsjg0",
  label: "StyledEntitiesCard"
})(process.env.NODE_ENV === "production" ? {
  name: "zp0ybc",
  styles: "svg{color:currentColor;}&:not(.disabled){&:hover,&:active{svg{color:currentColor;}}}"
} : {
  name: "zp0ybc",
  styles: "svg{color:currentColor;}&:not(.disabled){&:hover,&:active{svg{color:currentColor;}}}",
  toString: tl
});
function nl({
  includeLastUpdated: e = !1,
  key: r,
  className: o,
  children: n,
  cssStyles: a,
  ...s
}) {
  const c = Q((l) => l.globalComponentStyles), i = Re.map(n, (l, h) => Te(l) ? Ue(l, {
    key: l.key || h,
    includeLastUpdated: e
  }) : l);
  return /* @__PURE__ */ t(rl, { cssStyles: `
      ${c?.entitiesCard ?? ""}
      ${a ?? ""}
    `, disableRipples: !0, disableScale: !0, disableActiveState: !0, className: `entities-card ${o ?? ""}`, ...s, children: /* @__PURE__ */ t(ie, { fullWidth: !0, fullHeight: !0, className: "column", children: i }) }, r);
}
function Xh(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "EntitiesCard"
  }), children: /* @__PURE__ */ t(nl, { ...r, ...e }) });
}
function br() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const ol = /* @__PURE__ */ C(ee, process.env.NODE_ENV === "production" ? {
  target: "e1e0wtwp3"
} : {
  target: "e1e0wtwp3",
  label: "IconWrapper"
})(process.env.NODE_ENV === "production" ? {
  name: "15bws94",
  styles: "width:100%;max-width:2rem"
} : {
  name: "15bws94",
  styles: "width:100%;max-width:2rem",
  toString: br
}), al = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1e0wtwp2"
} : {
  target: "e1e0wtwp2",
  label: "Name"
})(process.env.NODE_ENV === "production" ? {
  name: "vpbd9u",
  styles: "flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}"
} : {
  name: "vpbd9u",
  styles: "flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}",
  toString: br
}), il = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1e0wtwp1"
} : {
  target: "e1e0wtwp1",
  label: "State"
})(process.env.NODE_ENV === "production" ? {
  name: "fcoiwt",
  styles: "max-width:5rem;font-size:0.8rem;font-weight:400;text-align:right;white-space:nowrap;color:var(--ha-S300-contrast)"
} : {
  name: "fcoiwt",
  styles: "max-width:5rem;font-size:0.8rem;font-weight:400;text-align:right;white-space:nowrap;color:var(--ha-S300-contrast)",
  toString: br
}), sl = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1e0wtwp0"
} : {
  target: "e1e0wtwp0",
  label: "EntityRowInner"
})(process.env.NODE_ENV === "production" ? {
  name: "8799pk",
  styles: "width:100%;padding:1rem;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:hover{background-color:var(--ha-S500);}"
} : {
  name: "8799pk",
  styles: "width:100%;padding:1rem;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:hover{background-color:var(--ha-S500);}",
  toString: br
}), Pn = {
  climate: () => import("./es/Cards/EntitiesCard/action-types/climate.js"),
  toggle: () => import("./es/Cards/EntitiesCard/action-types/toggle.js"),
  sensor: () => import("./es/Cards/EntitiesCard/action-types/sensor.js")
}, cl = {
  water_heater: "climate",
  climate: "climate",
  // _domain_not_found: "simple",
  alert: "toggle",
  automation: "toggle",
  // button: "button",
  // cover: "cover",
  // date: "date",
  // datetime: "datetime",
  // event: "event",
  fan: "toggle",
  // group: "group",
  // humidifier: "humidifier",
  input_boolean: "toggle",
  // input_button: "input-button",
  // input_datetime: "input-datetime",
  // input_number: "input-number",
  // input_select: "input-select",
  // input_text: "input-text",
  light: "toggle",
  // lock: "lock",
  // media_player: "media-player",
  // number: "number",
  remote: "toggle",
  // scene: "scene",
  // script: "script",
  // select: "select",
  sensor: "sensor",
  siren: "toggle",
  switch: "toggle",
  // text: "text",
  // time: "time",
  // timer: "timer",
  // update: "update",
  vacuum: "toggle"
  // valve: "valve",
  // weather: "weather",
};
function ll({
  entity: e,
  icon: r,
  iconProps: o,
  name: n,
  renderState: a,
  onClick: s,
  modalProps: c,
  key: i,
  includeLastUpdated: l = !1,
  ...h
}) {
  const d = dr(), [g, x] = ne(!1), f = Q((D) => D.formatter), u = pe(e), b = tt(e), p = $t(b === null ? "unknown" : b), _ = Mt(e || "unknown"), y = Ee(u?.state), N = oe(() => n ?? u.attributes.friendly_name ?? u.attributes.entity_id, [n, u]), k = u?.state === je, v = k ? u.custom.hexColor : "var(--ha-S500-contrast)", S = wo(() => {
    typeof e == "string" && !g && x(!0);
  }, {
    threshold: 300,
    cancelOnMovement: !0,
    cancelOutsideElement: !0,
    filterEvents(D) {
      return !("button" in D && D.button === 2);
    }
  }), R = cl[b], A = oe(() => !R || !(R in Pn) ? null : so(Pn[R]), [R]);
  return /* @__PURE__ */ w(se, { children: [
    /* @__PURE__ */ t(sl, { className: "entities-card-row", ...S(), ...h, children: /* @__PURE__ */ w(ee, { className: "row", wrap: "nowrap", gap: "1rem", fullWidth: !0, onClick: () => s && s(u), children: [
      /* @__PURE__ */ t(ol, { className: "icon-wrapper", style: {
        opacity: y ? "0.3" : "1",
        color: v,
        filter: k && u?.custom.brightness || "brightness(100%)"
      }, children: r ? /* @__PURE__ */ t(we, { className: "icon", icon: r, ...o ?? {} }) : _ ?? p }),
      /* @__PURE__ */ w(al, { className: "name", children: [
        N,
        l && /* @__PURE__ */ t("span", { children: u.custom.relativeTime })
      ] }),
      /* @__PURE__ */ t(il, { className: "state", children: typeof a == "function" ? a(u) : y ? B("unavailable") : A ? /* @__PURE__ */ t(Ar, { fallback: /* @__PURE__ */ w("div", { children: [
        B("loading"),
        "..."
      ] }), children: /* @__PURE__ */ t(A, { entity: u }) }) : /* @__PURE__ */ t(se, { children: f.stateValue(u) }) })
    ] }) }, i),
    typeof e == "string" && /* @__PURE__ */ t(Uo, { entity: e, title: N ?? B("unknown"), onClose: () => {
      x(!1);
    }, open: g, id: d, ...c })
  ] });
}
function Qh(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "EntitiesCardRow"
  }), children: /* @__PURE__ */ t(ll, { ...e }) });
}
function dl() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const ul = /* @__PURE__ */ C("label", process.env.NODE_ENV === "production" ? {
  target: "e3nfycs1"
} : {
  target: "e3nfycs1",
  label: "VolumeSlider"
})("display:inline-block;width:100%;color:rgba(0, 0, 0, 0.87);font-size:1rem;line-height:1.5;", De(["xxs"], `
    width: 40%;
  `), " ", De(["xs", "sm"], `
    width: 60%;
  `), ";"), pl = /* @__PURE__ */ C(ht, process.env.NODE_ENV === "production" ? {
  target: "e3nfycs0"
} : {
  target: "e3nfycs0",
  label: "StyledRangeSlider"
})(process.env.NODE_ENV === "production" ? {
  name: "1d3w5wq",
  styles: "width:100%"
} : {
  name: "1d3w5wq",
  styles: "width:100%",
  toString: dl
});
function Ho({
  entity: e,
  volumeLayout: r,
  hideMute: o,
  disabled: n,
  allEntityIds: a,
  layout: s
}) {
  const c = pe(e), {
    volume_level: i,
    is_volume_muted: l
  } = c.attributes, [h, d] = ne(i), g = Pt("mediaPlayer"), x = G(null), f = xe(c.attributes, 4), u = xe(c.attributes, 8), b = $((p) => {
    d(p), x.current && clearTimeout(x.current), x.current = setTimeout(() => {
      g.volumeSet({
        target: a ?? e,
        serviceData: {
          volume_level: p
        }
      });
    }, 500);
  }, [g, a, d, e]);
  return K(() => {
    d(i);
  }, [i]), /* @__PURE__ */ w(ee, { gap: "0.5rem", wrap: "nowrap", children: [
    !o && u && /* @__PURE__ */ t(He, { iconProps: {
      color: "var(--ha-S200-contrast)"
    }, className: `volume-mute ${l ? "muted" : "not-muted"}`, disabled: n, size: gt, rippleProps: {
      preventPropagation: !0
    }, icon: l ? "mdi:volume-off" : "mdi:volume-high", onClick: () => {
      g.volumeMute({
        target: a ?? e,
        serviceData: {
          is_volume_muted: !l
        }
      });
    } }),
    r === "buttons" && f && /* @__PURE__ */ w(se, { children: [
      /* @__PURE__ */ t(He, { rippleProps: {
        preventPropagation: !0
      }, iconProps: {
        color: "var(--ha-S200-contrast)"
      }, className: "volume-down", disabled: n, size: gt, icon: "mdi:volume-minus", title: `${Number(i) * 100}%`, onClick: () => g.volumeDown({
        target: a ?? e
      }) }),
      /* @__PURE__ */ t(He, { rippleProps: {
        preventPropagation: !0
      }, iconProps: {
        color: "var(--ha-S200-contrast)"
      }, className: "volume-up", disabled: n, size: gt, icon: "mdi:volume-plus", title: `${Number(i) * 100}%`, onClick: () => g.volumeUp({
        target: a ?? e
      }) })
    ] }),
    r === "slider" && f && /* @__PURE__ */ t(ul, { className: "volume-slider", layout: s, onPointerDownCapture: (p) => {
      p.stopPropagation();
    }, children: /* @__PURE__ */ t(pl, { type: "range", min: 0, max: 1, disabled: n, step: 0.02, value: l ? 0 : h, formatTooltipValue: (p) => `${Math.round(p * 100)}%`, tooltipSize: 2.2, onChangeComplete: (p, _) => {
      _.preventDefault(), b(p);
    } }) })
  ] });
}
function jn({
  entity: e,
  size: r = 20,
  feature: o,
  disabled: n,
  allEntityIds: a
}) {
  const s = pe(e), c = Pt("mediaPlayer"), i = s.state === "playing", l = s.state === We, h = xe(s.attributes, 16), d = xe(s.attributes, 32), g = xe(s.attributes, 16384);
  return /* @__PURE__ */ w(se, { children: [
    /* @__PURE__ */ t(He, { className: "skip-previous", disabled: n || l || !h, size: r, iconProps: {
      color: "var(--ha-S200-contrast)"
    }, icon: "mdi:skip-previous", rippleProps: {
      preventPropagation: !0
    }, onClick: () => c.mediaPreviousTrack({
      target: a
    }) }),
    /* @__PURE__ */ t(He, { className: "play-pause", iconProps: {
      color: "var(--ha-S200-contrast)"
    }, disabled: n || l || !g, size: r * (o ? 2 : 1), rippleProps: {
      preventPropagation: !0
    }, icon: i ? "mdi:pause" : "mdi:play", onClick: () => {
      i ? c.mediaPause({
        target: a
      }) : c.mediaPlay({
        target: a
      });
    } }),
    /* @__PURE__ */ t(He, { rippleProps: {
      preventPropagation: !0
    }, className: "skip-next", iconProps: {
      color: "var(--ha-S200-contrast)"
    }, disabled: n || l || !d, size: r, icon: "mdi:skip-next", onClick: () => c.mediaNextTrack({
      target: a
    }) })
  ] });
}
function hl() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const fl = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "e1et2jmo0"
} : {
  target: "e1et2jmo0",
  label: "SmallText"
})(process.env.NODE_ENV === "production" ? {
  name: "rfe0kg",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 1)"
} : {
  name: "rfe0kg",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 1)",
  toString: hl
});
function Bn({
  entity: e,
  disabled: r,
  allEntityIds: o,
  onSpeakerGroupClick: n,
  hideGrouping: a = !1
}) {
  const s = pe(e), c = Pt("mediaPlayer"), i = s.attributes.group_members ?? [], l = s.state === We, h = Ee(s.state), d = xe(s.attributes, 128), g = xe(s.attributes, 256);
  return /* @__PURE__ */ w(ee, { gap: "0.5rem", wrap: "nowrap", className: "row", children: [
    !a && (o.length > 1 || i.length > 0) && /* @__PURE__ */ t(He, { className: "speaker-group", iconProps: {
      color: "var(--ha-S200-contrast)"
    }, active: i.length > 0, disabled: r, rippleProps: {
      preventPropagation: !0
    }, size: gt, icon: i.length === 0 ? "mdi:speaker-off" : "mdi:speaker-multiple", onClick: () => {
      n();
    } }),
    (h || l) && /* @__PURE__ */ t(fl, { children: s.state }),
    /* @__PURE__ */ t(He, { className: "media-player-power", iconProps: {
      color: "var(--ha-S200-contrast)"
    }, active: !l && !h, disabled: r || !d || !g, size: gt, icon: "mdi:power", rippleProps: {
      preventPropagation: !0
    }, onClick: () => {
      l ? c.turnOn({
        target: o
      }) : c.turnOff({
        target: o
      });
    } })
  ] });
}
function tn() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const ml = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1uz01s95"
} : {
  target: "e1uz01s95",
  label: "BackgroundImage"
})("width:100%;height:100%;", (e) => e.backgroundImage && `background-image: url(${e.backgroundImage});`, ' background-size:cover;background-position:center;position:absolute;background-repeat:no-repeat;inset:0;z-index:-1;&:after{background:rgba(0, 0, 0, 0.7);content:"";position:absolute;inset:0;z-index:0;}'), gl = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "e1uz01s94"
} : {
  target: "e1uz01s94",
  label: "MediaPlayerWrapper"
})("padding:0;background-color:var(--ha-S300);box-shadow:0px 2px 4px rgba(0, 0, 0, 0.1);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background-image,background-color,box-shadow,transform;position:relative;overflow:hidden;border-radius:1rem;width:100%;flex-shrink:1;", (e) => e.layout === "card" && `
    aspect-ratio: 1/1;
  `, " &:disabled{cursor:not-allowed;opacity:0.8;}&:active{box-shadow:0px 4px 4px rgba(0, 0, 0, 0.1);}&:not(:disabled):hover{background-color:var(--ha-S400);box-shadow:0px 4px 4px rgba(0, 0, 0, 0.1);}.content{position:relative;z-index:1;}"), vl = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1uz01s93"
} : {
  target: "e1uz01s93",
  label: "Title"
})(process.env.NODE_ENV === "production" ? {
  name: "rfe0kg",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 1)"
} : {
  name: "rfe0kg",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 1)",
  toString: tn
}), bl = /* @__PURE__ */ C(ie, process.env.NODE_ENV === "production" ? {
  target: "e1uz01s92"
} : {
  target: "e1uz01s92",
  label: "Base"
})(process.env.NODE_ENV === "production" ? {
  name: "fsms1z",
  styles: "padding:0.5rem 0.5rem 1rem;width:100%;background-color:rgba(0, 0, 0, 0.5)"
} : {
  name: "fsms1z",
  styles: "padding:0.5rem 0.5rem 1rem;width:100%;background-color:rgba(0, 0, 0, 0.5)",
  toString: tn
}), yl = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "e1uz01s91"
} : {
  target: "e1uz01s91",
  label: "Empty"
})(), xl = /* @__PURE__ */ C(oi, process.env.NODE_ENV === "production" ? {
  target: "e1uz01s90"
} : {
  target: "e1uz01s90",
  label: "StyledMarquee"
})(process.env.NODE_ENV === "production" ? {
  name: "fs2k14",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 0.87)"
} : {
  name: "fs2k14",
  styles: "font-size:0.8rem;color:rgba(255, 255, 255, 0.87)",
  toString: tn
});
function wl({
  entity: e,
  groupMembers: r = [],
  volumeLayout: o = "slider",
  thumbnailSize: n = "3rem",
  hideThumbnail: a = !1,
  showArtworkBackground: s = !0,
  layout: c = "card",
  hideMute: i = !1,
  hideAppName: l = !1,
  hideEntityName: h = !1,
  hideGrouping: d = !1,
  disabled: g = !1,
  service: x,
  serviceData: f,
  marqueeProps: u,
  className: b,
  cssStyles: p,
  key: _,
  modalProps: y,
  ...N
}) {
  const k = pe(e), v = Pt("mediaPlayer"), {
    joinHassUrl: S
  } = Q.getState().helpers, R = Q((q) => q.globalComponentStyles), A = G(null), D = G(null), m = G(null), E = G(null), T = Q((q) => q.entities), M = r.map((q) => T[q] ?? null).filter((q) => q !== null && !Ee(q.state)), j = oe(() => [e, ...M.map((q) => q.entity_id)], [e, M]), {
    state: I
  } = k, {
    media_artist: z,
    media_title: V,
    media_playlist: O,
    app_name: W,
    media_duration: P,
    media_position: re,
    media_position_updated_at: H
  } = k.attributes, Y = (k?.attributes?.group_members || [k.entity_id]).reduce((q, ge) => {
    const Oe = T[ge];
    return Oe ? [...q, Oe.attributes?.friendly_name || Oe.entity_id] : q;
  }, []), U = `${z ? z + " - " : ""}${V ?? O ?? ""}`, J = W, ae = oe(() => {
    const q = k.attributes.entity_picture ? k.attributes.entity_picture : null;
    return q && q.startsWith("/") ? S(q) : q;
  }, [k.attributes.entity_picture, S]), be = Ee(I), F = I === "idle", L = I === "standby", X = I === We, te = I === "playing", ce = I === "buffering", ue = be || g, he = F || X || L || ce || ue, [ve, me] = ne(!1), _e = $((q) => {
    if (!D.current || !E.current || he || !m.current || !P) return;
    const ge = D.current.getBoundingClientRect(), et = (q - ge.left) / ge.width * 100, Qt = P * et / 100, sa = Math.max(0, Math.floor(Qt / 60)), ca = Math.max(0, Math.floor(Qt % 60)), la = String(sa).padStart(2, "0"), da = String(ca).padStart(2, "0");
    E.current.style.left = `${ct(et, 5, 95)}%`, m.current.style.setProperty(`--progress-${mt(e)}-clock`, `'${la}:${da}'`);
  }, [e, P, he]), Ne = $((q, ge) => {
    if (!q || !ge) return 0;
    const Oe = ge / q * 100;
    m.current && m.current.style.setProperty(`--progress-${mt(e)}-width`, `${ct(Oe, 0, 100)}%`);
  }, [e]);
  K(() => (te && A.current === null && H !== void 0 && re !== void 0 ? A.current = setInterval(() => {
    const q = /* @__PURE__ */ new Date(), ge = new Date(H), Oe = (q.getTime() - ge.getTime()) / 1e3, et = re + Oe;
    Ne(P, et);
  }, 1e3) : !te && A.current !== null && (clearInterval(A.current), A.current = null), () => {
    A.current !== null && (clearInterval(A.current), A.current = null);
  }), [te, re, H, P, Ne]);
  const Pe = $((q) => {
    if (!D.current) return;
    const ge = D.current.getBoundingClientRect(), et = (q - ge.left) / ge.width;
    v.mediaSeek({
      target: j,
      serviceData: {
        seek_position: et * (P ?? 0)
      }
    });
  }, [v, j, P]);
  K(() => {
    Ne(P, re);
  }, [re, Ne, P]);
  const Xe = Ur((q) => {
    _e(q);
  }, 20, {
    trailing: !0,
    leading: !0
  }), Gt = Bt({
    onMove: (q) => {
      he || Xe(q.event.clientX);
    },
    onClick: (q) => {
      he || Pe(q.event.clientX);
    }
  }), Xt = xe(k.attributes, 524288);
  if (r.length > 0 && !Xt && !k.attributes.group_members)
    throw new Error(`"${e}" does not support grouping, but you have provided groupMembers.`);
  return /* @__PURE__ */ t(se, { children: /* @__PURE__ */ w(
    gl,
    {
      disabled: ue,
      modalProps: {
        open: ve,
        groupedEntities: M,
        allEntityIds: j,
        onClose: () => me(!1),
        ...y
      },
      entity: e,
      service: x,
      serviceData: f,
      disableActiveState: !0,
      disableRipples: !0,
      className: `media-player-card ${b ?? ""}`,
      refCallback: (q) => {
        q && (m.current = q.current);
      },
      layout: c,
      cssStyles: `
          ${R?.mediaPlayerCard ?? ""}
          ${p ?? ""}
        `,
      ...N,
      children: [
        s && ae !== null && /* @__PURE__ */ t(ml, { className: "artwork", backgroundImage: ae }),
        /* @__PURE__ */ w(ie, { fullHeight: !0, fullWidth: !0, className: "column content", justifyContent: "space-between", children: [
          /* @__PURE__ */ t(yl, { className: "empty" }),
          c === "card" && /* @__PURE__ */ t(ee, { gap: "1rem", fullWidth: !0, className: "row", children: /* @__PURE__ */ t(jn, { entity: e, disabled: ue, allEntityIds: j, feature: !0, size: 40 }) }),
          /* @__PURE__ */ w(bl, { className: "base", fullWidth: !0, gap: "0.5rem", style: {
            paddingBottom: X ? c === "slim" ? "1rem" : "0.5rem" : "1rem"
          }, children: [
            /* @__PURE__ */ w(ee, { className: "row", gap: "0.5rem", wrap: "nowrap", fullWidth: !0, children: [
              a === !1 && ae !== null && /* @__PURE__ */ t(ai, { className: "thumbnail", backgroundImage: ae, size: n }),
              /* @__PURE__ */ w(ie, { className: "column", gap: "0.5rem", alignItems: "flex-start", style: {
                width: a === !1 && ae !== null ? `calc(100% - (${n} + 0.5rem))` : "100%"
              }, children: [
                /* @__PURE__ */ w(ee, { className: "row", justifyContent: Y.length > 0 && !h ? "space-between" : "flex-end", fullWidth: !0, children: [
                  Y.length > 0 && !h && /* @__PURE__ */ w(vl, { className: "title device-name", children: [
                    h ? "" : Y.join(", "),
                    ce ? (h ? "" : " - ") + "buffering" : ""
                  ] }),
                  (X || c === "slim") && /* @__PURE__ */ t(Bn, { allEntityIds: j, entity: e, disabled: ue, onSpeakerGroupClick: () => me(!0), hideGrouping: d })
                ] }),
                U && !X && /* @__PURE__ */ w(xl, { speed: 30, pauseOnHover: !0, play: te, autoFill: !0, ...u, className: "title marquee", children: [
                  U,
                  J && !l ? ` - ${J}` : ""
                ] })
              ] })
            ] }),
            be ? null : /* @__PURE__ */ w(ee, { className: "row", gap: "1rem", justifyContent: "space-between", wrap: "nowrap", fullWidth: !0, children: [
              !X && /* @__PURE__ */ t(Ho, { entity: e, disabled: ue, allEntityIds: j, volumeLayout: o, layout: c, hideMute: i }),
              c === "slim" && /* @__PURE__ */ t(ee, { gap: "0.5rem", wrap: "nowrap", children: /* @__PURE__ */ t(jn, { entity: e, disabled: ue, allEntityIds: j, feature: !1, size: gt }) }),
              !X && c === "card" && /* @__PURE__ */ t(Bn, { allEntityIds: j, entity: e, disabled: ue, onSpeakerGroupClick: () => me(!0), hideGrouping: d })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ t(si, { className: `${he ? "disabled" : ""} progress-bar`, disabled: he, entity: mt(e), ref: D, onPointerDownCapture: (q) => {
          q.stopPropagation();
        }, ...Gt(), children: /* @__PURE__ */ t("span", {}) }),
        /* @__PURE__ */ t(ii, { entity: mt(e), className: "clock", ref: E })
      ]
    },
    _
  ) });
}
function Nl(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "MediaPlayerCard"
  }), children: /* @__PURE__ */ t(wl, { ...r, ...e }) });
}
const Fn = (e) => Symbol.iterator in e, Ln = (e) => (
  // HACK: avoid checking entries type
  "entries" in e
), Wn = (e, r) => {
  const o = e instanceof Map ? e : new Map(e.entries()), n = r instanceof Map ? r : new Map(r.entries());
  if (o.size !== n.size)
    return !1;
  for (const [a, s] of o)
    if (!n.has(a) || !Object.is(s, n.get(a)))
      return !1;
  return !0;
}, El = (e, r) => {
  const o = e[Symbol.iterator](), n = r[Symbol.iterator]();
  let a = o.next(), s = n.next();
  for (; !a.done && !s.done; ) {
    if (!Object.is(a.value, s.value))
      return !1;
    a = o.next(), s = n.next();
  }
  return !!a.done && !!s.done;
};
function _l(e, r) {
  return Object.is(e, r) ? !0 : typeof e != "object" || e === null || typeof r != "object" || r === null || Object.getPrototypeOf(e) !== Object.getPrototypeOf(r) ? !1 : Fn(e) && Fn(r) ? Ln(e) && Ln(r) ? Wn(e, r) : El(e, r) : Wn(
    { entries: () => Object.entries(e) },
    { entries: () => Object.entries(r) }
  );
}
function kl(e) {
  const r = ua.useRef(void 0);
  return (o) => {
    const n = e(o);
    return _l(r.current, n) ? r.current : r.current = n;
  };
}
function yr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Sl = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "eblbn6u3"
} : {
  target: "eblbn6u3",
  label: "StyledCalendarCard"
})(process.env.NODE_ENV === "production" ? {
  name: "1318kic",
  styles: '.contents .calendar>*{flex-grow:1;background-color:var(--ha-S300);min-height:400px;--fc-neutral-bg-color:var(--ha-S300);--fc-list-event-hover-bg-color:var(--ha-S300);--fc-theme-standard-border-color:var(--ha-S500);--fc-border-color:var(--ha-S500);--fc-page-bg-color:var(--ha-S300);}a{color:inherit!important;}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--ha-S500);border-radius:0.5rem;}.fc-theme-standard td{border-bottom-left-radius:0.5rem;border-bottom-right-radius:0.5rem;}.fc-scrollgrid-section-header td{border:none;}th.fc-col-header-cell.fc-day{background-color:var(--ha-S200);color:var(--ha-S200-contrast);font-size:11px;font-weight:bold;text-transform:uppercase;}.fc-daygrid-dot-event:hover{background-color:inherit;}.fc-daygrid-day-top{text-align:center;padding-top:0.25rem;justify-content:center;}table.fc-scrollgrid-sync-table tbody tr:first-of-type .fc-daygrid-day-top{padding-top:0;}a.fc-daygrid-day-number{font-size:0.8rem;cursor:pointer;}.fc .fc-daygrid-day-number{}.fc .fc-daygrid-more-link{font-size:0.7rem;float:none;}.fc-daygrid-day-bottom{width:100%;text-align:center;&:before,&:after{display:none;}}.fc .fc-daygrid-day.fc-day-today{background:inherit;}td.fc-day-today .fc-daygrid-day-number{height:1.5rem;width:1.5rem;flex-grow:0;flex-shrink:0;display:flex;border-radius:50%;text-align:center;white-space:nowrap;background-color:var(--ha-A400);color:var(--ha-900-contrast);line-height:1.5rem;padding:0;align-items:center;justify-content:center;}.fc-event{border-radius:4px;line-height:1.7;cursor:pointer;}.fc-daygrid-block-event .fc-event-main{padding:0 1px;}.fc-day-past .fc-daygrid-day-events{opacity:0.5;}.fc-popover{background-color:var(--primary-background-color)!important;}.fc-popover-header{background-color:var(--secondary-background-color)!important;}.fc-theme-standard .fc-list-day-frame{background-color:transparent;}.fc-list.fc-view,.fc-list-event.fc-event td{border:none;}.fc-list-day.fc-day th{border-bottom:none;border-top:1px solid var(--fc-theme-standard-border-color, #ddd)!important;}.fc-list-day-text{font-size:16px;font-weight:400;}.fc-list-day-side-text{font-weight:400;font-size:16px;color:var(--primary-color);}.fc-list-day-cushion{background-color:var(--ha-S200);color:var(--ha-S200-contrast);}.fc-list-table td,.fc-list-day-frame{padding-top:12px;padding-bottom:12px;}&.narrow .fc-list-table{table-layout:fixed;tr th,tr td{&:first-of-type{box-sizing:border-box;width:30%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}&[aria-hidden="true"]{box-sizing:border-box;width:5%;}&:last-of-type{box-sizing:border-box;width:65%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}}}.fc-dayGridMonth-view{.fc-event-time,.fc-event-title{display:none;}.fc-daygrid-event-harness{margin-top:0!important;}.fc-daygrid-day-events{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;position:relative;margin-top:0;}}.fc-dayGridDay-view{.fc-event-title{&:before{content:"- ";}}th.fc-col-header-cell.fc-day{font-size:16px;font-weight:400;.fc-col-header-cell-cushion{padding:8px 14px;text-transform:none;}}}&.narrow{.fc-dayGridMonth-view .fc-scrollgrid-sync-table{overflow:hidden;}.fc .fc-col-header-cell-cushion{padding:0.4rem;}.monthly-toggle-view{display:none;}}.fc-header-toolbar,.fc .fc-toolbar{display:none;}'
} : {
  name: "1318kic",
  styles: '.contents .calendar>*{flex-grow:1;background-color:var(--ha-S300);min-height:400px;--fc-neutral-bg-color:var(--ha-S300);--fc-list-event-hover-bg-color:var(--ha-S300);--fc-theme-standard-border-color:var(--ha-S500);--fc-border-color:var(--ha-S500);--fc-page-bg-color:var(--ha-S300);}a{color:inherit!important;}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--ha-S500);border-radius:0.5rem;}.fc-theme-standard td{border-bottom-left-radius:0.5rem;border-bottom-right-radius:0.5rem;}.fc-scrollgrid-section-header td{border:none;}th.fc-col-header-cell.fc-day{background-color:var(--ha-S200);color:var(--ha-S200-contrast);font-size:11px;font-weight:bold;text-transform:uppercase;}.fc-daygrid-dot-event:hover{background-color:inherit;}.fc-daygrid-day-top{text-align:center;padding-top:0.25rem;justify-content:center;}table.fc-scrollgrid-sync-table tbody tr:first-of-type .fc-daygrid-day-top{padding-top:0;}a.fc-daygrid-day-number{font-size:0.8rem;cursor:pointer;}.fc .fc-daygrid-day-number{}.fc .fc-daygrid-more-link{font-size:0.7rem;float:none;}.fc-daygrid-day-bottom{width:100%;text-align:center;&:before,&:after{display:none;}}.fc .fc-daygrid-day.fc-day-today{background:inherit;}td.fc-day-today .fc-daygrid-day-number{height:1.5rem;width:1.5rem;flex-grow:0;flex-shrink:0;display:flex;border-radius:50%;text-align:center;white-space:nowrap;background-color:var(--ha-A400);color:var(--ha-900-contrast);line-height:1.5rem;padding:0;align-items:center;justify-content:center;}.fc-event{border-radius:4px;line-height:1.7;cursor:pointer;}.fc-daygrid-block-event .fc-event-main{padding:0 1px;}.fc-day-past .fc-daygrid-day-events{opacity:0.5;}.fc-popover{background-color:var(--primary-background-color)!important;}.fc-popover-header{background-color:var(--secondary-background-color)!important;}.fc-theme-standard .fc-list-day-frame{background-color:transparent;}.fc-list.fc-view,.fc-list-event.fc-event td{border:none;}.fc-list-day.fc-day th{border-bottom:none;border-top:1px solid var(--fc-theme-standard-border-color, #ddd)!important;}.fc-list-day-text{font-size:16px;font-weight:400;}.fc-list-day-side-text{font-weight:400;font-size:16px;color:var(--primary-color);}.fc-list-day-cushion{background-color:var(--ha-S200);color:var(--ha-S200-contrast);}.fc-list-table td,.fc-list-day-frame{padding-top:12px;padding-bottom:12px;}&.narrow .fc-list-table{table-layout:fixed;tr th,tr td{&:first-of-type{box-sizing:border-box;width:30%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}&[aria-hidden="true"]{box-sizing:border-box;width:5%;}&:last-of-type{box-sizing:border-box;width:65%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}}}.fc-dayGridMonth-view{.fc-event-time,.fc-event-title{display:none;}.fc-daygrid-event-harness{margin-top:0!important;}.fc-daygrid-day-events{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;position:relative;margin-top:0;}}.fc-dayGridDay-view{.fc-event-title{&:before{content:"- ";}}th.fc-col-header-cell.fc-day{font-size:16px;font-weight:400;.fc-col-header-cell-cushion{padding:8px 14px;text-transform:none;}}}&.narrow{.fc-dayGridMonth-view .fc-scrollgrid-sync-table{overflow:hidden;}.fc .fc-col-header-cell-cushion{padding:0.4rem;}.monthly-toggle-view{display:none;}}.fc-header-toolbar,.fc .fc-toolbar{display:none;}',
  toString: yr
}), Cl = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eblbn6u2"
} : {
  target: "eblbn6u2",
  label: "Header"
})(process.env.NODE_ENV === "production" ? {
  name: "1dvcxr3",
  styles: "padding:1rem"
} : {
  name: "1dvcxr3",
  styles: "padding:1rem",
  toString: yr
}), Dl = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eblbn6u1"
} : {
  target: "eblbn6u1",
  label: "EventBody"
})(process.env.NODE_ENV === "production" ? {
  name: "3jlgtg",
  styles: "overflow-wrap:break-word;color:var(--ha-S200-contrast);padding:1rem 0;width:100%;display:flex;flex-direction:column"
} : {
  name: "3jlgtg",
  styles: "overflow-wrap:break-word;color:var(--ha-S200-contrast);padding:1rem 0;width:100%;display:flex;flex-direction:column",
  toString: yr
}), Ol = /* @__PURE__ */ C(rt, process.env.NODE_ENV === "production" ? {
  target: "eblbn6u0"
} : {
  target: "eblbn6u0",
  label: "StyledAlert"
})(process.env.NODE_ENV === "production" ? {
  name: "1ubykaj",
  styles: "position:absolute;bottom:0;left:0;right:0;z-index:4;&:after{border-radius:0;}"
} : {
  name: "1ubykaj",
  styles: "position:absolute;bottom:0;left:0;right:0;z-index:4;&:after{border-radius:0;}",
  toString: yr
}), Hn = (e) => {
  if (typeof e == "string")
    return e;
  if (e?.dateTime)
    return e.dateTime;
  if (e?.date)
    return e.date;
};
function Rl(e) {
  const r = {
    month: "long",
    day: "numeric",
    year: "numeric"
  }, o = {
    hour: "2-digit",
    minute: "2-digit"
  }, n = new Date(e), a = new Intl.DateTimeFormat("en-US", r).format(n), s = new Intl.DateTimeFormat("en-US", o).format(n), c = new Date(n.getTime() + 15 * 6e4), i = new Intl.DateTimeFormat("en-US", o).format(c);
  return `${a} ${s} - ${i}`;
}
const Il = {
  headerToolbar: !1,
  plugins: [Xa, Ka, Qa],
  initialView: "dayGridMonth",
  dayMaxEventRows: !0,
  height: "parent",
  views: {
    listWeek: {
      type: "list",
      duration: {
        days: 7
      }
    }
  },
  eventTimeFormat: {
    hour: "2-digit",
    minute: "2-digit",
    hour12: !0
  }
};
function Al({
  entities: e,
  className: r,
  timeZone: o,
  view: n,
  disableAutoView: a = !1,
  disableNarrow: s = !1,
  includeHeader: c = !0,
  cssStyles: i,
  key: l,
  ...h
}) {
  const {
    callApi: d
  } = Q.getState().helpers, g = Q((U) => U.globalComponentStyles), x = Q((U) => U.config), f = G(null), u = G(!1), [b, p] = ne(null), [_, y] = ne(""), [N, k] = ne(!1), [v, S] = ne(!1), {
    width: R,
    ref: A
  } = Yr({
    refreshMode: "debounce",
    handleHeight: !1,
    refreshRate: 500
  }), [D, m] = ne(null), E = Q(kl((U) => e.map((J) => U.entities[J]))), [T, M] = ne(n ?? "dayGridMonth"), j = E.filter((U) => !Ee(U?.state)), I = $(async (U, J) => {
    p(null);
    const ae = encodeURI(`?start=${U.start.toISOString()}&end=${U.end.toISOString()}`), be = [], F = [], L = e.map(async (te) => d(`/calendars/${te}${ae}`, {
      method: "GET"
    }).then((ce) => ({
      result: ce,
      error: ce.status === "error" ? ce.data : null,
      entityId: te
    }), (ce) => ({
      error: ce,
      result: null,
      entityId: te
    })));
    (await Promise.all(L)).forEach(({
      result: te,
      error: ce,
      entityId: ue
    }, he) => {
      const ve = _a(he);
      if (ce || !te || te.status === "error") {
        F.push(`${ue} - ${ce}`);
        return;
      }
      (te.data ?? []).forEach((me) => {
        const _e = Hn(me.start), Ne = Hn(me.end);
        if (!_e || !Ne)
          return;
        const Pe = {
          uid: me.uid,
          summary: me.summary,
          description: me.description,
          dtstart: _e,
          dtend: Ne,
          recurrence_id: me.recurrence_id,
          rrule: me.rrule
        }, Xe = {
          start: _e,
          end: Ne,
          title: me.summary,
          backgroundColor: ve,
          borderColor: ve,
          calendar: e[he],
          eventData: Pe
        };
        be.push(Xe);
      });
    }), F.length > 0 ? (p(`${B("components.calendar.event_retrieval_error")}: "${F.join(", ")}".`), J([])) : J(be), u.current = !0;
  }, [d, e]), z = $((U) => {
    if (!f.current) return;
    const J = f.current.getApi();
    J.batchRendering(() => {
      J.removeAllEventSources(), U(J), J.addEventSource(I), y(J.view.title);
    });
  }, [I]), V = $((U) => {
    if (f.current) {
      const J = f.current.getApi();
      f.current.requestResize(), U < 400 && (!a && J.view.type !== "listWeek" && z((ae) => {
        ae.setOption("eventDisplay", "auto"), ae.changeView("listWeek"), M("listWeek");
      }), !v && !s && S(!0)), U >= 400 && v && !s && S(!1);
    }
  }, [v, a, s, z]);
  K(() => {
    R && V(R);
  }, [R, V]);
  const O = $(() => {
    z((U) => U.next());
  }, [z]), W = $(() => {
    z((U) => U.prev());
  }, [z]), P = $(() => {
    z((U) => U.today());
  }, [z]), re = $((U) => {
    if (U === T || !f.current) return;
    const J = U === "dayGridMonth" ? "list-item" : "auto";
    z((ae) => {
      ae.setOption("eventDisplay", J), ae.changeView(U), M(U);
    });
  }, [T, z]), H = $((U) => {
    const J = j.find((ae) => ae.entity_id === U.event.extendedProps.calendar);
    m({
      ...U.event.extendedProps,
      entity: J ?? null
    });
  }, [j]), Y = $((U) => {
    U.view.type === "dayGridMonth" && z((J) => {
      J.gotoDate(U.date), J.changeView("dayGridDay"), M("dayGridDay");
    });
  }, [z]);
  return K(() => {
    if (!u.current)
      if (n)
        z((U) => {
          U.changeView(n);
        });
      else {
        const U = "dayGridMonth", J = "list-item";
        z((ae) => {
          ae.setOption("eventDisplay", J), ae.changeView(U), M(U);
        });
      }
  }, [z, n]), /* @__PURE__ */ w(Sl, { disableScale: !0, disableActiveState: !0, disableRipples: !0, className: `calendar-card ${r ?? ""} ${v ? "narrow" : ""}`, cssStyles: `
        ${g.calendarCard ?? ""}
        ${i ?? ""}
      `, ...h, children: [
    c && /* @__PURE__ */ w(Cl, { className: "header", children: [
      /* @__PURE__ */ w(ee, { justifyContent: "space-between", children: [
        /* @__PURE__ */ t(ie, { children: /* @__PURE__ */ t("h3", { className: "title", children: _ }) }),
        /* @__PURE__ */ w(nt, { className: "button-group-nav", children: [
          /* @__PURE__ */ t(Ae, { title: B("previous"), size: 35, disabled: N, onClick: () => {
            W();
          }, icon: "mdi:navigate-before" }),
          /* @__PURE__ */ t(Ae, { title: B("next"), size: 35, disabled: N, onClick: () => {
            O();
          }, icon: "mdi:navigate-next" })
        ] })
      ] }),
      /* @__PURE__ */ t(ee, { justifyContent: "flex-end", children: /* @__PURE__ */ w(nt, { className: "button-group-views", children: [
        /* @__PURE__ */ t(Ae, { title: B("today"), size: 35, disabled: N, onClick: () => {
          P();
        }, noIcon: !0, children: B("today").toUpperCase() }),
        /* @__PURE__ */ t(Ae, { className: "monthly-toggle-view", title: B("monthly"), active: T === "dayGridMonth", size: 35, disabled: N, onClick: () => {
          re("dayGridMonth");
        }, icon: "mdi:view-module" }),
        /* @__PURE__ */ t(Ae, { title: B("weekly"), size: 35, disabled: N, onClick: () => {
          re("listWeek");
        }, icon: "mdi:view-week" }),
        /* @__PURE__ */ t(Ae, { title: B("daily"), size: 35, disabled: N, onClick: () => {
          re("dayGridDay");
        }, icon: "mdi:view-day" })
      ] }) })
    ] }),
    /* @__PURE__ */ t("div", { className: "calendar", ref: A, children: /* @__PURE__ */ t(Ga, { dateClick: Y, moreLinkClick: Y, eventClick: H, editable: !1, ref: f, loading: (U) => {
      k(U);
    }, locale: x?.language, timeZone: o ?? "local", progressiveEventRendering: !0, ...Il }) }),
    N && /* @__PURE__ */ t(Ol, { className: "loading", description: `${B("loading")}...` }),
    D && /* @__PURE__ */ t(rn, { title: D.eventData.summary, id: D.eventData.uid, description: /* @__PURE__ */ t(ee, { justifyContent: "flex-start", gap: "1rem", style: {
      textTransform: "lowercase"
    }, children: D.entity.attributes.friendly_name }), open: !0, onClose: () => {
      m(null);
    }, children: /* @__PURE__ */ w(ie, { justifyContent: "flex-start", alignItems: "flex-start", children: [
      /* @__PURE__ */ w(ee, { justifyContent: "flex-start", gap: "1rem", children: [
        /* @__PURE__ */ t(we, { style: {
          fontSize: "1.5rem"
        }, icon: "mdi:calendar-clock" }),
        /* @__PURE__ */ t("span", { children: Rl(D.eventData.dtstart) })
      ] }),
      D.eventData.description && /* @__PURE__ */ t(Dl, { dangerouslySetInnerHTML: {
        __html: Ja.link(D.eventData.description.replace(/\n/g, "<br/>"), {
          newWindow: !0,
          stripPrefix: !1
        })
      } })
    ] }) }),
    b && /* @__PURE__ */ t(rt, { title: B("components.calendar.event_retrieval_error"), type: "error", children: b })
  ] }, l);
}
function Kh(e) {
  const r = {
    xxs: 12,
    xs: 8,
    sm: 6,
    md: 6,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "CalendarCard"
  }), children: /* @__PURE__ */ t(Al, { ...r, ...e }) });
}
function Tl() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const zl = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "esp99v32"
} : {
  target: "esp99v32",
  label: "ButtonBarParent"
})("display:flex;", ({
  fullWidth: e
}) => e ? `
        > .fit-content {
          flex-basis: auto;
          width: 100%;
        }
      ` : "", ";"), Vl = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "esp99v31"
} : {
  target: "esp99v31",
  label: "FitContent"
})(process.env.NODE_ENV === "production" ? {
  name: "16j8dh",
  styles: "display:flex;flex-basis:fit-content"
} : {
  name: "16j8dh",
  styles: "display:flex;flex-basis:fit-content",
  toString: Tl
}), $l = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "esp99v30"
} : {
  target: "esp99v30",
  label: "ButtonBarInner"
})("display:flex;flex-direction:row;flex-wrap:", ({
  wrap: e
}) => e || "wrap", ";justify-content:", ({
  justifyContent: e
}) => e || "center", ";align-items:", ({
  alignItems: e
}) => e || "center", ";width:", ({
  fullWidth: e
}) => e ? "100%" : "auto", ";height:", ({
  fullHeight: e
}) => e ? "100%" : "auto", ";overflow:hidden;flex-wrap:nowrap;>*{height:100%;width:auto;display:flex;align-items:stretch;.button-bar-button{height:100%;display:flex;align-items:stretch;}}&.grouped{background-color:var(--ha-S300);border-radius:0.5rem;border:1px solid var(--ha-S500);>*{border-right:1px solid var(--ha-S500);&:last-of-type{border-right:none;}}}&.bubble{gap:", ({
  gap: e
}) => e || "0px", ";>*{flex-grow:1;}.button-bar-button{background-color:var(--ha-300-a3-contrast);color:var(--ha-300);&:not(.disabled):not(:focus):hover{background-color:var(--ha-S50-a6);color:var(--ha-500);}}}");
function Ml({
  key: e,
  alignItems: r,
  fullWidth: o,
  fullHeight: n,
  gap: a,
  justifyContent: s,
  wrap: c,
  style: i,
  id: l,
  className: h,
  cssStyles: d,
  children: g,
  layoutType: x = "grouped",
  ...f
}) {
  const u = Re.map(g, (b, p) => Te(b) ? Ue(b, {
    key: b.key || p,
    // @ts-expect-error - it does exist, fix types later
    size: b?.props?.size ?? (x === "bubble" ? 35 : 30),
    borderRadius: x === "bubble" ? "8px" : "0px"
  }) : null);
  return /* @__PURE__ */ t(zl, { id: l ?? "", css: /* @__PURE__ */ Se(d ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalButtonBar;")), layoutType: x, className: `button-bar ${x} ${h ?? ""}`, style: {
    ...i ?? {}
  }, ...f, children: /* @__PURE__ */ t(Vl, { className: "fit-content", children: /* @__PURE__ */ t($l, { className: `button-group-inner ${x}`, alignItems: r, justifyContent: s, wrap: c, gap: a ?? x === "bubble" ? "0.5rem" : "0", fullWidth: o, fullHeight: n, children: u }) }) }, e);
}
function nt(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ButtonBar"
  }), children: /* @__PURE__ */ t(Ml, { ...e }) });
}
const Pl = 35;
function Ae({
  key: e,
  children: r,
  active: o,
  className: n,
  size: a,
  cssStyles: s,
  borderRadius: c,
  hideActiveBorder: i,
  ...l
}) {
  return /* @__PURE__ */ t(fe, { className: `button-bar-button ${n ?? ""} ${i ? "hide-active-border" : ""}`, disableScale: !0, borderRadius: c ?? 0, size: a ?? Pl, active: o, cssStyles: `
        &.button-bar-button {
          height: auto;
          &:not(.hide-active-border) {
            border-bottom: 2px solid transparent;
            transition: border-bottom-color var(--ha-transition-duration) var(--ha-easing);
          }
          
          .contents {
            > div {
              padding: 0.4rem;
            }
          }
          &.active {
            &:not(.hide-active-border) {
              border-bottom-color: var(--ha-A400);
            }
          }
        }
        ${s ?? ""}
      `, ...l, children: r }, e);
}
const jl = /* @__PURE__ */ C(ee, process.env.NODE_ENV === "production" ? {
  target: "eih8kqy0"
} : {
  target: "eih8kqy0",
  label: "ButtonGroupParent"
})("--ha-control-button-group-thickness:", (e) => e.thickness, "px;width:auto;&:not(.maintain-aspect-ratio){>*{flex:1;height:100%;width:100%;}}&.maintain-aspect-ratio{>*{flex-grow:0;}}&:not(.vertical){height:var(--ha-control-button-group-thickness);&.maintain-aspect-ratio{>*{height:100%;width:var(--ha-control-button-group-thickness);}}}&.vertical{width:var(--ha-control-button-group-thickness);&.maintain-aspect-ratio{>*{width:100%;height:var(--ha-control-button-group-thickness);}}}");
function Bl({
  key: e,
  orientation: r = "vertical",
  reverse: o = !1,
  thickness: n = 100,
  children: a,
  className: s,
  gap: c = "1rem",
  maintainAspectRatio: i = !0,
  ...l
}) {
  const h = Re.map(a, (x, f) => Te(x) ? Ue(x, {
    key: x.key || f
  }) : x), d = oe(() => ["button-group-parent", s, i ? "maintain-aspect-ratio" : "", o ? "reverse" : "", r === "vertical" ? "vertical" : ""].filter((x) => !!x).join(" "), [i, s, o, r]), g = oe(() => o ? r === "vertical" ? "column-reverse" : "row-reverse" : r === "vertical" ? "column" : "row", [o, r]);
  return /* @__PURE__ */ t(jl, { ...l, style: {
    ...l.style || {},
    flexDirection: g
  }, gap: c, thickness: n, className: d, children: h }, e);
}
function At(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ButtonGroup"
  }), children: /* @__PURE__ */ t(Bl, { ...e }) });
}
const Fl = /* @__PURE__ */ C("button", process.env.NODE_ENV === "production" ? {
  target: "e17qyjtk0"
} : {
  target: "e17qyjtk0",
  label: "Button"
})("outline:none;cursor:pointer;border:0;border-radius:", (e) => e.borderRadius ?? 0.25, "rem;background-color:var(--ha-S300);color:var(--ha-S500-contrast);display:flex;flex-shrink:0;aspect-ratio:1/1;justify-content:center;align-items:center;box-shadow:0px 2px 4px rgba(0, 0, 0, 0.1);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:transform,background-color,color,box-shadow,opacity;font-size:calc(var(--ha-control-button-group-thickness) / 4);width:100%;height:100%;svg{transition:color var(--ha-transition-duration) var(--ha-easing);}&:not(:disabled):hover{background-color:var(--ha-S400);}&:disabled{cursor:not-allowed;opacity:0.8;}&.active:not(:disabled){background-color:", (e) => e.activeColor ?? "var(--ha-A400)", ";color:var(--ha-900-contrast);svg{color:var(--ha-900-contrast);}&:hover{background-color:", (e) => e.activeColor ?? "var(--ha-A700)", ";}}&:active:not(:disabled):not(.disable-scale-effect){transform:scale(0.9);}");
function Ll({
  entity: e,
  onClick: r,
  icon: o,
  iconProps: n,
  title: a,
  active: s,
  service: c,
  serviceData: i,
  key: l,
  showTitle: h = !1,
  activeColor: d,
  children: g,
  disabled: x,
  disableScaleEffect: f = !1,
  style: u,
  ...b
}) {
  const p = pe(e ?? "unknown", {
    returnNullIfNotFound: !0
  }), _ = $e(o ?? p?.attributes?.icon ?? (g ? null : "mdi:help-circle-outline"), n), y = oe(() => a ?? p?.attributes?.friendly_name ?? p?.entity_id ?? "", [p, a]), N = oe(() => s ?? p?.state === je, [p, s]);
  return /* @__PURE__ */ t(ye, { placement: "left", title: y, ...b, children: /* @__PURE__ */ w(Fl, { className: `button-group-button ${h ? "has-title" : ""} ${N ? "active" : ""} ${f ? "disable-scale-effect" : ""}`, activeColor: d, disabled: x, onClick: () => {
    r && r(p), c && p && p.service[c](i ?? {});
  }, style: u, children: [
    h && /* @__PURE__ */ w(ie, { children: [
      /* @__PURE__ */ t(ee, { fullWidth: !0, children: _ }),
      /* @__PURE__ */ t(ee, { fullWidth: !0, style: {
        fontSize: "1.2rem"
      }, children: a })
    ] }),
    !h && _,
    g && g
  ] }) }, l);
}
function Ke(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ButtonGroupButton"
  }), children: /* @__PURE__ */ t(Ll, { ...e }) });
}
function Wl({
  url: e,
  posterUrl: r,
  controls: o = !0,
  muted: n = !1,
  autoPlay: a = !1,
  playsInline: s = !1,
  onStateChange: c
}) {
  const i = G(null), [l, h] = ne(null), [d, g] = ne(null), x = G(void 0), f = G(!1), u = $(async (y, N, k) => {
    const v = new N({
      backBufferLength: 60,
      fragLoadingTimeOut: 3e4,
      manifestLoadingTimeOut: 3e4,
      levelLoadingTimeOut: 3e4,
      maxLiveSyncPlaybackRate: 2,
      lowLatencyMode: p()
    });
    x.current = v, v.attachMedia(y), v.on(N.Events.MEDIA_ATTACHED, () => {
      g(null), h(null), v.loadSource(k);
    }), v.on(N.Events.FRAG_LOADED, () => {
      g(null), h(null);
    }), v.on(N.Events.ERROR, (S, R) => {
      if (R.fatal)
        if (R.type === N.ErrorTypes.NETWORK_ERROR) {
          switch (R.details) {
            case N.ErrorDetails.MANIFEST_LOAD_ERROR: {
              let A = "Error starting stream, see logs for details";
              R.response !== void 0 && R.response.code !== void 0 && (R.response.code >= 500 ? A += " (Server failure)" : R.response.code >= 400 ? A += " (Stream never started)" : A += " (" + R.response.code + ")"), g(A);
              break;
            }
            case N.ErrorDetails.MANIFEST_LOAD_TIMEOUT:
              g("Timeout while starting stream");
              break;
            default:
              g("Stream network error");
              break;
          }
          v.startLoad();
        } else R.type === N.ErrorTypes.MEDIA_ERROR ? (g("Error with media stream contents"), v.recoverMediaError()) : h("Error playing stream");
    });
  }, []), b = $(async () => {
    if (!i.current || f.current)
      return;
    const y = fetch(e), N = (await import("./hls.light-B2iPb-fX.js")).default;
    f.current = !0;
    let k = N.isSupported();
    if (k || (k = i.current.canPlayType("application/vnd.apple.mpegurl") !== ""), !k) {
      h("video not supported");
      return;
    }
    const v = await (await y).text(), S = /#EXT-X-STREAM-INF:.*?(?:CODECS=".*?(hev1|hvc1)?\..*?".*?)?(?:\n|\r\n)(.+)/g, R = S.exec(v), A = S.exec(v);
    let D;
    R !== null && A === null ? D = new URL(R[2], e).href : D = e, N.isSupported() ? u(i.current, N, D) : _(i.current, D);
  }, [e, u]);
  function p() {
    if (typeof window < "u" && !("performance" in window) || performance.getEntriesByType("resource").length === 0)
      return !1;
    const y = performance.getEntriesByType("resource")[0];
    return "nextHopProtocol" in y && y.nextHopProtocol === "h2";
  }
  async function _(y, N) {
    y.src = N, y.addEventListener("loadedmetadata", () => {
      y.play();
    });
  }
  return K(() => {
    b();
  }, [b]), l ? /* @__PURE__ */ t(rt, { type: "error", description: l }) : (d && console.error(d), /* @__PURE__ */ t(ko, { ref: i, type: "application/vnd.apple.mpegurl", poster: r, autoPlay: a, muted: n, playsInline: s, controls: o, onVideoStateChange: c }));
}
function Hl({
  entity: e,
  controls: r,
  muted: o,
  autoPlay: n,
  playsInline: a,
  posterUrl: s,
  onStateChange: c
}) {
  const i = Q((v) => v.connection), l = G(null), [h, d] = ne(void 0), g = G(void 0), x = G(void 0), f = G(void 0), u = G([]), b = G(void 0), p = G(!1), _ = $(async () => i?.sendMessagePromise({
    type: "camera/webrtc/get_client_config",
    entity_id: e
  }), [i, e]), y = () => {
    if (x.current && (x.current.getTracks().forEach((v) => {
      v.stop();
    }), x.current = void 0), l.current && (l.current.removeAttribute("src"), l.current.load()), g.current) {
      const v = g.current;
      v.close(), v.onnegotiationneeded = null, v.onicecandidate = null, v.oniceconnectionstatechange = null, v.onicegatheringstatechange = null, v.ontrack = null, v.onsignalingstatechange = null, g.current = void 0;
    }
    b.current?.then((v) => v()), b.current = void 0, f.current = void 0, u.current = [];
  }, N = $(async (v) => {
    !x.current || !l.current || (x.current.addTrack(v.track), l.current.srcObject = x.current);
  }, [x]), k = $(async () => {
    if (!i || !l.current || p.current) return;
    p.current = !0, d(void 0);
    const v = await _();
    if (!v) return;
    const S = new RTCPeerConnection(v.configuration);
    v.dataChannel && S.createDataChannel(v.dataChannel);
    const R = (E, T) => i?.sendMessage({
      type: "camera/webrtc/candidate",
      entity_id: e,
      session_id: E,
      candidate: T
    }), A = async () => {
      if (!S)
        return;
      const E = {
        offerToReceiveAudio: !0,
        offerToReceiveVideo: !0
      }, T = await S.createOffer(E);
      if (!S || (await S.setLocalDescription(T), !S))
        return;
      let M = "";
      if (v?.getCandidatesUpfront && (await new Promise((V) => {
        S.onicegatheringstatechange = (O) => {
          O.target.iceGatheringState === "complete" && (S.onicegatheringstatechange = null, V());
        };
      }), !S))
        return;
      for (; u.current.length; ) {
        const V = u.current.pop();
        V && (M += `a=${V}\r
`);
      }
      const j = async (V) => {
        if (!g.current?.signalingState || ["stable", "closed"].includes(g.current.signalingState))
          return;
        const O = new RTCSessionDescription({
          type: "answer",
          sdp: V.answer
        });
        try {
          await g.current.setRemoteDescription(O);
        } catch (W) {
          W instanceof Error && d("Failed to connect WebRTC stream: " + W.message), y();
        }
      }, I = async (V) => {
        if (V.type === "session")
          f.current = V.session_id, u.current.forEach((O) => R(V.session_id, O.toJSON())), u.current = [];
        else if (V.type === "answer")
          j(V);
        else if (V.type === "candidate")
          try {
            const O = V.candidate.sdpMid || V.candidate.sdpMLineIndex != null ? new RTCIceCandidate(V.candidate) : new RTCIceCandidate({
              candidate: V.candidate.candidate,
              sdpMid: "0"
            });
            await g.current?.addIceCandidate(O);
          } catch (O) {
            O instanceof Error && d(O.message), console.error(O);
          }
        else V.type === "error" && (d("Failed to start WebRTC stream: " + V.message), y());
      }, z = T.sdp + M;
      try {
        b.current = i.subscribeMessage((V) => I(V), {
          type: "camera/webrtc/offer",
          entity_id: e,
          offer: z
        });
      } catch (V) {
        V instanceof Error && d("Failed to start WebRTC stream: " + V.message), y();
      }
    };
    S.onnegotiationneeded = A;
    const D = (E) => {
      E.candidate?.candidate && (f.current ? R(f.current, E.candidate.toJSON()) : u.current.push(E.candidate));
    };
    S.onicecandidate = D;
    const m = () => {
      S?.iceConnectionState === "failed" && S.restartIce();
    };
    S.oniceconnectionstatechange = m, S.onsignalingstatechange = (E) => {
      switch (E.target.signalingState) {
        case "stable":
          console.log("WebRTC ICE Negotiation complete");
          break;
        default:
          console.log(`WebRTC signaling state changed: ${E.target.signalingState}`);
      }
    }, x.current = new MediaStream(), S.ontrack = N, S.addTransceiver("audio", {
      direction: "recvonly"
    }), S.addTransceiver("video", {
      direction: "recvonly"
    }), g.current = S;
  }, [_, N, i, e]);
  return K(() => {
    k();
  }, [k]), K(() => {
    const v = l.current;
    return () => {
      x.current && (x.current.getTracks().forEach((S) => {
        S.stop();
      }), x.current = void 0), v && (v.removeAttribute("src"), v.load()), g.current && (g.current.close(), g.current = void 0);
    };
  }, []), h ? /* @__PURE__ */ t(rt, { type: "error", description: h }) : /* @__PURE__ */ t(ko, { ref: l, poster: s, autoPlay: n, muted: o, playsInline: a, controls: r, onVideoStateChange: c });
}
function ql({
  entity: e,
  muted: r = !1,
  controls: o = !0,
  autoPlay: n = !1,
  playsInline: a = !1,
  onStateChange: s
}) {
  const c = go(e), {
    stream: i,
    poster: l,
    mjpeg: h
  } = c;
  return h.shouldRenderMJPEG && h.url ? /* @__PURE__ */ t("img", { src: h.url, alt: `${B("camera_view")} "${c.attributes.friendly_name ?? c.entity_id}".` }) : c.frontend_stream_types.includes(vo) ? /* @__PURE__ */ t(Hl, { autoPlay: n, playsInline: a, muted: r, controls: o, entity: e, onStateChange: s, posterUrl: l.url }) : c.frontend_stream_types.includes(bo) ? !l.loading && l.url && !i.loading && i.url && /* @__PURE__ */ t(Wl, { autoPlay: n, muted: r, controls: o, playsInline: a, posterUrl: l.url, onStateChange: s, url: i.url }) : null;
}
function Ht() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Ul = /* @__PURE__ */ C(ee, process.env.NODE_ENV === "production" ? {
  target: "eh4n7gh5"
} : {
  target: "eh4n7gh5",
  label: "Header"
})(process.env.NODE_ENV === "production" ? {
  name: "14evq1",
  styles: "position:absolute;top:0;left:0;right:0;padding:0.5rem;z-index:1"
} : {
  name: "14evq1",
  styles: "position:absolute;top:0;left:0;right:0;padding:0.5rem;z-index:1",
  toString: Ht
}), Yl = /* @__PURE__ */ C(fe, process.env.NODE_ENV === "production" ? {
  target: "eh4n7gh4"
} : {
  target: "eh4n7gh4",
  label: "StateFabCard"
})("box-shadow:0px 2px 4px rgba(255, 255, 255, 0.1);border-radius:10px;.icon{background-color:", (e) => e.active ? "rgba(255,255,255,0.8)" : "rgba(255,255,255,0.5)", ";color:", (e) => e.active ? "rgba(0, 0, 0, 1)" : "rgba(0, 0, 0, 0.4)", ";&:not(:disabled):hover{background-color:", (e) => e.active ? "rgba(255,255,255,0.8)" : "rgba(255,255,255,0.5)", ";}}"), Gl = /* @__PURE__ */ C(Ce, process.env.NODE_ENV === "production" ? {
  target: "eh4n7gh3"
} : {
  target: "eh4n7gh3",
  label: "Wrapper"
})(process.env.NODE_ENV === "production" ? {
  name: "1w0uscc",
  styles: "aspect-ratio:16/9"
} : {
  name: "1w0uscc",
  styles: "aspect-ratio:16/9",
  toString: Ht
}), qn = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eh4n7gh2"
} : {
  target: "eh4n7gh2",
  label: "CameraName"
})(process.env.NODE_ENV === "production" ? {
  name: "1urrs02",
  styles: "color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);padding:0.5rem;border-radius:0.4rem"
} : {
  name: "1urrs02",
  styles: "color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);padding:0.5rem;border-radius:0.4rem",
  toString: Ht
}), Xl = /* @__PURE__ */ C(ee, process.env.NODE_ENV === "production" ? {
  target: "eh4n7gh1"
} : {
  target: "eh4n7gh1",
  label: "Footer"
})(process.env.NODE_ENV === "production" ? {
  name: "1v9exgy",
  styles: "padding:0.5rem;color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem;z-index:1"
} : {
  name: "1v9exgy",
  styles: "padding:0.5rem;color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem;z-index:1",
  toString: Ht
}), Ql = /* @__PURE__ */ C(we, process.env.NODE_ENV === "production" ? {
  target: "eh4n7gh0"
} : {
  target: "eh4n7gh0",
  label: "StyledIcon"
})(process.env.NODE_ENV === "production" ? {
  name: "1jjc3cw",
  styles: "opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:2rem"
} : {
  name: "1jjc3cw",
  styles: "opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:2rem",
  toString: Ht
}), nr = 40;
function Kl({
  entity: e,
  view: r = "poster",
  autoPlay: o = !0,
  muted: n = !0,
  controls: a = !1,
  playsInline: s = !0,
  posterUpdateInterval: c = 1e4,
  className: i,
  name: l,
  hideName: h,
  headerSensors: d,
  hideFooter: g,
  hideViewControls: x,
  onClick: f,
  service: u,
  serviceData: b,
  cssStyles: p,
  key: _,
  ...y
}) {
  const N = Q((Y) => Y.globalComponentStyles), k = G(void 0), v = G(null), S = G(null), [R, A] = ne(!0), [D, m] = ne(r), E = go(e, {
    // stream loading handled internally on the stream component
    stream: !1,
    poster: D === "poster"
  }), {
    poster: T,
    mjpeg: M
  } = E, j = Ee(E.state), I = E.frontend_stream_types.includes(vo) || E.frontend_stream_types.includes(bo), z = () => {
    k.current && (clearInterval(k.current), k.current = void 0);
  }, V = $(() => {
    z(), k.current = setInterval(() => T.refresh(), c);
  }, [T, c]);
  K(() => () => {
    z();
  }, []), K(() => {
    r === "poster" && V();
  }, [r, V]), K(() => {
    r && m(r);
  }, [r]);
  const O = $(() => {
    A(!1);
  }, []), W = $(() => {
    A(!0);
  }, []), P = $((Y) => {
    S.current !== null && (Y === "canplay" || Y === "canplaythrough" ? S.current.innerText = "ready" : Y === "play" || Y === "playing" ? S.current.innerText = "playing" : S.current.innerText = Y), v.current && (v.current.style.opacity = Y === "waiting" || Y === "stalled" ? "1" : "0");
  }, []), re = oe(() => {
    const Y = [];
    return I && Y.push(/* @__PURE__ */ t(Ae, { icon: "mdi:video", size: nr, disabled: j, onClick: () => {
      m("live");
    }, active: D === "live", title: B("preload_camera_stream"), tooltipPlacement: "top", rippleProps: {
      preventPropagation: !0
    } }, "live")), Y.push(/* @__PURE__ */ t(Ae, { icon: "mdi:video-image", size: nr, disabled: j, onClick: () => {
      m("motion");
    }, active: D === "motion", title: `${B("motion")} ${B("view")}`, tooltipPlacement: "top", rippleProps: {
      preventPropagation: !0
    } }, "motion"), /* @__PURE__ */ t(Ae, { icon: "el:picture", size: nr, disabled: j, onClick: () => {
      m("poster");
    }, active: D === "poster", title: `${B("image")} ${B("view")}`, tooltipPlacement: "top", rippleProps: {
      preventPropagation: !0
    } }, "poster")), Y;
  }, [I, j, D]), H = oe(() => l ?? E.attributes.friendly_name ?? E.entity_id, [l, E]);
  return /* @__PURE__ */ t(se, { children: /* @__PURE__ */ w(
    Gl,
    {
      entity: e,
      service: u,
      serviceData: b,
      disableActiveState: !0,
      title: H,
      className: `camera-card ${i ?? ""}`,
      onClick: (Y) => {
        f && f(E, Y);
      },
      cssStyles: `
          ${N.cameraCard ?? ""}
          ${p ?? ""}
        `,
      ...y,
      children: [
        /* @__PURE__ */ w(Ul, { justifyContent: "space-between", gap: "0.5rem", children: [
          /* @__PURE__ */ t(ee, { justifyContent: "flex-start", gap: "0.5rem", children: /* @__PURE__ */ t(Yl, { active: !0, borderRadius: 10, disableScale: !0, size: 30, noIcon: !0, children: /* @__PURE__ */ t("div", { ref: S, children: R || D === "live" ? B("loading") : E.state }) }) }),
          j && /* @__PURE__ */ w(qn, { children: [
            B("unavailable"),
            " ",
            E.entity_id
          ] }),
          !h && /* @__PURE__ */ t(qn, { children: H })
        ] }),
        !g && /* @__PURE__ */ w(Xl, { justifyContent: "space-between", gap: "0.5rem", wrap: "nowrap", children: [
          d && /* @__PURE__ */ t(nt, { layoutType: "bubble", gap: "0.5rem", children: Re.map(d, (Y, U) => Te(Y) ? Ue(Y, {
            key: Y.key || U,
            size: Y.props.size ?? nr,
            rippleProps: {
              preventPropagation: !0,
              ...Y?.props?.rippleProps ?? {},
              key: Y.key || U
            }
          }) : Y) }),
          !x && /* @__PURE__ */ t(nt, { gap: "0.5rem", layoutType: "bubble", children: re })
        ] }),
        D !== "live" && (T.url || M.url) && /* @__PURE__ */ t(Gr, { onLoad: O, onLoading: W, src: D === "motion" && M.url ? M.url : T.url ?? "", style: {
          width: "100%",
          height: "100%",
          position: "absolute"
        }, lazy: !0 }),
        D === "live" && /* @__PURE__ */ w(se, { children: [
          /* @__PURE__ */ t(Ql, { ref: v, icon: "eos-icons:three-dots-loading" }),
          /* @__PURE__ */ t(ql, { autoPlay: o, muted: n, controls: a, playsInline: s, onStateChange: P, entity: e })
        ] })
      ]
    },
    _
  ) });
}
function Jh(e) {
  const r = {
    xxs: 12,
    xs: 6,
    sm: 6,
    md: 4,
    lg: 4,
    xlg: 3
  };
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "CameraCard"
  }), children: /* @__PURE__ */ t(Kl, { ...r, ...e }) });
}
function qo() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Jl = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e124bvc21"
} : {
  target: "e124bvc21",
  label: "Wrapper"
})(process.env.NODE_ENV === "production" ? {
  name: "1w3rsmz",
  styles: "--divider-color:rgba(225, 225, 225, 0.12);display:block;height:100%;width:100%;.entry-container{width:100%;}.entry{position:relative;display:flex;width:100%;line-height:1.6rem;padding:0.5rem 1rem;box-sizing:border-box;border-top:1px solid var(--divider-color);justify-content:space-between;align-items:center;}.indicator{background-color:var(--disabled-color);height:0.5rem;width:0.5rem;border-radius:0.25rem;flex-shrink:0;margin-right:0.7rem;margin-inline-start:initial;margin-inline-end:0.7rem;}.entry:hover{background-color:rgba(0, 0, 0, 0.12);}.message-relative_time{display:flex;flex-direction:column;}.secondary{font-size:0.8rem;line-height:1.7;display:flex;gap:0.25rem;}.secondary a{color:var(--ha-S300-contrast);}.date{margin:0.5rem 0;padding:0 1rem;}.icon-message{display:flex;align-items:center;}.no-entries{text-align:center;color:var(--ha-S300-contrast);width:100%;display:block;padding:0.5rem;}.message{color:var(--ha-S100-contrast);span{padding-right:0.15rem;}}.message span:first-of-type{&:first-letter{text-transform:capitalize;}}button.link{color:var(--ha-A100);text-decoration:none;background:0px 0px;border:none;padding:0px;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0px;margin-right:0.15rem;}"
} : {
  name: "1w3rsmz",
  styles: "--divider-color:rgba(225, 225, 225, 0.12);display:block;height:100%;width:100%;.entry-container{width:100%;}.entry{position:relative;display:flex;width:100%;line-height:1.6rem;padding:0.5rem 1rem;box-sizing:border-box;border-top:1px solid var(--divider-color);justify-content:space-between;align-items:center;}.indicator{background-color:var(--disabled-color);height:0.5rem;width:0.5rem;border-radius:0.25rem;flex-shrink:0;margin-right:0.7rem;margin-inline-start:initial;margin-inline-end:0.7rem;}.entry:hover{background-color:rgba(0, 0, 0, 0.12);}.message-relative_time{display:flex;flex-direction:column;}.secondary{font-size:0.8rem;line-height:1.7;display:flex;gap:0.25rem;}.secondary a{color:var(--ha-S300-contrast);}.date{margin:0.5rem 0;padding:0 1rem;}.icon-message{display:flex;align-items:center;}.no-entries{text-align:center;color:var(--ha-S300-contrast);width:100%;display:block;padding:0.5rem;}.message{color:var(--ha-S100-contrast);span{padding-right:0.15rem;}}.message span:first-of-type{&:first-letter{text-transform:capitalize;}}button.link{color:var(--ha-A100);text-decoration:none;background:0px 0px;border:none;padding:0px;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0px;margin-right:0.15rem;}",
  toString: qo
}), Zl = ["script", "automation"], ed = (e) => e.context_event_type || e.context_state || e.context_message, td = (e, r) => r ? e.replace(r, " ") : e, rd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e124bvc20"
} : {
  target: "e124bvc20",
  label: "Header"
})(process.env.NODE_ENV === "production" ? {
  name: "p5tmle",
  styles: "display:flex;flex-direction:column;gap:0.5rem"
} : {
  name: "p5tmle",
  styles: "display:flex;flex-direction:column;gap:0.5rem",
  toString: qo
});
function nd({
  entity: e,
  hideIndicator: r = !1,
  hideHeader: o = !1,
  options: n,
  className: a,
  cssStyles: s,
  id: c,
  style: i,
  ...l
}) {
  const h = ka(e, n), {
    joinHassUrl: d
  } = Q.getState().helpers, g = Q((m) => m.entities), x = Q((m) => m.services), f = Q((m) => m.config?.language), u = yo(e), b = $(async (m) => {
    m && u && u.device_id && typeof window < "u" && window.open(d(`config/devices/device/${u.device_id}`), "_blank");
  }, [u, d]), p = $(() => {
    typeof window > "u" || window.open(d(`/logbook?entity_id=${e}`), "_blank");
  }, [e, d]), _ = $((m, E) => {
    const T = m && m in g, M = E || T && g[m].attributes.friendly_name || m;
    return T ? /* @__PURE__ */ t("button", { className: "link entity-name", onClick: () => b(m), children: M }) : /* @__PURE__ */ t("span", { className: "entity-name", children: M });
  }, [g, b]), y = $((m) => new Intl.DateTimeFormat("en-US", {
    hour: "numeric",
    minute: "2-digit",
    second: "2-digit",
    hourCycle: "h12"
  }).format(m), []), N = $((m, E, T) => {
    if (m.indexOf(".") !== -1) {
      const M = m.split(" ");
      for (let j = 0, I = M.length; j < I; j++)
        if (M[j] in g) {
          const z = M[j];
          if (E.includes(z))
            return null;
          E.push(z);
          const V = M.splice(j);
          return V.shift(), /* @__PURE__ */ w(se, { children: [
            /* @__PURE__ */ t("span", { className: "triggered-by-state", children: M.join(" ") }),
            _(z, g[z].attributes.friendly_name),
            /* @__PURE__ */ t("span", { className: "message-suffix", children: V.join(" ") })
          ] });
        }
    }
    if (T && T in g) {
      const M = g[T].attributes.friendly_name;
      if (M && m.endsWith(M))
        return E.includes(T) ? null : (E.push(T), m = m.substring(0, m.length - M.length), /* @__PURE__ */ w(se, { children: [
          /* @__PURE__ */ t("span", { className: "message-entity", children: m }),
          _(T, M)
        ] }));
    }
    return /* @__PURE__ */ t("span", { className: "message-entity", children: m });
  }, [g, _]), k = $((m) => new Intl.DateTimeFormat("en-US", {
    year: "numeric",
    month: "long",
    day: "numeric",
    timeZone: void 0
  }).format(m), []), v = $((m) => {
    const E = {
      backgroundColor: m.state === je ? "var(--ha-A400)" : "var(--ha-S300-contrast)"
    };
    return /* @__PURE__ */ t("div", { className: "indicator", style: E });
  }, []), S = $((m, E) => !m.context_entity_id || E.includes(m.context_entity_id) ? "" : /* @__PURE__ */ w(se, { children: [
    "(",
    _(m.context_entity_id, m.context_entity_id_name),
    ")"
  ] }), [_]), R = $((m, E) => {
    if (m.context_state) {
      const T = m.context_entity_id && m.context_entity_id in g ? hn(g[m.context_entity_id], m.context_state) : void 0;
      return /* @__PURE__ */ w(se, { children: [
        /* @__PURE__ */ t("span", { className: "triggered-by", children: B("triggered_by_state_of") }),
        _(m.context_entity_id, m.context_entity_id_name),
        /* @__PURE__ */ t("span", { children: T ? fn(m.context_state, T, tt(m.context_entity_id)) : m.context_state })
      ] });
    }
    if (m.context_event_type === "call_service")
      return /* @__PURE__ */ w(se, { children: [
        /* @__PURE__ */ t("span", { className: "triggered-by", children: B("triggered_by_action") }),
        m.context_domain && m.context_service ? /* @__PURE__ */ w("span", { className: "service-trigger-details", children: [
          m.context_domain,
          ":",
          " ",
          x && x[m.context_domain]?.[m.context_service]?.name || m.context_service
        ] }) : null
      ] });
    if (!m.context_message || E.includes(m.context_entity_id))
      return null;
    if (m.context_event_type === "automation_triggered" || m.context_event_type === "script_started") {
      const T = m.context_source ? m.context_source : m.context_message.replace("triggered by ", ""), M = Sa(T);
      return /* @__PURE__ */ w(se, { children: [
        /* @__PURE__ */ t("span", { className: "triggered-by", children: B(m.context_event_type === "automation_triggered" ? "triggered_by_automation" : "triggered_by_script") }),
        _(m.context_entity_id, m.context_entity_id_name),
        m.context_message ? N(M, E, void 0) : null
      ] });
    }
    return /* @__PURE__ */ w(se, { children: [
      /* @__PURE__ */ t("span", { className: "triggered-by", children: B("triggered_by") }),
      /* @__PURE__ */ t("span", { className: "trigger-name", children: m.context_name }),
      N(m.context_message, E, m.context_entity_id),
      S(m, E)
    ] });
  }, [N, _, S, g, x]), A = $((m, E, T, M) => {
    if (m.entity_id && m.state)
      return /* @__PURE__ */ t("span", { className: "message-state", children: M ? fn(m.state, M, T) : m.state });
    const j = ed(m);
    let I = m.message;
    if (Zl.includes(T) && m.source) {
      if (j)
        return null;
      I = m.source;
    }
    return I ? N(j ? td(I, m.context_entity_id) : I, E, void 0) : null;
  }, [N]), D = $((m, E) => {
    if (!m || E === void 0)
      return null;
    const T = h[E - 1], M = [], j = m.entity_id ? g[m.entity_id] : void 0, I = j ? hn(j, m.state) : void 0, z = m.entity_id ? tt(m.entity_id) : (
      // Domain is there if there is no entity ID.
      m.domain
    ), V = new Date(m.when * 1e3), O = Ca(V, f);
    return /* @__PURE__ */ w("div", { className: "entry-container", children: [
      E === 0 || m?.when && T?.when && new Date(m.when * 1e3).toDateString() !== new Date(T.when * 1e3).toDateString() ? /* @__PURE__ */ t("h4", { className: "date", children: k(new Date(m.when * 1e3)) }) : null,
      /* @__PURE__ */ t("div", { className: `entry ${m.entity_id ? "" : "no-entity"}`, children: /* @__PURE__ */ w("div", { className: "icon-message", children: [
        r ? "" : v(m),
        /* @__PURE__ */ w("div", { className: "message-relative_time", children: [
          /* @__PURE__ */ w("div", { className: "message", children: [
            A(m, M, z, I),
            R(m, M)
          ] }),
          /* @__PURE__ */ w("div", { className: "secondary", children: [
            /* @__PURE__ */ t("span", { children: y(new Date(m.when * 1e3)) }),
            "-",
            /* @__PURE__ */ t("span", { className: "relative-time", children: O })
          ] })
        ] })
      ] }) })
    ] }, E);
  }, [R, v, A, g, k, y, h, r, f]);
  return /* @__PURE__ */ t(Jl, { id: c ?? "", css: /* @__PURE__ */ Se(s ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalLogBookRenderer;")), className: `logbook-renderer ${a ?? ""}`, style: {
    ...i ?? {}
  }, ...l, children: h.length ? /* @__PURE__ */ w(rd, { children: [
    !o && /* @__PURE__ */ w(ee, { fullWidth: !0, justifyContent: "space-between", children: [
      /* @__PURE__ */ t("h3", { children: B("activity") }),
      /* @__PURE__ */ t("button", { className: "link", onClick: p, children: B("show_more") })
    ] }),
    h.map((m, E) => D(m, E))
  ] }) : /* @__PURE__ */ t("span", { className: "no-entries", children: B("no_activity_found") }) });
}
function od(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "LogBookRenderer"
  }), children: /* @__PURE__ */ t(nd, { ...e }) });
}
function _t() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const ad = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "epo8zwv6"
} : {
  target: "epo8zwv6",
  label: "ModalContainer"
})("position:absolute;z-index:1;top:50%;left:50%;display:flex;width:var(--ha-modal-width);margin-left:calc(var(--ha-modal-width) / -2);transform:translateY(-50%);color:var(--ha-S50-contrast);max-height:calc(100% - 4rem);overflow:hidden;display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;background-color:var(--ha-S200);z-index:var(--ha-modal-z-index);opacity:0;transition:opacity var(--ha-transition-duration) var(--ha-easing);box-shadow:0px 0px 10px hsla(var(--ha-h), calc(var(--ha-50-s) * 0.8), 3%, 0.6);", De(["xxs", "xs"], `
    max-width: 95vw;
    margin-left: calc(95vw / -2);
  `), ";"), id = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "epo8zwv5"
} : {
  target: "epo8zwv5",
  label: "ModalInner"
})(process.env.NODE_ENV === "production" ? {
  name: "mxrytp",
  styles: "display:flex;padding:0rem 1rem 2rem;align-items:flex-start;flex-direction:column"
} : {
  name: "mxrytp",
  styles: "display:flex;padding:0rem 1rem 2rem;align-items:flex-start;flex-direction:column",
  toString: _t
}), sd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "epo8zwv4"
} : {
  target: "epo8zwv4",
  label: "ModalOverflow"
})(process.env.NODE_ENV === "production" ? {
  name: "1myx6oy",
  styles: "overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;margin-top:5rem;justify-content:flex-start;align-items:stretch;width:100%"
} : {
  name: "1myx6oy",
  styles: "overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;margin-top:5rem;justify-content:flex-start;align-items:stretch;width:100%",
  toString: _t
}), cd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "epo8zwv3"
} : {
  target: "epo8zwv3",
  label: "ModalHeader"
})(process.env.NODE_ENV === "production" ? {
  name: "uk2h7t",
  styles: "display:flex;align-items:center;justify-content:space-between;padding:1rem;flex-wrap:nowrap;position:absolute;top:0;left:0;right:0"
} : {
  name: "uk2h7t",
  styles: "display:flex;align-items:center;justify-content:space-between;padding:1rem;flex-wrap:nowrap;position:absolute;top:0;left:0;right:0",
  toString: _t
}), ld = /* @__PURE__ */ C("h4", process.env.NODE_ENV === "production" ? {
  target: "epo8zwv2"
} : {
  target: "epo8zwv2",
  label: "Title"
})(process.env.NODE_ENV === "production" ? {
  name: "v9z3ep",
  styles: "margin:0;font-size:1.5rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;>span{margin:0;font-size:0.9rem;color:var(--ha-S500-contrast);display:flex;}"
} : {
  name: "v9z3ep",
  styles: "margin:0;font-size:1.5rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;>span{margin:0;font-size:0.9rem;color:var(--ha-S500-contrast);display:flex;}",
  toString: _t
}), dd = /* @__PURE__ */ C("h4", process.env.NODE_ENV === "production" ? {
  target: "epo8zwv1"
} : {
  target: "epo8zwv1",
  label: "Description"
})(process.env.NODE_ENV === "production" ? {
  name: "1klwqgm",
  styles: "margin:0;font-size:0.9rem;color:var(--ha-S500-contrast)"
} : {
  name: "1klwqgm",
  styles: "margin:0;font-size:0.9rem;color:var(--ha-S500-contrast)",
  toString: _t
}), ud = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "epo8zwv0"
} : {
  target: "epo8zwv0",
  label: "ModalBackdrop"
})(process.env.NODE_ENV === "production" ? {
  name: "xpyti3",
  styles: "position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;background:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.3);z-index:var(--ha-modal-z-index);backdrop-filter:blur(2em) brightness(0.75);opacity:0;transition:opacity var(--ha-transition-duration) var(--ha-easing)"
} : {
  name: "xpyti3",
  styles: "position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;background:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.3);z-index:var(--ha-modal-z-index);backdrop-filter:blur(2em) brightness(0.75);opacity:0;transition:opacity var(--ha-transition-duration) var(--ha-easing)",
  toString: _t
});
function pd({
  open: e,
  id: r,
  title: o,
  description: n,
  children: a,
  onClose: s,
  backdropProps: c,
  style: i,
  className: l,
  cssStyles: h,
  headerActions: d,
  autocloseSeconds: g = void 0,
  animationDuration: x = 0.25,
  ...f
}) {
  const u = dr(), b = r ?? u, p = Q((D) => D.globalComponentStyles), y = Q((D) => D.windowContext) ?? window, N = Q((D) => D.portalRoot), [k] = Co((D) => D.key === "Escape"), v = G(null), S = G(null), R = G(null), A = $(() => {
    v.current && clearTimeout(v.current), s && e && s();
  }, [e, s]);
  return K(() => {
    const D = () => {
      v.current && clearTimeout(v.current);
    };
    if (D(), g && e)
      return v.current = setTimeout(A, g * 1e3), D;
  }, [e, g, A]), K(() => {
    k && A();
  }, [k, A, e]), K(() => {
    setTimeout(() => {
      S.current && (S.current.style.opacity = e ? "1" : "0"), R.current && (R.current.style.opacity = e ? "1" : "0");
    }, 25);
  }, [e, x]), ur(/* @__PURE__ */ t(se, { children: e && /* @__PURE__ */ w(pa, { children: [
    /* @__PURE__ */ t(ud, { ref: R, className: "modal-backdrop", id: `${b}-backdrop`, onClick: () => {
      e && s();
    }, css: /* @__PURE__ */ Se("transition-duration:", x, "s;" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalModal;")), ...c }, `${b}-backdrop`),
    /* @__PURE__ */ Hr(ad, { ...f, ref: S, style: {
      borderRadius: "16px",
      ...i
    }, css: /* @__PURE__ */ Se(p.modal ?? "", " ", h ?? "", " transition-duration:", x, "s;" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalModal;")), key: `${b}-container`, className: `modal-container ${l ?? ""}` }, /* @__PURE__ */ w(cd, { className: "modal-header", children: [
      /* @__PURE__ */ w(ie, { alignItems: "flex-start", className: "modal-column", style: {
        flexShrink: 1,
        maxWidth: "70%"
      }, children: [
        o && /* @__PURE__ */ t(ld, { className: "modal-title", children: o }),
        n && /* @__PURE__ */ t(dd, { className: "modal-description", children: n })
      ] }),
      /* @__PURE__ */ w(ee, { gap: "0.5rem", wrap: "nowrap", style: {
        flexShrink: 0
      }, children: [
        d && d(),
        /* @__PURE__ */ t(fe, { onClick: () => {
          A();
        }, className: "modal-close-button", tooltipPlacement: "left", title: B("close"), icon: "mdi:close", disableRipples: !0, disableScale: !0 })
      ] })
    ] }), /* @__PURE__ */ t(sd, { className: "modal-overflow", children: /* @__PURE__ */ t(id, { className: "modal-inner", style: {
      transformOrigin: "top"
    }, children: a }) }))
  ] }, `${b}-fragment`) }), N ?? y.document.body);
}
const rn = Vt(function(r) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "Modal"
  }), children: /* @__PURE__ */ t(pd, { ...r }) });
}), hd = (e) => mt(e.substring(0, e.indexOf(".")));
function xr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const fd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ej2a6e63"
} : {
  target: "ej2a6e63",
  label: "Separator"
})(process.env.NODE_ENV === "production" ? {
  name: "1xfvk1j",
  styles: "height:30px;width:1px;background-color:var(--ha-S400)"
} : {
  name: "1xfvk1j",
  styles: "height:30px;width:1px;background-color:var(--ha-S400)",
  toString: xr
}), md = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ej2a6e62"
} : {
  target: "ej2a6e62",
  label: "State"
})(process.env.NODE_ENV === "production" ? {
  name: "1m3iohm",
  styles: "font-weight:400;font-size:36px;line-height:44px;user-select:none;&:first-letter{text-transform:capitalize;}"
} : {
  name: "1m3iohm",
  styles: "font-weight:400;font-size:36px;line-height:44px;user-select:none;&:first-letter{text-transform:capitalize;}",
  toString: xr
}), gd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ej2a6e61"
} : {
  target: "ej2a6e61",
  label: "Updated"
})(process.env.NODE_ENV === "production" ? {
  name: "e8crij",
  styles: "font-style:normal;font-weight:500;font-size:16px;line-height:24px;letter-spacing:0.1px;padding:4px 0px;margin-bottom:20px;user-select:none;-webkit-tap-highlight-color:transparent;margin-bottom:2rem"
} : {
  name: "e8crij",
  styles: "font-style:normal;font-weight:500;font-size:16px;line-height:24px;letter-spacing:0.1px;padding:4px 0px;margin-bottom:20px;user-select:none;-webkit-tap-highlight-color:transparent;margin-bottom:2rem",
  toString: xr
}), vd = /* @__PURE__ */ C(we, process.env.NODE_ENV === "production" ? {
  target: "ej2a6e60"
} : {
  target: "ej2a6e60",
  label: "StyledIcon"
})(process.env.NODE_ENV === "production" ? {
  name: "a07gmx",
  styles: "font-size:2rem"
} : {
  name: "a07gmx",
  styles: "font-size:2rem",
  toString: xr
});
function bd(e) {
  return {
    cover: () => import("./es/Shared/Modal/ModalByEntityDomain/Cover/index.js"),
    alarm_control_panel: () => import("./es/Shared/Modal/ModalByEntityDomain/AlarmControlPanel/index.js"),
    camera: () => import("./es/Shared/Modal/ModalByEntityDomain/Camera/index.js"),
    light: () => import("./es/Shared/Modal/ModalByEntityDomain/Light/index.js"),
    media_player: () => import("./es/Shared/Modal/ModalByEntityDomain/MediaPlayer/index.js"),
    person: () => import("./es/Shared/Modal/ModalByEntityDomain/Person/index.js"),
    switch: () => import("./es/Shared/Modal/ModalByEntityDomain/Switch/index.js"),
    vacuum: () => import("./es/Shared/Modal/ModalByEntityDomain/Vacuum/index.js"),
    weather: () => import("./es/Shared/Modal/ModalByEntityDomain/Weather/index.js"),
    climate: () => import("./es/Shared/Modal/ModalByEntityDomain/Climate/index.js")
  }[e] ?? null;
}
function Uo({
  entity: e,
  hideState: r,
  hideUpdated: o,
  hideAttributes: n,
  headerActionsPosition: a = "start",
  headerActions: s,
  hideLogbook: c = !1,
  hideDefaultLayout: i = !1,
  children: l,
  ...h
}) {
  const {
    joinHassUrl: d
  } = Q.getState().helpers, [g, x] = ne(!1), f = pe(e), u = yo(e), b = $(() => {
    typeof window > "u" || u && u.device_id && window.open(d(`config/devices/device/${u.device_id}`), "_blank");
  }, [u, d]), [p, _] = oe(() => {
    const {
      open: A,
      id: D,
      title: m,
      description: E,
      onClose: T,
      backdropProps: M,
      stateTitle: j,
      ...I
    } = h;
    return [{
      open: A,
      id: D,
      title: m,
      description: E,
      onClose: T,
      backdropProps: M,
      stateTitle: j
    }, I];
  }, [h]), y = hd(e), N = $((A) => {
    S.current && (S.current.innerText = A);
  }, []), k = oe(() => {
    const A = bd(y);
    return A ? so(A) : null;
  }, [y]), v = oe(() => {
    if (!k || i) return null;
    const A = /* @__PURE__ */ t(ie, { fullWidth: !0, fullHeight: !0, children: /* @__PURE__ */ t(vd, { icon: "eos-icons:three-dots-loading", className: "preloader-loading-icon" }) });
    return y === "person" ? /* @__PURE__ */ t(Ar, { fallback: A, children: /* @__PURE__ */ t(k, { entity: e, mapHeight: p.open ? 300 : 0, ..._ }) }) : /* @__PURE__ */ t(Ar, { fallback: A, children: /* @__PURE__ */ t(
      k,
      {
        entity: e,
        onStateChange: N,
        ..._,
        entity: e
      }
    ) });
  }, [e, i, k, _, N, y, p.open]), S = G(null), R = oe(() => p.stateTitle ?? No(Eo(`${f.state}${f.attributes.unit_of_measurement ?? ""}`)), [f, p.stateTitle]);
  return /* @__PURE__ */ t(rn, { ...p, headerActions: () => /* @__PURE__ */ w(se, { children: [
    !c && g && /* @__PURE__ */ t(fe, { title: B("device"), tooltipPlacement: "left", icon: "mdi:arrow-back", size: 30, onClick: () => x(!1) }),
    a === "start" && s && s(),
    !c && !g && /* @__PURE__ */ t(fe, { title: B("activity"), tooltipPlacement: "left", icon: "mdi:graph-box", size: 30, onClick: () => x(!0) }),
    a === "middle" && s && s(),
    u && u.device_id && /* @__PURE__ */ t(fe, { title: B("open_device_settings"), tooltipPlacement: "left", icon: "mdi:cog", size: 30, onClick: b }),
    a === "end" && s && s(),
    (!c || u && u.device_id) && /* @__PURE__ */ t(fd, {})
  ] }), children: g ? /* @__PURE__ */ t(se, { children: /* @__PURE__ */ t(od, { entity: e }) }) : /* @__PURE__ */ w(se, { children: [
    (!o || !r) && /* @__PURE__ */ w(ie, { fullWidth: !0, children: [
      !r && /* @__PURE__ */ t(md, { className: "state", ref: S, children: R }),
      !o && /* @__PURE__ */ t(gd, { className: "last-updated", children: f.custom.relativeTime })
    ] }),
    l ?? null,
    v,
    !n && /* @__PURE__ */ t(bp, { entity: e })
  ] }) });
}
function nn() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const yd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ec44kzx3"
} : {
  target: "ec44kzx3",
  label: "VacuumSize"
})(process.env.NODE_ENV === "production" ? {
  name: "19ja2ow",
  styles: "height:100%;max-height:45vh;min-height:300px;margin-bottom:2rem;position:relative"
} : {
  name: "19ja2ow",
  styles: "height:100%;max-height:45vh;min-height:300px;margin-bottom:2rem;position:relative",
  toString: nn
}), Un = /* @__PURE__ */ C(ie, process.env.NODE_ENV === "production" ? {
  target: "ec44kzx2"
} : {
  target: "ec44kzx2",
  label: "ModeColumn"
})(process.env.NODE_ENV === "production" ? {
  name: "16ht9uo",
  styles: "font-size:0.8rem"
} : {
  name: "16ht9uo",
  styles: "font-size:0.8rem",
  toString: nn
}), xd = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "ec44kzx1"
} : {
  target: "ec44kzx1",
  label: "Push"
})(process.env.NODE_ENV === "production" ? {
  name: "1dvcxr3",
  styles: "padding:1rem"
} : {
  name: "1dvcxr3",
  styles: "padding:1rem",
  toString: nn
}), wd = xo`
  from {
    transform:rotate(0deg);
  }
  to {
    transform:rotate(360deg);
  }
`, Nd = /* @__PURE__ */ C(fe, process.env.NODE_ENV === "production" ? {
  target: "ec44kzx0"
} : {
  target: "ec44kzx0",
  label: "FanMode"
})("animation-name:", wd, ";animation-duration:", (e) => {
  const r = (e.speed || "").toLowerCase().trim(), o = r.includes("silent"), n = r.includes("standard"), a = r.includes("medium"), s = r.includes("turbo");
  return o ? "4s" : n ? "2.5s" : a ? "1.8s" : s ? "0.7s" : "2s";
}, ";animation-iteration-count:infinite;animation-timing-function:linear;");
function Ed({
  entity: e,
  shortcuts: r,
  onLocate: o,
  hideToolbar: n = !1,
  buttonGroupProps: a,
  ...s
}) {
  const c = pe(e), i = Ft();
  if (n)
    return null;
  const l = Do({
    entity: c,
    shortcuts: r,
    onLocate: o
  });
  return /* @__PURE__ */ t(ee, { gap: "0.5rem", ...s, children: /* @__PURE__ */ t(At, { wrap: "nowrap", alignItems: "center", justifyContent: "center", orientation: "horizontal", thickness: (i.xxs, 80), maintainAspectRatio: !0, ...a, children: l.map((h, d) => /* @__PURE__ */ t(
    Ke,
    {
      iconProps: {
        color: h?.active ? "var(--ha-300)" : void 0
      },
      rippleProps: {
        preventPropagation: !0
      },
      onClick: (g, x) => h?.onClick?.(c, x),
      ...h
    },
    d
  )) }) });
}
function Zh({
  entity: e,
  hideCurrentBatteryLevel: r = !1,
  hideFanModes: o = !1,
  hideToolbar: n = !1,
  customImage: a,
  shortcuts: s,
  buttonGroupProps: c,
  ...i
}) {
  const l = pe(e), h = l.state === "docked", {
    battery_level: d,
    fan_speed: g,
    fan_speed_list: x
  } = l.attributes || {}, [f, u] = ne(g);
  ni(() => {
    typeof f == "string" && l.service.setFanSpeed({
      serviceData: {
        fan_speed: f
      }
    });
  }, 200, [f]);
  const b = x ?? [], p = !o && !h && b.length > 0, _ = !r && typeof d == "number";
  return /* @__PURE__ */ t(ie, { fullHeight: !0, fullWidth: !0, wrap: "nowrap", ...i, children: /* @__PURE__ */ t(yd, { children: /* @__PURE__ */ w(ie, { gap: "0.5rem", children: [
    /* @__PURE__ */ t(Oo, { src: a, className: l.state }),
    (_ || p) && /* @__PURE__ */ w(ee, { style: {
      padding: "1rem 0"
    }, children: [
      p && /* @__PURE__ */ w(Un, { gap: "0.5rem", children: [
        /* @__PURE__ */ t(Nd, { size: 40, disabled: h, title: f, speed: h ? void 0 : f, active: !h, icon: "mdi:fan", onClick: () => {
          const y = b.findIndex((k) => k.toLowerCase() === (f ?? "").toLowerCase()), N = b[y + 1] ? b[y + 1] : b[0];
          u(N), l.service.setFanSpeed({
            serviceData: {
              fan_speed: N
            }
          });
        } }),
        /* @__PURE__ */ t("div", { children: B("fan_speed") }),
        f
      ] }),
      _ && p && /* @__PURE__ */ t(se, { children: /* @__PURE__ */ t(xd, {}) }),
      _ && /* @__PURE__ */ w(Un, { gap: "0.5rem", children: [
        /* @__PURE__ */ t(fe, { size: 40, disabled: h, title: `${d}%`, icon: Da(d) }),
        /* @__PURE__ */ t("div", { children: B("battery_level") }),
        `${d}%`
      ] })
    ] }),
    /* @__PURE__ */ t(Ed, { entity: e, hideToolbar: n, shortcuts: s, buttonGroupProps: c })
  ] }) }) });
}
const _d = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "exkg1b33"
} : {
  target: "exkg1b33",
  label: "Slider"
})((e) => {
  const r = [70, 70, 70];
  let o = `rgb(${r.join(", ")})`;
  return e.disabled || (typeof e.sliderColor == "string" ? o = e.sliderColor : o = `rgb(${(e.sliderColor || r).join(",")})`), `
      
      touch-action: none;
      --ha-slider-control-thickness: ${e.thickness || 40}px;
      --ha-slider-control-border-radius: ${e.borderRadius || 10}px;
      --ha-slider-control-handle-size: 4px;
      --ha-slider-control-handle-margin: calc(var(--ha-slider-control-thickness) / 8);
      --ha-slider-control-slider-size: ${e.showHandle ? "calc(100% - 2 * var(--ha-slider-control-handle-margin) - var(--ha-slider-control-handle-size))" : "100%"};
      
      border-radius: var(--ha-slider-control-border-radius);
      outline: 0px;
      &:focus-visible {
        box-shadow: 0 0 0 2px ${o};
      }
      &:not([vertical]) {
        width: 100%;
        height: var(--ha-slider-control-thickness);
        max-width: 420px;
        min-width: 320px;
      }
      &[vertical] {
        width: var(--ha-slider-control-thickness);
        height: 45vh;
        max-height: 320px;
        min-height: 200px;
        ${De(["xxs"], `
          min-height: 0;
          height: 35vh;
          max-height: 100%;
        `)}
      }
      .slider {
        position: relative;
        height: 100%;
        width: 100%;
        border-radius: var(--ha-slider-control-border-radius);
        transform: translateZ(0px);
        overflow: hidden;
        cursor: pointer;
      }
      .slider * {
        pointer-events: none;
      }
      .slider-track-background {
        position: absolute;
        top: 0px;
        left: 0px;
        height: 100%;
        width: 100%;
        background: ${o};
        opacity: 0.2;
      }
      .slider-track-bar {
        position: absolute;
        height: 100%;
        width: 100%;
        background-color: ${o};
        transition: transform 180ms ease-in-out, background-color 180ms ease-in-out;                
        &:after {
          display: ${e.showHandle ? "block" : "none"};
          content: "";
          position: absolute;
          margin: auto;
          border-radius: var(--ha-slider-control-handle-size);
          background-color: white;
        }
      }
      .slider-track-cursor {
        position: absolute;
        background-color: ${o};
        border-radius: var(--ha-slider-control-handle-size);
        transition:
          left 180ms ease-in-out,
          bottom 180ms ease-in-out;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }
      &.horizontal {
        .slider-track-bar {
          top: 0;
          left: 0;
          width: calc(var(--value, 0) * 100%);
          height: 100%;
          transition: width 180ms ease-in-out, background-color 180ms ease-in-out;
          border-radius: 0 var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius) 0;
          overflow: hidden;
          &:after {
            top: 0;
            bottom: 0;
            right: var(--ha-slider-control-handle-margin);
            height: 50%;
            width: var(--ha-slider-control-handle-size);
            opacity: calc(var(--value, 0));
            transition: opacity 120ms ease-in-out;
          }
          &.end {
            right: 0;
            left: initial;
            width: calc(var(--value, 0) * 100%);
            border-radius: var(--ha-slider-control-border-radius) 0 0 var(--ha-slider-control-border-radius);
            &:after {
              right: initial;
              left: var(--ha-slider-control-handle-margin);
            }
          }
        }
        .slider-track-cursor {
          top: 0;
          bottom: 0;
          left: calc(var(--value, 0) * (100% - calc(var(--ha-slider-control-thickness) / 4)));
          width: calc(var(--ha-slider-control-thickness) / 4);
          right: 0;
          height: calc(var(--ha-slider-control-thickness) / 4);
          &:after {
            height: 50%;
            width: var(--ha-slider-control-handle-size);
          }
        }
      }
      &.vertical {
        .slider-track-bar {
          bottom: 0;
          left: 0;
          width: 100%;
          height: calc(var(--value, 0) * 100%);
          transition: height 180ms ease-in-out, background-color 180ms ease-in-out;
          border-radius: var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius) 0 0;
          overflow: hidden;
          &:after {
            top: var(--ha-slider-control-handle-margin);
            right: 0;
            left: 0;
            bottom: initial;
            width: 50%;
            height: var(--ha-slider-control-handle-size);
            opacity: calc(var(--value, 0));
            transition: opacity 120ms ease-in-out;
          }
          &.end {
            top: 0;
            bottom: initial;
            height: calc(var(--value, 0) * 100%);
            border-radius: 0 0 var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius);
            &:after {
              top: initial;
              bottom: var(--ha-slider-control-handle-margin);
            }
          }
        }
        .slider-track-cursor {
          top: initial;
          right: 0;
          left: 0;
          bottom: calc(var(--value, 0) * (100% - calc(var(--ha-slider-control-thickness) / 4)));
          height: calc(var(--ha-slider-control-thickness) / 4);
          width: 100%;
          &:after {
            width: 50%;
            height: var(--ha-slider-control-handle-size);
          }
        }
      }
      &[dragging] .slider-track-bar,
      &[dragging] .slider-track-cursor {
        transition: none;
      }
      &.disabled {
        cursor: not-allowed;
        > * {
          cursor: not-allowed;
        }
      }
    `;
}, ";"), kd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "exkg1b32"
} : {
  target: "exkg1b32",
  label: "SliderHolder"
})(), Sd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "exkg1b31"
} : {
  target: "exkg1b31",
  label: "SliderTrackBackground"
})(), Cd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "exkg1b30"
} : {
  target: "exkg1b30",
  label: "SliderTrackBar"
})();
function Dd({
  vertical: e = !0,
  disabled: r = !1,
  showHandle: o = !0,
  min: n = 1,
  max: a = 100,
  step: s = 1,
  value: c,
  mode: i = "start",
  thickness: l,
  borderRadius: h,
  sliderColor: d = [70, 70, 70],
  onChangeApplied: g,
  onChange: x,
  clampValueToBaseline: f = !0,
  cssStyles: u,
  className: b,
  ...p
}) {
  const _ = G(null), y = G(null), N = G(null), k = G(c), v = G(void 0), S = $((I) => Math.min(Math.max(I, n), a), [n, a]), R = $((I) => {
    const V = (S(I) - n) / (a - n);
    if (!f) return V;
    const O = n > 0 ? 0.09 : 0;
    return V <= 0 ? O : O + V * (1 - O);
  }, [S, f, n, a]), A = $((I) => (a - n) * I + n, [n, a]), D = $((I) => Math.round(I / s) * s, [s]), m = $((I) => {
    v.current && clearTimeout(v.current), !(I === c || typeof g != "function") && (v.current = setTimeout(() => {
      g(I);
    }, 100));
  }, [g, c]), E = $((I, z) => {
    const [V, O] = I;
    if (e) {
      const re = z.getBoundingClientRect().top, H = z.clientHeight;
      return Math.max(Math.min(1, 1 - (O - re) / H), 0);
    }
    const W = z.getBoundingClientRect().left, P = z.clientWidth;
    return Math.max(Math.min(1, (V - W) / P), 0);
  }, [e]), T = $((I) => {
    _.current && (k.current = S(I), _.current.style.setProperty("--value", r ? i === "start" ? `${n}` : i === "end" ? `${a}` : "0" : `${R(I)}`));
  }, [R, S, r, n, a, i]);
  K(() => {
    T(c);
  }, [c, T]), K(() => {
    N.current && (e ? N.current.setAttribute("vertical", "") : N.current.removeAttribute("vertical"));
  }, [e]);
  const M = function(I) {
    N.current && (I ? N.current.setAttribute("dragging", "") : N.current.removeAttribute("dragging"));
  }, j = Bt({
    onDrag: (I) => {
      if (r) return;
      const z = E(I.values, I.target);
      M(I.dragging === !0), T(A(z)), typeof x == "function" && x(k.current);
    },
    onDragStart: () => {
      r || (M(!0), T(k.current));
    },
    onDragEnd: (I) => {
      if (r) return;
      M(!1);
      const z = E(I.values, I.target);
      T(D(A(z))), m(k.current);
    },
    onClick: (I) => {
      if (r) return;
      const z = I.event.clientX, V = I.event.clientY, O = E([z, V], I.event.target);
      T(D(A(O))), m(k.current);
    }
  }, {
    drag: {
      filterTaps: !0
    }
  });
  return /* @__PURE__ */ t(_d, { ref: N, className: `${b ?? ""} slider-host ${r ? "disabled" : ""} ${e ? "vertical" : "horizontal"}`, css: /* @__PURE__ */ Se(u ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalControlSlider;")), showHandle: o && !r, sliderColor: d, vertical: e, thickness: l, borderRadius: h, disabled: r, ...j(), ...p, children: /* @__PURE__ */ w(kd, { ref: y, className: "slider", children: [
    /* @__PURE__ */ t(Sd, { className: "slider-track-background" }),
    i === "cursor" ? k.current != null ? /* @__PURE__ */ t("div", { className: "slider-track-cursor", ref: _ }) : null : /* @__PURE__ */ t(Cd, { className: `slider-track-bar ${i}`, ref: _ })
  ] }) });
}
function $r(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ControlSlider"
  }), children: /* @__PURE__ */ t(Dd, { ...e }) });
}
function Od() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Rd = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ermlq5d2"
} : {
  target: "ermlq5d2",
  label: "Switch"
})(process.env.NODE_ENV === "production" ? {
  name: "4i4k5",
  styles: 'display:block;--ha-control-switch-on-color:var(--ha-A400);--ha-control-switch-off-color:rgb(70, 70, 70);--ha-control-switch-background-opacity:0.2;--ha-control-switch-thickness:100px;--ha-control-switch-border-radius:12px;--ha-control-switch-padding:4px;--mdc-icon-size:20px;box-sizing:border-box;user-select:none;cursor:pointer;border-radius:var(--ha-control-switch-border-radius);outline:none;transition:box-shadow 180ms ease-in-out;-webkit-tap-highlight-color:transparent;&:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-off-color);}&[checked="true"]:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-on-color);}.switch{box-sizing:border-box;position:relative;height:100%;width:100%;border-radius:var(--ha-control-switch-border-radius);overflow:hidden;padding:var(--ha-control-switch-padding);display:flex;}.switch .background{position:absolute;top:0;left:0;height:100%;width:100%;background-color:var(--ha-control-switch-off-color);transition:background-color 180ms ease-in-out;opacity:var(--ha-control-switch-background-opacity);}.switch .button{width:50%;height:100%;background:lightgrey;border-radius:calc(var(--ha-control-switch-border-radius) - var(--ha-control-switch-padding));transition:transform 180ms ease-in-out,background-color 180ms ease-in-out;background-color:var(--ha-control-switch-off-color);color:white;display:flex;align-items:center;justify-content:center;}&[checked="true"] .switch .background{background-color:var(--ha-control-switch-on-color);}&[checked="true"] .switch .button{transform:translateX(100%);background-color:var(--ha-control-switch-on-color);}&[reversed="true"] .switch{flex-direction:row-reverse;}&[reversed="true"][checked="true"] .switch .button{transform:translateX(-100%);}&[vertical="false"]{height:var(--ha-control-switch-thickness);max-width:420px;min-width:320px;}&[vertical="true"]{width:var(--ha-control-switch-thickness);height:45vh;max-height:320px;min-height:200px;}&[vertical="true"][checked="true"] .switch .button{transform:translateY(100%);}&[vertical="true"] .switch .button{width:100%;height:50%;}&[vertical="true"][reversed="true"] .switch{flex-direction:column-reverse;}&[vertical="true"][reversed="true"][checked="true"] .switch .button{transform:translateY(-100%);}&[disabled="true"]{opacity:0.5;cursor:not-allowed;}'
} : {
  name: "4i4k5",
  styles: 'display:block;--ha-control-switch-on-color:var(--ha-A400);--ha-control-switch-off-color:rgb(70, 70, 70);--ha-control-switch-background-opacity:0.2;--ha-control-switch-thickness:100px;--ha-control-switch-border-radius:12px;--ha-control-switch-padding:4px;--mdc-icon-size:20px;box-sizing:border-box;user-select:none;cursor:pointer;border-radius:var(--ha-control-switch-border-radius);outline:none;transition:box-shadow 180ms ease-in-out;-webkit-tap-highlight-color:transparent;&:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-off-color);}&[checked="true"]:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-on-color);}.switch{box-sizing:border-box;position:relative;height:100%;width:100%;border-radius:var(--ha-control-switch-border-radius);overflow:hidden;padding:var(--ha-control-switch-padding);display:flex;}.switch .background{position:absolute;top:0;left:0;height:100%;width:100%;background-color:var(--ha-control-switch-off-color);transition:background-color 180ms ease-in-out;opacity:var(--ha-control-switch-background-opacity);}.switch .button{width:50%;height:100%;background:lightgrey;border-radius:calc(var(--ha-control-switch-border-radius) - var(--ha-control-switch-padding));transition:transform 180ms ease-in-out,background-color 180ms ease-in-out;background-color:var(--ha-control-switch-off-color);color:white;display:flex;align-items:center;justify-content:center;}&[checked="true"] .switch .background{background-color:var(--ha-control-switch-on-color);}&[checked="true"] .switch .button{transform:translateX(100%);background-color:var(--ha-control-switch-on-color);}&[reversed="true"] .switch{flex-direction:row-reverse;}&[reversed="true"][checked="true"] .switch .button{transform:translateX(-100%);}&[vertical="false"]{height:var(--ha-control-switch-thickness);max-width:420px;min-width:320px;}&[vertical="true"]{width:var(--ha-control-switch-thickness);height:45vh;max-height:320px;min-height:200px;}&[vertical="true"][checked="true"] .switch .button{transform:translateY(100%);}&[vertical="true"] .switch .button{width:100%;height:50%;}&[vertical="true"][reversed="true"] .switch{flex-direction:column-reverse;}&[vertical="true"][reversed="true"][checked="true"] .switch .button{transform:translateY(-100%);}&[disabled="true"]{opacity:0.5;cursor:not-allowed;}',
  toString: Od
}), Id = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ermlq5d1"
} : {
  target: "ermlq5d1",
  label: "Background"
})(), Ad = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "ermlq5d0"
} : {
  target: "ermlq5d0",
  label: "Button"
})(), Td = ({
  disabled: e = !1,
  vertical: r = !0,
  reversed: o = !1,
  thickness: n = 100,
  checked: a = !1,
  onIcon: s,
  offIcon: c,
  onChange: i,
  className: l,
  cssStyles: h,
  id: d,
  style: g,
  color: x,
  ...f
}) => {
  const [u, b] = ne(a), p = G(null), _ = $e(typeof s == "string" ? s : "mdi:power"), y = $e(typeof c == "string" ? c : "mdi:power-off"), N = $(() => {
    e || (b(!u), i && i(!u));
  }, [e, u, i]);
  return K(() => {
    p.current && (p.current.setAttribute("role", "switch"), p.current.hasAttribute("tabindex") || p.current.setAttribute("tabindex", "0"));
  }, []), K(() => {
    p.current && p.current.setAttribute("aria-checked", u ? "true" : "false");
  }, [u]), K(() => {
    b(a);
  }, [a]), K(() => {
    p.current && (p.current.style.setProperty("--ha-control-switch-thickness", `${n}px`), p.current.setAttribute("vertical", r ? "true" : "false"), p.current.setAttribute("reversed", o ? "true" : "false"), p.current.setAttribute("disabled", e ? "true" : "false"), p.current.setAttribute("checked", u ? "true" : "false"), p.current.style.setProperty("--ha-control-switch-on-color", x ?? "var(--ha-A400)"));
  }, [u, r, e, o, n, x]), /* @__PURE__ */ t(Rd, { ref: p, onClick: N, id: d ?? "", css: /* @__PURE__ */ Se(h ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalControlToggle;")), className: `control-switch ${l ?? ""}`, style: {
    ...g ?? {}
  }, ...f, children: /* @__PURE__ */ w("div", { className: "switch", children: [
    /* @__PURE__ */ t(Id, { className: `${u ? "checked" : ""} background` }),
    /* @__PURE__ */ t(Ad, { "aria-hidden": "true", className: "button", children: u ? _ : y })
  ] }) });
};
function zd(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ControlToggle"
  }), children: /* @__PURE__ */ t(Td, { ...e }) });
}
function Vd() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const $d = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1xk40gk0"
} : {
  target: "e1xk40gk0",
  label: "Wrapper"
})(process.env.NODE_ENV === "production" ? {
  name: "1j3utj8",
  styles: '--ha-control-slider-track-bg:#464646;--ha-control-slider-track-bg-opacity:0.3;--ha-control-slider-clear:black;touch-action:none;width:320px;display:block;&:after{display:block;content:"";position:absolute;top:-10%;left:-10%;right:-10%;bottom:-10%;background:radial-gradient(50% 50% at 50% 50%, var(--ha-control-slider-color, transparent) 0%, transparent 100%);opacity:0.15;pointer-events:none;}svg{width:100%;display:block;}.slider{outline:none;}.interaction{display:flex;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:calc(24px + 2 * 12px);cursor:pointer;}.display{pointer-events:none;}:host([disabled]) #interaction,:host([readonly]) #interaction{cursor:initial;}.background{fill:none;stroke:var(--ha-control-slider-track-bg);opacity:var(--ha-control-slider-track-bg-opacity);transition:stroke 180ms ease-in-out,opacity 180ms ease-in-out;stroke-linecap:round;stroke-width:24px;}.arc{fill:none;stroke-linecap:round;stroke-width:24px;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target{fill:none;stroke-linecap:round;stroke-width:18px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target-border{fill:none;stroke-linecap:round;stroke-width:24px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.current{fill:none;stroke-linecap:round;stroke-width:8px;stroke:var(--ha-500-contrast);opacity:0.5;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.arc-current{stroke:var(--ha-control-slider-clear);}.arc-clear{stroke:var(--ha-control-slider-clear);}.arc-colored{opacity:0.5;}.arc-active{outline:none;}.arc-active:focus-visible{stroke-width:28px;}.pressed .arc,.pressed .target,.pressed .target-border,.pressed .current{transition:stroke-width 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.inactive .arc,.inactive .arc-current{opacity:0;}.value{stroke:var(--ha-control-slider-color);}.low{stroke:var(--ha-control-slider-low-color);}.high{stroke:var(--ha-control-slider-high-color);}'
} : {
  name: "1j3utj8",
  styles: '--ha-control-slider-track-bg:#464646;--ha-control-slider-track-bg-opacity:0.3;--ha-control-slider-clear:black;touch-action:none;width:320px;display:block;&:after{display:block;content:"";position:absolute;top:-10%;left:-10%;right:-10%;bottom:-10%;background:radial-gradient(50% 50% at 50% 50%, var(--ha-control-slider-color, transparent) 0%, transparent 100%);opacity:0.15;pointer-events:none;}svg{width:100%;display:block;}.slider{outline:none;}.interaction{display:flex;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:calc(24px + 2 * 12px);cursor:pointer;}.display{pointer-events:none;}:host([disabled]) #interaction,:host([readonly]) #interaction{cursor:initial;}.background{fill:none;stroke:var(--ha-control-slider-track-bg);opacity:var(--ha-control-slider-track-bg-opacity);transition:stroke 180ms ease-in-out,opacity 180ms ease-in-out;stroke-linecap:round;stroke-width:24px;}.arc{fill:none;stroke-linecap:round;stroke-width:24px;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target{fill:none;stroke-linecap:round;stroke-width:18px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target-border{fill:none;stroke-linecap:round;stroke-width:24px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.current{fill:none;stroke-linecap:round;stroke-width:8px;stroke:var(--ha-500-contrast);opacity:0.5;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.arc-current{stroke:var(--ha-control-slider-clear);}.arc-clear{stroke:var(--ha-control-slider-clear);}.arc-colored{opacity:0.5;}.arc-active{outline:none;}.arc-active:focus-visible{stroke-width:28px;}.pressed .arc,.pressed .target,.pressed .target-border,.pressed .current{transition:stroke-width 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.inactive .arc,.inactive .arc-current{opacity:0;}.value{stroke:var(--ha-control-slider-color);}.low{stroke:var(--ha-control-slider-low-color);}.high{stroke:var(--ha-control-slider-high-color);}',
  toString: Vd
}), ft = 270, Yn = 360 - ft / 2 - 90, Or = 145;
function Md(e, r) {
  const o = Math.sqrt(e * e + r * r), n = Math.atan2(r, e);
  return [o, n];
}
function Pd(e) {
  return e / (2 * Math.PI) * 360;
}
function jd({
  step: e = 1,
  inactive: r,
  label: o,
  readonly: n = !1,
  value: a,
  low: s,
  high: c,
  min: i = 0,
  max: l = 100,
  dual: h,
  disabled: d = !1,
  mode: g,
  current: x,
  colors: f = {
    color: "tomato",
    lowColor: "blue",
    highColor: "tomato"
  },
  onChange: u,
  onChangeApplied: b,
  ...p
}) {
  const _ = G(null), y = G(null), N = G(void 0), k = G(void 0), [v, S] = ne(a), [R, A] = ne(s), [D, m] = ne(c), E = oe(() => Nn({
    x: 0,
    y: 0,
    start: 0,
    end: ft,
    r: Or
  }), []), T = h ? R : v, M = D;
  K(() => {
    Dr(a) && S(a), Dr(s) && A(s), Dr(c) && A(c);
  }, [a, s, c]);
  const j = $((F) => {
    switch (N.current) {
      case "high":
        m(F);
        break;
      case "low":
        A(F);
        break;
      case "value":
        S(F);
        break;
    }
  }, []);
  K(() => {
    _.current && (f.color && _.current.style.setProperty("--ha-control-slider-color", f.color), f.lowColor && _.current.style.setProperty("--ha-control-slider-low-color", f.lowColor), f.highColor && _.current.style.setProperty("--ha-control-slider-high-color", f.highColor));
  }, [f]);
  const I = $((F) => (ct(F, i, l) - i) / (l - i), [l, i]), z = $((F) => (l - i) * F + i, [l, i]), V = $((F) => Math.round(F / e) * e, [e]), O = $((F, L) => {
    const X = I(F), te = I(L), ce = Or * 2 * Math.PI * ft / 360, ue = Math.max((te - X) * ce, 0), he = X * ce - 0.5, ve = `${ue} ${ce - ue}`, me = `-${he}`;
    return [ve, me];
  }, [I]), W = $((F) => O(F, F), [O]), P = x ? W(x) : void 0, re = $((F) => {
    const L = N.current === "high" ? Math.min(R ?? l) : i, X = N.current === "low" ? Math.max(D ?? i) : l;
    return Math.min(Math.max(F, L), X);
  }, [R, l, i, D]), H = $((F, L, X) => {
    if (d) return null;
    const te = Nn({
      x: 0,
      y: 0,
      start: 0,
      end: ft,
      r: Or
    }), ce = X === "end" ? l : i, ue = x ?? ce, he = L ?? ce, ve = X === "end" ? he <= ue : X === "start" ? ue <= he : !1, me = L != null, _e = me ? ve ? X === "end" ? O(he, ue) : O(ue, he) : W(he) : void 0, Ne = X === "full" ? O(i, l) : X === "end" ? O(he, ce) : O(ce, he), Pe = me ? W(he) : void 0, Xe = x != null && x <= l && x >= i && (ve || X === "full") ? W(x) : void 0;
    return /* @__PURE__ */ w("g", { className: `${r ? "inactive" : ""}`, children: [
      /* @__PURE__ */ t("path", { className: "arc arc-clear", d: te, strokeDasharray: Ne[0], strokeDashoffset: Ne[1] }),
      /* @__PURE__ */ t("path", { className: `arc arc-colored ${F}`, d: te, strokeDasharray: Ne[0], strokeDashoffset: Ne[1] }),
      _e ? /* @__PURE__ */ t("path", { d: te, className: `arc arc-active ${F}`, strokeDasharray: _e[0], strokeDashoffset: _e[1], role: "slider", tabIndex: 0, "aria-valuemin": i, "aria-valuemax": l, "aria-valuenow": v != null ? V(v) : void 0, "aria-disabled": d, "aria-readonly": n, "aria-label": o }) : null,
      Xe ? /* @__PURE__ */ t("path", { className: "current arc-current", d: te, strokeDasharray: Xe[0], strokeDashoffset: Xe[1] }) : null,
      Pe ? /* @__PURE__ */ w(se, { children: [
        /* @__PURE__ */ t("path", { className: `target-border ${F}`, d: te, strokeDasharray: Pe[0], strokeDashoffset: Pe[1] }),
        /* @__PURE__ */ t("path", { className: "target", d: te, strokeDasharray: Pe[0], strokeDashoffset: Pe[1] })
      ] }) : null
    ] });
  }, [V, W, O, x, d, r, o, v, l, i, n]), Y = $((F) => {
    if (!_.current) return 0;
    const L = _.current.getBoundingClientRect(), X = 2 * (F[0] - L.left - L.width / 2) / L.width, te = 2 * (F[1] - L.top - L.height / 2) / L.height, [, ce] = Md(X, te), ue = (360 - ft) / 2, he = (Pd(ce) + ue - Yn + 360) % 360 - ue;
    return Math.max(Math.min(he / ft, 1), 0);
  }, []), U = $((F) => {
    if (!h) return "value";
    const L = Math.max(R ?? i, i), X = Math.min(D ?? l, l);
    if (L >= F)
      return "low";
    if (X <= F)
      return "high";
    const te = Math.abs(F - L), ce = Math.abs(F - X);
    return te <= ce ? "low" : "high";
  }, [h, D, R, l, i]), J = jt((F, L) => {
    typeof b == "function" && b(F, L);
  }, 100, {
    trailing: !0,
    leading: !0
  }), ae = Ur((F, L) => {
    typeof u == "function" && u(F, L);
  }, 20, {
    trailing: !0,
    leading: !0
  }), be = Bt({
    onDrag: (F) => {
      if (d || n) return;
      const {
        first: L,
        last: X
      } = F;
      if (!L && !X) {
        const te = F.values, [ce, ue] = te, he = Y([ce, ue]), ve = z(he), me = re(ve);
        j(me);
        const _e = V(me), Ne = U(ve);
        ae(_e, Ne);
      }
    },
    onDragStart: (F) => {
      if (d || n) return;
      const L = F.values, [X, te] = L, ce = Y([X, te]), ue = z(ce);
      N.current = U(ue), k.current = N.current, y.current && y.current.focus();
    },
    onDragEnd: (F) => {
      if (d) return;
      const L = F.values, [X, te] = L, ce = Y([X, te]), ue = z(ce), he = re(ue), ve = V(he);
      j(ve), N.current = U(ue), ae(ve, N.current), J(ve, N.current), N.current = void 0;
    },
    onPointerDown: (F) => {
      if (F.event.stopPropagation(), F.event.preventDefault(), d || n) return;
      const L = Y([F.event.clientX, F.event.clientY]), X = z(L);
      N.current = U(X);
      const te = re(X), ce = V(te);
      j(te), ae(ce, N.current);
    },
    onPointerUp: (F) => {
      if (d || n || (F.event.stopPropagation(), F.event.preventDefault(), d || n)) return;
      const L = Y([F.event.clientX, F.event.clientY]), X = z(L);
      N.current = U(X);
      const te = re(X), ce = V(te);
      ae(ce, N.current), J(ce, N.current), N.current = void 0;
    }
  }, {
    drag: {
      filterTaps: !0
    }
  });
  return /* @__PURE__ */ t($d, { className: "control-slider-circular", ref: _, ...be(), ...p, children: /* @__PURE__ */ t("svg", { ref: y, viewBox: "0 0 320 320", overflow: "visible", className: `slider ${N.current ? "pressed" : ""}`, tabIndex: k.current ? 0 : -1, children: /* @__PURE__ */ w("g", { className: "container", transform: `translate(160 160) rotate(${Yn})`, children: [
    /* @__PURE__ */ t("g", { className: "interaction", children: /* @__PURE__ */ t("path", { d: E }) }),
    /* @__PURE__ */ w("g", { className: "display", children: [
      /* @__PURE__ */ t("path", { className: "background", d: E }),
      P ? /* @__PURE__ */ t("path", { className: "current", d: E, strokeDasharray: P[0], strokeDashoffset: P[1] }) : null,
      T != null || g === "full" ? H(h ? "low" : "value", T, !h && g || "start") : null,
      h && M != null ? H("high", M, "end") : null
    ] })
  ] }) }) });
}
function Rt(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ControlSliderCircular"
  }), children: /* @__PURE__ */ t(jd, { ...e }) });
}
function wr() {
  return typeof window < "u";
}
function kt(e) {
  return Yo(e) ? (e.nodeName || "").toLowerCase() : "#document";
}
function ze(e) {
  var r;
  return (e == null || (r = e.ownerDocument) == null ? void 0 : r.defaultView) || window;
}
function Ge(e) {
  var r;
  return (r = (Yo(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : r.documentElement;
}
function Yo(e) {
  return wr() ? e instanceof Node || e instanceof ze(e).Node : !1;
}
function ke(e) {
  return wr() ? e instanceof Element || e instanceof ze(e).Element : !1;
}
function Ye(e) {
  return wr() ? e instanceof HTMLElement || e instanceof ze(e).HTMLElement : !1;
}
function Gn(e) {
  return !wr() || typeof ShadowRoot > "u" ? !1 : e instanceof ShadowRoot || e instanceof ze(e).ShadowRoot;
}
const Bd = /* @__PURE__ */ new Set(["inline", "contents"]);
function qt(e) {
  const {
    overflow: r,
    overflowX: o,
    overflowY: n,
    display: a
  } = Me(e);
  return /auto|scroll|overlay|hidden|clip/.test(r + n + o) && !Bd.has(a);
}
const Fd = /* @__PURE__ */ new Set(["table", "td", "th"]);
function Ld(e) {
  return Fd.has(kt(e));
}
const Wd = [":popover-open", ":modal"];
function Nr(e) {
  return Wd.some((r) => {
    try {
      return e.matches(r);
    } catch {
      return !1;
    }
  });
}
const Hd = ["transform", "translate", "scale", "rotate", "perspective"], qd = ["transform", "translate", "scale", "rotate", "perspective", "filter"], Ud = ["paint", "layout", "strict", "content"];
function on(e) {
  const r = an(), o = ke(e) ? Me(e) : e;
  return Hd.some((n) => o[n] ? o[n] !== "none" : !1) || (o.containerType ? o.containerType !== "normal" : !1) || !r && (o.backdropFilter ? o.backdropFilter !== "none" : !1) || !r && (o.filter ? o.filter !== "none" : !1) || qd.some((n) => (o.willChange || "").includes(n)) || Ud.some((n) => (o.contain || "").includes(n));
}
function Yd(e) {
  let r = ot(e);
  for (; Ye(r) && !xt(r); ) {
    if (on(r))
      return r;
    if (Nr(r))
      return null;
    r = ot(r);
  }
  return null;
}
function an() {
  return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none");
}
const Gd = /* @__PURE__ */ new Set(["html", "body", "#document"]);
function xt(e) {
  return Gd.has(kt(e));
}
function Me(e) {
  return ze(e).getComputedStyle(e);
}
function Er(e) {
  return ke(e) ? {
    scrollLeft: e.scrollLeft,
    scrollTop: e.scrollTop
  } : {
    scrollLeft: e.scrollX,
    scrollTop: e.scrollY
  };
}
function ot(e) {
  if (kt(e) === "html")
    return e;
  const r = (
    // Step into the shadow DOM of the parent of a slotted node.
    e.assignedSlot || // DOM Element detected.
    e.parentNode || // ShadowRoot detected.
    Gn(e) && e.host || // Fallback.
    Ge(e)
  );
  return Gn(r) ? r.host : r;
}
function Go(e) {
  const r = ot(e);
  return xt(r) ? e.ownerDocument ? e.ownerDocument.body : e.body : Ye(r) && qt(r) ? r : Go(r);
}
function Tt(e, r, o) {
  var n;
  r === void 0 && (r = []), o === void 0 && (o = !0);
  const a = Go(e), s = a === ((n = e.ownerDocument) == null ? void 0 : n.body), c = ze(a);
  if (s) {
    const i = Mr(c);
    return r.concat(c, c.visualViewport || [], qt(a) ? a : [], i && o ? Tt(i) : []);
  }
  return r.concat(a, Tt(a, [], o));
}
function Mr(e) {
  return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null;
}
const wt = Math.min, lt = Math.max, ir = Math.round, or = Math.floor, qe = (e) => ({
  x: e,
  y: e
});
function Pr(e, r, o) {
  return lt(e, wt(r, o));
}
function Nt(e, r) {
  return typeof e == "function" ? e(r) : e;
}
function Ut(e) {
  return e.split("-")[0];
}
function sn(e) {
  return e.split("-")[1];
}
function cn(e) {
  return e === "x" ? "y" : "x";
}
function Xo(e) {
  return e === "y" ? "height" : "width";
}
const Xd = /* @__PURE__ */ new Set(["top", "bottom"]);
function Yt(e) {
  return Xd.has(Ut(e)) ? "y" : "x";
}
function Qo(e) {
  return cn(Yt(e));
}
function Qd(e) {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0,
    ...e
  };
}
function Ko(e) {
  return typeof e != "number" ? Qd(e) : {
    top: e,
    right: e,
    bottom: e,
    left: e
  };
}
function sr(e) {
  const {
    x: r,
    y: o,
    width: n,
    height: a
  } = e;
  return {
    width: n,
    height: a,
    top: o,
    left: r,
    right: r + n,
    bottom: o + a,
    x: r,
    y: o
  };
}
var Kd = typeof document < "u", Jd = function() {
}, cr = Kd ? co : Jd;
const Zd = {
  ...Z
}, eu = Zd.useInsertionEffect, tu = eu || ((e) => e());
function ru(e) {
  const r = Z.useRef(() => {
    if (process.env.NODE_ENV !== "production")
      throw new Error("Cannot call an event handler while rendering.");
  });
  return tu(() => {
    r.current = e;
  }), Z.useCallback(function() {
    for (var o = arguments.length, n = new Array(o), a = 0; a < o; a++)
      n[a] = arguments[a];
    return r.current == null ? void 0 : r.current(...n);
  }, []);
}
function Xn(e, r, o) {
  let {
    reference: n,
    floating: a
  } = e;
  const s = Yt(r), c = Qo(r), i = Xo(c), l = Ut(r), h = s === "y", d = n.x + n.width / 2 - a.width / 2, g = n.y + n.height / 2 - a.height / 2, x = n[i] / 2 - a[i] / 2;
  let f;
  switch (l) {
    case "top":
      f = {
        x: d,
        y: n.y - a.height
      };
      break;
    case "bottom":
      f = {
        x: d,
        y: n.y + n.height
      };
      break;
    case "right":
      f = {
        x: n.x + n.width,
        y: g
      };
      break;
    case "left":
      f = {
        x: n.x - a.width,
        y: g
      };
      break;
    default:
      f = {
        x: n.x,
        y: n.y
      };
  }
  switch (sn(r)) {
    case "start":
      f[c] -= x * (o && h ? -1 : 1);
      break;
    case "end":
      f[c] += x * (o && h ? -1 : 1);
      break;
  }
  return f;
}
const nu = async (e, r, o) => {
  const {
    placement: n = "bottom",
    strategy: a = "absolute",
    middleware: s = [],
    platform: c
  } = o, i = s.filter(Boolean), l = await (c.isRTL == null ? void 0 : c.isRTL(r));
  let h = await c.getElementRects({
    reference: e,
    floating: r,
    strategy: a
  }), {
    x: d,
    y: g
  } = Xn(h, n, l), x = n, f = {}, u = 0;
  for (let b = 0; b < i.length; b++) {
    const {
      name: p,
      fn: _
    } = i[b], {
      x: y,
      y: N,
      data: k,
      reset: v
    } = await _({
      x: d,
      y: g,
      initialPlacement: n,
      placement: x,
      strategy: a,
      middlewareData: f,
      rects: h,
      platform: c,
      elements: {
        reference: e,
        floating: r
      }
    });
    d = y ?? d, g = N ?? g, f = {
      ...f,
      [p]: {
        ...f[p],
        ...k
      }
    }, v && u <= 50 && (u++, typeof v == "object" && (v.placement && (x = v.placement), v.rects && (h = v.rects === !0 ? await c.getElementRects({
      reference: e,
      floating: r,
      strategy: a
    }) : v.rects), {
      x: d,
      y: g
    } = Xn(h, x, l)), b = -1);
  }
  return {
    x: d,
    y: g,
    placement: x,
    strategy: a,
    middlewareData: f
  };
};
async function ou(e, r) {
  var o;
  r === void 0 && (r = {});
  const {
    x: n,
    y: a,
    platform: s,
    rects: c,
    elements: i,
    strategy: l
  } = e, {
    boundary: h = "clippingAncestors",
    rootBoundary: d = "viewport",
    elementContext: g = "floating",
    altBoundary: x = !1,
    padding: f = 0
  } = Nt(r, e), u = Ko(f), p = i[x ? g === "floating" ? "reference" : "floating" : g], _ = sr(await s.getClippingRect({
    element: (o = await (s.isElement == null ? void 0 : s.isElement(p))) == null || o ? p : p.contextElement || await (s.getDocumentElement == null ? void 0 : s.getDocumentElement(i.floating)),
    boundary: h,
    rootBoundary: d,
    strategy: l
  })), y = g === "floating" ? {
    x: n,
    y: a,
    width: c.floating.width,
    height: c.floating.height
  } : c.reference, N = await (s.getOffsetParent == null ? void 0 : s.getOffsetParent(i.floating)), k = await (s.isElement == null ? void 0 : s.isElement(N)) ? await (s.getScale == null ? void 0 : s.getScale(N)) || {
    x: 1,
    y: 1
  } : {
    x: 1,
    y: 1
  }, v = sr(s.convertOffsetParentRelativeRectToViewportRelativeRect ? await s.convertOffsetParentRelativeRectToViewportRelativeRect({
    elements: i,
    rect: y,
    offsetParent: N,
    strategy: l
  }) : y);
  return {
    top: (_.top - v.top + u.top) / k.y,
    bottom: (v.bottom - _.bottom + u.bottom) / k.y,
    left: (_.left - v.left + u.left) / k.x,
    right: (v.right - _.right + u.right) / k.x
  };
}
const au = (e) => ({
  name: "arrow",
  options: e,
  async fn(r) {
    const {
      x: o,
      y: n,
      placement: a,
      rects: s,
      platform: c,
      elements: i,
      middlewareData: l
    } = r, {
      element: h,
      padding: d = 0
    } = Nt(e, r) || {};
    if (h == null)
      return {};
    const g = Ko(d), x = {
      x: o,
      y: n
    }, f = Qo(a), u = Xo(f), b = await c.getDimensions(h), p = f === "y", _ = p ? "top" : "left", y = p ? "bottom" : "right", N = p ? "clientHeight" : "clientWidth", k = s.reference[u] + s.reference[f] - x[f] - s.floating[u], v = x[f] - s.reference[f], S = await (c.getOffsetParent == null ? void 0 : c.getOffsetParent(h));
    let R = S ? S[N] : 0;
    (!R || !await (c.isElement == null ? void 0 : c.isElement(S))) && (R = i.floating[N] || s.floating[u]);
    const A = k / 2 - v / 2, D = R / 2 - b[u] / 2 - 1, m = wt(g[_], D), E = wt(g[y], D), T = m, M = R - b[u] - E, j = R / 2 - b[u] / 2 + A, I = Pr(T, j, M), z = !l.arrow && sn(a) != null && j !== I && s.reference[u] / 2 - (j < T ? m : E) - b[u] / 2 < 0, V = z ? j < T ? j - T : j - M : 0;
    return {
      [f]: x[f] + V,
      data: {
        [f]: I,
        centerOffset: j - I - V,
        ...z && {
          alignmentOffset: V
        }
      },
      reset: z
    };
  }
}), Jo = /* @__PURE__ */ new Set(["left", "top"]);
async function iu(e, r) {
  const {
    placement: o,
    platform: n,
    elements: a
  } = e, s = await (n.isRTL == null ? void 0 : n.isRTL(a.floating)), c = Ut(o), i = sn(o), l = Yt(o) === "y", h = Jo.has(c) ? -1 : 1, d = s && l ? -1 : 1, g = Nt(r, e);
  let {
    mainAxis: x,
    crossAxis: f,
    alignmentAxis: u
  } = typeof g == "number" ? {
    mainAxis: g,
    crossAxis: 0,
    alignmentAxis: null
  } : {
    mainAxis: g.mainAxis || 0,
    crossAxis: g.crossAxis || 0,
    alignmentAxis: g.alignmentAxis
  };
  return i && typeof u == "number" && (f = i === "end" ? u * -1 : u), l ? {
    x: f * d,
    y: x * h
  } : {
    x: x * h,
    y: f * d
  };
}
const su = function(e) {
  return e === void 0 && (e = 0), {
    name: "offset",
    options: e,
    async fn(r) {
      var o, n;
      const {
        x: a,
        y: s,
        placement: c,
        middlewareData: i
      } = r, l = await iu(r, e);
      return c === ((o = i.offset) == null ? void 0 : o.placement) && (n = i.arrow) != null && n.alignmentOffset ? {} : {
        x: a + l.x,
        y: s + l.y,
        data: {
          ...l,
          placement: c
        }
      };
    }
  };
}, cu = function(e) {
  return e === void 0 && (e = {}), {
    name: "shift",
    options: e,
    async fn(r) {
      const {
        x: o,
        y: n,
        placement: a
      } = r, {
        mainAxis: s = !0,
        crossAxis: c = !1,
        limiter: i = {
          fn: (p) => {
            let {
              x: _,
              y
            } = p;
            return {
              x: _,
              y
            };
          }
        },
        ...l
      } = Nt(e, r), h = {
        x: o,
        y: n
      }, d = await ou(r, l), g = Yt(Ut(a)), x = cn(g);
      let f = h[x], u = h[g];
      if (s) {
        const p = x === "y" ? "top" : "left", _ = x === "y" ? "bottom" : "right", y = f + d[p], N = f - d[_];
        f = Pr(y, f, N);
      }
      if (c) {
        const p = g === "y" ? "top" : "left", _ = g === "y" ? "bottom" : "right", y = u + d[p], N = u - d[_];
        u = Pr(y, u, N);
      }
      const b = i.fn({
        ...r,
        [x]: f,
        [g]: u
      });
      return {
        ...b,
        data: {
          x: b.x - o,
          y: b.y - n,
          enabled: {
            [x]: s,
            [g]: c
          }
        }
      };
    }
  };
}, lu = function(e) {
  return e === void 0 && (e = {}), {
    options: e,
    fn(r) {
      const {
        x: o,
        y: n,
        placement: a,
        rects: s,
        middlewareData: c
      } = r, {
        offset: i = 0,
        mainAxis: l = !0,
        crossAxis: h = !0
      } = Nt(e, r), d = {
        x: o,
        y: n
      }, g = Yt(a), x = cn(g);
      let f = d[x], u = d[g];
      const b = Nt(i, r), p = typeof b == "number" ? {
        mainAxis: b,
        crossAxis: 0
      } : {
        mainAxis: 0,
        crossAxis: 0,
        ...b
      };
      if (l) {
        const N = x === "y" ? "height" : "width", k = s.reference[x] - s.floating[N] + p.mainAxis, v = s.reference[x] + s.reference[N] - p.mainAxis;
        f < k ? f = k : f > v && (f = v);
      }
      if (h) {
        var _, y;
        const N = x === "y" ? "width" : "height", k = Jo.has(Ut(a)), v = s.reference[g] - s.floating[N] + (k && ((_ = c.offset) == null ? void 0 : _[g]) || 0) + (k ? 0 : p.crossAxis), S = s.reference[g] + s.reference[N] + (k ? 0 : ((y = c.offset) == null ? void 0 : y[g]) || 0) - (k ? p.crossAxis : 0);
        u < v ? u = v : u > S && (u = S);
      }
      return {
        [x]: f,
        [g]: u
      };
    }
  };
};
function Zo(e) {
  const r = Me(e);
  let o = parseFloat(r.width) || 0, n = parseFloat(r.height) || 0;
  const a = Ye(e), s = a ? e.offsetWidth : o, c = a ? e.offsetHeight : n, i = ir(o) !== s || ir(n) !== c;
  return i && (o = s, n = c), {
    width: o,
    height: n,
    $: i
  };
}
function ln(e) {
  return ke(e) ? e : e.contextElement;
}
function vt(e) {
  const r = ln(e);
  if (!Ye(r))
    return qe(1);
  const o = r.getBoundingClientRect(), {
    width: n,
    height: a,
    $: s
  } = Zo(r);
  let c = (s ? ir(o.width) : o.width) / n, i = (s ? ir(o.height) : o.height) / a;
  return (!c || !Number.isFinite(c)) && (c = 1), (!i || !Number.isFinite(i)) && (i = 1), {
    x: c,
    y: i
  };
}
const du = /* @__PURE__ */ qe(0);
function ea(e) {
  const r = ze(e);
  return !an() || !r.visualViewport ? du : {
    x: r.visualViewport.offsetLeft,
    y: r.visualViewport.offsetTop
  };
}
function uu(e, r, o) {
  return r === void 0 && (r = !1), !o || r && o !== ze(e) ? !1 : r;
}
function dt(e, r, o, n) {
  r === void 0 && (r = !1), o === void 0 && (o = !1);
  const a = e.getBoundingClientRect(), s = ln(e);
  let c = qe(1);
  r && (n ? ke(n) && (c = vt(n)) : c = vt(e));
  const i = uu(s, o, n) ? ea(s) : qe(0);
  let l = (a.left + i.x) / c.x, h = (a.top + i.y) / c.y, d = a.width / c.x, g = a.height / c.y;
  if (s) {
    const x = ze(s), f = n && ke(n) ? ze(n) : n;
    let u = x, b = Mr(u);
    for (; b && n && f !== u; ) {
      const p = vt(b), _ = b.getBoundingClientRect(), y = Me(b), N = _.left + (b.clientLeft + parseFloat(y.paddingLeft)) * p.x, k = _.top + (b.clientTop + parseFloat(y.paddingTop)) * p.y;
      l *= p.x, h *= p.y, d *= p.x, g *= p.y, l += N, h += k, u = ze(b), b = Mr(u);
    }
  }
  return sr({
    width: d,
    height: g,
    x: l,
    y: h
  });
}
function _r(e, r) {
  const o = Er(e).scrollLeft;
  return r ? r.left + o : dt(Ge(e)).left + o;
}
function ta(e, r) {
  const o = e.getBoundingClientRect(), n = o.left + r.scrollLeft - _r(e, o), a = o.top + r.scrollTop;
  return {
    x: n,
    y: a
  };
}
function pu(e) {
  let {
    elements: r,
    rect: o,
    offsetParent: n,
    strategy: a
  } = e;
  const s = a === "fixed", c = Ge(n), i = r ? Nr(r.floating) : !1;
  if (n === c || i && s)
    return o;
  let l = {
    scrollLeft: 0,
    scrollTop: 0
  }, h = qe(1);
  const d = qe(0), g = Ye(n);
  if ((g || !g && !s) && ((kt(n) !== "body" || qt(c)) && (l = Er(n)), Ye(n))) {
    const f = dt(n);
    h = vt(n), d.x = f.x + n.clientLeft, d.y = f.y + n.clientTop;
  }
  const x = c && !g && !s ? ta(c, l) : qe(0);
  return {
    width: o.width * h.x,
    height: o.height * h.y,
    x: o.x * h.x - l.scrollLeft * h.x + d.x + x.x,
    y: o.y * h.y - l.scrollTop * h.y + d.y + x.y
  };
}
function hu(e) {
  return Array.from(e.getClientRects());
}
function fu(e) {
  const r = Ge(e), o = Er(e), n = e.ownerDocument.body, a = lt(r.scrollWidth, r.clientWidth, n.scrollWidth, n.clientWidth), s = lt(r.scrollHeight, r.clientHeight, n.scrollHeight, n.clientHeight);
  let c = -o.scrollLeft + _r(e);
  const i = -o.scrollTop;
  return Me(n).direction === "rtl" && (c += lt(r.clientWidth, n.clientWidth) - a), {
    width: a,
    height: s,
    x: c,
    y: i
  };
}
const Qn = 25;
function mu(e, r) {
  const o = ze(e), n = Ge(e), a = o.visualViewport;
  let s = n.clientWidth, c = n.clientHeight, i = 0, l = 0;
  if (a) {
    s = a.width, c = a.height;
    const d = an();
    (!d || d && r === "fixed") && (i = a.offsetLeft, l = a.offsetTop);
  }
  const h = _r(n);
  if (h <= 0) {
    const d = n.ownerDocument, g = d.body, x = getComputedStyle(g), f = d.compatMode === "CSS1Compat" && parseFloat(x.marginLeft) + parseFloat(x.marginRight) || 0, u = Math.abs(n.clientWidth - g.clientWidth - f);
    u <= Qn && (s -= u);
  } else h <= Qn && (s += h);
  return {
    width: s,
    height: c,
    x: i,
    y: l
  };
}
const gu = /* @__PURE__ */ new Set(["absolute", "fixed"]);
function vu(e, r) {
  const o = dt(e, !0, r === "fixed"), n = o.top + e.clientTop, a = o.left + e.clientLeft, s = Ye(e) ? vt(e) : qe(1), c = e.clientWidth * s.x, i = e.clientHeight * s.y, l = a * s.x, h = n * s.y;
  return {
    width: c,
    height: i,
    x: l,
    y: h
  };
}
function Kn(e, r, o) {
  let n;
  if (r === "viewport")
    n = mu(e, o);
  else if (r === "document")
    n = fu(Ge(e));
  else if (ke(r))
    n = vu(r, o);
  else {
    const a = ea(e);
    n = {
      x: r.x - a.x,
      y: r.y - a.y,
      width: r.width,
      height: r.height
    };
  }
  return sr(n);
}
function ra(e, r) {
  const o = ot(e);
  return o === r || !ke(o) || xt(o) ? !1 : Me(o).position === "fixed" || ra(o, r);
}
function bu(e, r) {
  const o = r.get(e);
  if (o)
    return o;
  let n = Tt(e, [], !1).filter((i) => ke(i) && kt(i) !== "body"), a = null;
  const s = Me(e).position === "fixed";
  let c = s ? ot(e) : e;
  for (; ke(c) && !xt(c); ) {
    const i = Me(c), l = on(c);
    !l && i.position === "fixed" && (a = null), (s ? !l && !a : !l && i.position === "static" && !!a && gu.has(a.position) || qt(c) && !l && ra(e, c)) ? n = n.filter((d) => d !== c) : a = i, c = ot(c);
  }
  return r.set(e, n), n;
}
function yu(e) {
  let {
    element: r,
    boundary: o,
    rootBoundary: n,
    strategy: a
  } = e;
  const c = [...o === "clippingAncestors" ? Nr(r) ? [] : bu(r, this._c) : [].concat(o), n], i = c[0], l = c.reduce((h, d) => {
    const g = Kn(r, d, a);
    return h.top = lt(g.top, h.top), h.right = wt(g.right, h.right), h.bottom = wt(g.bottom, h.bottom), h.left = lt(g.left, h.left), h;
  }, Kn(r, i, a));
  return {
    width: l.right - l.left,
    height: l.bottom - l.top,
    x: l.left,
    y: l.top
  };
}
function xu(e) {
  const {
    width: r,
    height: o
  } = Zo(e);
  return {
    width: r,
    height: o
  };
}
function wu(e, r, o) {
  const n = Ye(r), a = Ge(r), s = o === "fixed", c = dt(e, !0, s, r);
  let i = {
    scrollLeft: 0,
    scrollTop: 0
  };
  const l = qe(0);
  function h() {
    l.x = _r(a);
  }
  if (n || !n && !s)
    if ((kt(r) !== "body" || qt(a)) && (i = Er(r)), n) {
      const f = dt(r, !0, s, r);
      l.x = f.x + r.clientLeft, l.y = f.y + r.clientTop;
    } else a && h();
  s && !n && a && h();
  const d = a && !n && !s ? ta(a, i) : qe(0), g = c.left + i.scrollLeft - l.x - d.x, x = c.top + i.scrollTop - l.y - d.y;
  return {
    x: g,
    y: x,
    width: c.width,
    height: c.height
  };
}
function Rr(e) {
  return Me(e).position === "static";
}
function Jn(e, r) {
  if (!Ye(e) || Me(e).position === "fixed")
    return null;
  if (r)
    return r(e);
  let o = e.offsetParent;
  return Ge(e) === o && (o = o.ownerDocument.body), o;
}
function na(e, r) {
  const o = ze(e);
  if (Nr(e))
    return o;
  if (!Ye(e)) {
    let a = ot(e);
    for (; a && !xt(a); ) {
      if (ke(a) && !Rr(a))
        return a;
      a = ot(a);
    }
    return o;
  }
  let n = Jn(e, r);
  for (; n && Ld(n) && Rr(n); )
    n = Jn(n, r);
  return n && xt(n) && Rr(n) && !on(n) ? o : n || Yd(e) || o;
}
const Nu = async function(e) {
  const r = this.getOffsetParent || na, o = this.getDimensions, n = await o(e.floating);
  return {
    reference: wu(e.reference, await r(e.floating), e.strategy),
    floating: {
      x: 0,
      y: 0,
      width: n.width,
      height: n.height
    }
  };
};
function Eu(e) {
  return Me(e).direction === "rtl";
}
const _u = {
  convertOffsetParentRelativeRectToViewportRelativeRect: pu,
  getDocumentElement: Ge,
  getClippingRect: yu,
  getOffsetParent: na,
  getElementRects: Nu,
  getClientRects: hu,
  getDimensions: xu,
  getScale: vt,
  isElement: ke,
  isRTL: Eu
};
function oa(e, r) {
  return e.x === r.x && e.y === r.y && e.width === r.width && e.height === r.height;
}
function ku(e, r) {
  let o = null, n;
  const a = Ge(e);
  function s() {
    var i;
    clearTimeout(n), (i = o) == null || i.disconnect(), o = null;
  }
  function c(i, l) {
    i === void 0 && (i = !1), l === void 0 && (l = 1), s();
    const h = e.getBoundingClientRect(), {
      left: d,
      top: g,
      width: x,
      height: f
    } = h;
    if (i || r(), !x || !f)
      return;
    const u = or(g), b = or(a.clientWidth - (d + x)), p = or(a.clientHeight - (g + f)), _ = or(d), N = {
      rootMargin: -u + "px " + -b + "px " + -p + "px " + -_ + "px",
      threshold: lt(0, wt(1, l)) || 1
    };
    let k = !0;
    function v(S) {
      const R = S[0].intersectionRatio;
      if (R !== l) {
        if (!k)
          return c();
        R ? c(!1, R) : n = setTimeout(() => {
          c(!1, 1e-7);
        }, 1e3);
      }
      R === 1 && !oa(h, e.getBoundingClientRect()) && c(), k = !1;
    }
    try {
      o = new IntersectionObserver(v, {
        ...N,
        // Handle <iframe>s
        root: a.ownerDocument
      });
    } catch {
      o = new IntersectionObserver(v, N);
    }
    o.observe(e);
  }
  return c(!0), s;
}
function Su(e, r, o, n) {
  n === void 0 && (n = {});
  const {
    ancestorScroll: a = !0,
    ancestorResize: s = !0,
    elementResize: c = typeof ResizeObserver == "function",
    layoutShift: i = typeof IntersectionObserver == "function",
    animationFrame: l = !1
  } = n, h = ln(e), d = a || s ? [...h ? Tt(h) : [], ...Tt(r)] : [];
  d.forEach((_) => {
    a && _.addEventListener("scroll", o, {
      passive: !0
    }), s && _.addEventListener("resize", o);
  });
  const g = h && i ? ku(h, o) : null;
  let x = -1, f = null;
  c && (f = new ResizeObserver((_) => {
    let [y] = _;
    y && y.target === h && f && (f.unobserve(r), cancelAnimationFrame(x), x = requestAnimationFrame(() => {
      var N;
      (N = f) == null || N.observe(r);
    })), o();
  }), h && !l && f.observe(h), f.observe(r));
  let u, b = l ? dt(e) : null;
  l && p();
  function p() {
    const _ = dt(e);
    b && !oa(b, _) && o(), b = _, u = requestAnimationFrame(p);
  }
  return o(), () => {
    var _;
    d.forEach((y) => {
      a && y.removeEventListener("scroll", o), s && y.removeEventListener("resize", o);
    }), g?.(), (_ = f) == null || _.disconnect(), f = null, l && cancelAnimationFrame(u);
  };
}
const Cu = su, Du = cu, Zn = au, Ou = lu, Ru = (e, r, o) => {
  const n = /* @__PURE__ */ new Map(), a = {
    platform: _u,
    ...o
  }, s = {
    ...a.platform,
    _c: n
  };
  return nu(e, r, {
    ...a,
    platform: s
  });
};
var Iu = typeof document < "u", Au = function() {
}, ar = Iu ? co : Au;
function lr(e, r) {
  if (e === r)
    return !0;
  if (typeof e != typeof r)
    return !1;
  if (typeof e == "function" && e.toString() === r.toString())
    return !0;
  let o, n, a;
  if (e && r && typeof e == "object") {
    if (Array.isArray(e)) {
      if (o = e.length, o !== r.length) return !1;
      for (n = o; n-- !== 0; )
        if (!lr(e[n], r[n]))
          return !1;
      return !0;
    }
    if (a = Object.keys(e), o = a.length, o !== Object.keys(r).length)
      return !1;
    for (n = o; n-- !== 0; )
      if (!{}.hasOwnProperty.call(r, a[n]))
        return !1;
    for (n = o; n-- !== 0; ) {
      const s = a[n];
      if (!(s === "_owner" && e.$$typeof) && !lr(e[s], r[s]))
        return !1;
    }
    return !0;
  }
  return e !== e && r !== r;
}
function aa(e) {
  return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1;
}
function eo(e, r) {
  const o = aa(e);
  return Math.round(r * o) / o;
}
function Ir(e) {
  const r = Z.useRef(e);
  return ar(() => {
    r.current = e;
  }), r;
}
function Tu(e) {
  e === void 0 && (e = {});
  const {
    placement: r = "bottom",
    strategy: o = "absolute",
    middleware: n = [],
    platform: a,
    elements: {
      reference: s,
      floating: c
    } = {},
    transform: i = !0,
    whileElementsMounted: l,
    open: h
  } = e, [d, g] = Z.useState({
    x: 0,
    y: 0,
    strategy: o,
    placement: r,
    middlewareData: {},
    isPositioned: !1
  }), [x, f] = Z.useState(n);
  lr(x, n) || f(n);
  const [u, b] = Z.useState(null), [p, _] = Z.useState(null), y = Z.useCallback((O) => {
    O !== S.current && (S.current = O, b(O));
  }, []), N = Z.useCallback((O) => {
    O !== R.current && (R.current = O, _(O));
  }, []), k = s || u, v = c || p, S = Z.useRef(null), R = Z.useRef(null), A = Z.useRef(d), D = l != null, m = Ir(l), E = Ir(a), T = Ir(h), M = Z.useCallback(() => {
    if (!S.current || !R.current)
      return;
    const O = {
      placement: r,
      strategy: o,
      middleware: x
    };
    E.current && (O.platform = E.current), Ru(S.current, R.current, O).then((W) => {
      const P = {
        ...W,
        // The floating element's position may be recomputed while it's closed
        // but still mounted (such as when transitioning out). To ensure
        // `isPositioned` will be `false` initially on the next open, avoid
        // setting it to `true` when `open === false` (must be specified).
        isPositioned: T.current !== !1
      };
      j.current && !lr(A.current, P) && (A.current = P, Pa.flushSync(() => {
        g(P);
      }));
    });
  }, [x, r, o, E, T]);
  ar(() => {
    h === !1 && A.current.isPositioned && (A.current.isPositioned = !1, g((O) => ({
      ...O,
      isPositioned: !1
    })));
  }, [h]);
  const j = Z.useRef(!1);
  ar(() => (j.current = !0, () => {
    j.current = !1;
  }), []), ar(() => {
    if (k && (S.current = k), v && (R.current = v), k && v) {
      if (m.current)
        return m.current(k, v, M);
      M();
    }
  }, [k, v, M, m, D]);
  const I = Z.useMemo(() => ({
    reference: S,
    floating: R,
    setReference: y,
    setFloating: N
  }), [y, N]), z = Z.useMemo(() => ({
    reference: k,
    floating: v
  }), [k, v]), V = Z.useMemo(() => {
    const O = {
      position: o,
      left: 0,
      top: 0
    };
    if (!z.floating)
      return O;
    const W = eo(z.floating, d.x), P = eo(z.floating, d.y);
    return i ? {
      ...O,
      transform: "translate(" + W + "px, " + P + "px)",
      ...aa(z.floating) >= 1.5 && {
        willChange: "transform"
      }
    } : {
      position: o,
      left: W,
      top: P
    };
  }, [o, i, z.floating, d.x, d.y]);
  return Z.useMemo(() => ({
    ...d,
    update: M,
    refs: I,
    elements: z,
    floatingStyles: V
  }), [d, M, I, z, V]);
}
const zu = (e) => {
  function r(o) {
    return {}.hasOwnProperty.call(o, "current");
  }
  return {
    name: "arrow",
    options: e,
    fn(o) {
      const {
        element: n,
        padding: a
      } = typeof e == "function" ? e(o) : e;
      return n && r(n) ? n.current != null ? Zn({
        element: n.current,
        padding: a
      }).fn(o) : {} : n ? Zn({
        element: n,
        padding: a
      }).fn(o) : {};
    }
  };
}, Vu = (e, r) => ({
  ...Cu(e),
  options: [e, r]
}), $u = (e, r) => ({
  ...Du(e),
  options: [e, r]
}), Mu = (e, r) => ({
  ...Ou(e),
  options: [e, r]
}), Pu = (e, r) => ({
  ...zu(e),
  options: [e, r]
}), ju = {
  ...Z
};
let to = !1, Bu = 0;
const ro = () => (
  // Ensure the id is unique with multiple independent versions of Floating UI
  // on <React 18
  "floating-ui-" + Math.random().toString(36).slice(2, 6) + Bu++
);
function Fu() {
  const [e, r] = Z.useState(() => to ? ro() : void 0);
  return cr(() => {
    e == null && r(ro());
  }, []), Z.useEffect(() => {
    to = !0;
  }, []), e;
}
const Lu = ju.useId, ia = Lu || Fu;
let zt;
process.env.NODE_ENV !== "production" && (zt = /* @__PURE__ */ new Set());
function Wu() {
  for (var e, r = arguments.length, o = new Array(r), n = 0; n < r; n++)
    o[n] = arguments[n];
  const a = "Floating UI: " + o.join(" ");
  if (!((e = zt) != null && e.has(a))) {
    var s;
    (s = zt) == null || s.add(a), console.warn(a);
  }
}
function Hu() {
  for (var e, r = arguments.length, o = new Array(r), n = 0; n < r; n++)
    o[n] = arguments[n];
  const a = "Floating UI: " + o.join(" ");
  if (!((e = zt) != null && e.has(a))) {
    var s;
    (s = zt) == null || s.add(a), console.error(a);
  }
}
const qu = /* @__PURE__ */ Z.forwardRef(function(r, o) {
  const {
    context: {
      placement: n,
      elements: {
        floating: a
      },
      middlewareData: {
        arrow: s,
        shift: c
      }
    },
    width: i = 14,
    height: l = 7,
    tipRadius: h = 0,
    strokeWidth: d = 0,
    staticOffset: g,
    stroke: x,
    d: f,
    style: {
      transform: u,
      ...b
    } = {},
    ...p
  } = r;
  process.env.NODE_ENV !== "production" && (o || Wu("The `ref` prop is required for `FloatingArrow`."));
  const _ = ia(), [y, N] = Z.useState(!1);
  if (cr(() => {
    if (!a) return;
    Me(a).direction === "rtl" && N(!0);
  }, [a]), !a)
    return null;
  const [k, v] = n.split("-"), S = k === "top" || k === "bottom";
  let R = g;
  (S && c != null && c.x || !S && c != null && c.y) && (R = null);
  const A = d * 2, D = A / 2, m = i / 2 * (h / -8 + 1), E = l / 2 * h / 4, T = !!f, M = R && v === "end" ? "bottom" : "top";
  let j = R && v === "end" ? "right" : "left";
  R && y && (j = v === "end" ? "left" : "right");
  const I = s?.x != null ? R || s.x : "", z = s?.y != null ? R || s.y : "", V = f || "M0,0" + (" H" + i) + (" L" + (i - m) + "," + (l - E)) + (" Q" + i / 2 + "," + l + " " + m + "," + (l - E)) + " Z", O = {
    top: T ? "rotate(180deg)" : "",
    left: T ? "rotate(90deg)" : "rotate(-90deg)",
    bottom: T ? "" : "rotate(180deg)",
    right: T ? "rotate(-90deg)" : "rotate(90deg)"
  }[k];
  return /* @__PURE__ */ ri("svg", {
    ...p,
    "aria-hidden": !0,
    ref: o,
    width: T ? i : i + A,
    height: i,
    viewBox: "0 0 " + i + " " + (l > i ? l : i),
    style: {
      position: "absolute",
      pointerEvents: "none",
      [j]: I,
      [M]: z,
      [k]: S || T ? "100%" : "calc(100% - " + A / 2 + "px)",
      transform: [O, u].filter((W) => !!W).join(" "),
      ...b
    },
    children: [A > 0 && /* @__PURE__ */ Jt("path", {
      clipPath: "url(#" + _ + ")",
      fill: "none",
      stroke: x,
      strokeWidth: A + (f ? 0 : 1),
      d: V
    }), /* @__PURE__ */ Jt("path", {
      stroke: A && !f ? p.fill : "none",
      d: V
    }), /* @__PURE__ */ Jt("clipPath", {
      id: _,
      children: /* @__PURE__ */ Jt("rect", {
        x: -D,
        y: D * (T ? -1 : 1),
        width: i + A,
        height: i
      })
    })]
  });
});
function Uu() {
  const e = /* @__PURE__ */ new Map();
  return {
    emit(r, o) {
      var n;
      (n = e.get(r)) == null || n.forEach((a) => a(o));
    },
    on(r, o) {
      e.has(r) || e.set(r, /* @__PURE__ */ new Set()), e.get(r).add(o);
    },
    off(r, o) {
      var n;
      (n = e.get(r)) == null || n.delete(o);
    }
  };
}
const Yu = /* @__PURE__ */ Z.createContext(null), Gu = /* @__PURE__ */ Z.createContext(null), Xu = () => {
  var e;
  return ((e = Z.useContext(Yu)) == null ? void 0 : e.id) || null;
}, Qu = () => Z.useContext(Gu);
function Ku(e) {
  const {
    open: r = !1,
    onOpenChange: o,
    elements: n
  } = e, a = ia(), s = Z.useRef({}), [c] = Z.useState(() => Uu()), i = Xu() != null;
  if (process.env.NODE_ENV !== "production") {
    const f = n.reference;
    f && !ke(f) && Hu("Cannot pass a virtual element to the `elements.reference` option,", "as it must be a real DOM element. Use `refs.setPositionReference()`", "instead.");
  }
  const [l, h] = Z.useState(n.reference), d = ru((f, u, b) => {
    s.current.openEvent = f ? u : void 0, c.emit("openchange", {
      open: f,
      event: u,
      reason: b,
      nested: i
    }), o?.(f, u, b);
  }), g = Z.useMemo(() => ({
    setPositionReference: h
  }), []), x = Z.useMemo(() => ({
    reference: l || n.reference || null,
    floating: n.floating || null,
    domReference: n.reference
  }), [l, n.reference, n.floating]);
  return Z.useMemo(() => ({
    dataRef: s,
    open: r,
    onOpenChange: d,
    elements: x,
    events: c,
    floatingId: a,
    refs: g
  }), [r, d, x, c, a, g]);
}
function Ju(e) {
  e === void 0 && (e = {});
  const {
    nodeId: r
  } = e, o = Ku({
    ...e,
    elements: {
      reference: null,
      floating: null,
      ...e.elements
    }
  }), n = e.rootContext || o, a = n.elements, [s, c] = Z.useState(null), [i, l] = Z.useState(null), d = a?.domReference || s, g = Z.useRef(null), x = Qu();
  cr(() => {
    d && (g.current = d);
  }, [d]);
  const f = Tu({
    ...e,
    elements: {
      ...a,
      ...i && {
        reference: i
      }
    }
  }), u = Z.useCallback((N) => {
    const k = ke(N) ? {
      getBoundingClientRect: () => N.getBoundingClientRect(),
      getClientRects: () => N.getClientRects(),
      contextElement: N
    } : N;
    l(k), f.refs.setReference(k);
  }, [f.refs]), b = Z.useCallback((N) => {
    (ke(N) || N === null) && (g.current = N, c(N)), (ke(f.refs.reference.current) || f.refs.reference.current === null || // Don't allow setting virtual elements using the old technique back to
    // `null` to support `positionReference` + an unstable `reference`
    // callback ref.
    N !== null && !ke(N)) && f.refs.setReference(N);
  }, [f.refs]), p = Z.useMemo(() => ({
    ...f.refs,
    setReference: b,
    setPositionReference: u,
    domReference: g
  }), [f.refs, b, u]), _ = Z.useMemo(() => ({
    ...f.elements,
    domReference: d
  }), [f.elements, d]), y = Z.useMemo(() => ({
    ...f,
    ...n,
    refs: p,
    elements: _,
    nodeId: r
  }), [f, p, _, r, n]);
  return cr(() => {
    n.dataRef.current.floatingContext = y;
    const N = x?.nodesRef.current.find((k) => k.id === r);
    N && (N.context = y);
  }), Z.useMemo(() => ({
    ...f,
    context: y,
    refs: p,
    elements: _
  }), [f, p, _, y]);
}
function kr() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Zu = /* @__PURE__ */ C(we, process.env.NODE_ENV === "production" ? {
  target: "e1uo8o83"
} : {
  target: "e1uo8o83",
  label: "StyledIcon"
})(process.env.NODE_ENV === "production" ? {
  name: "1ci31f3",
  styles: "font-size:1rem;color:var(--ha-S400-contrast);margin-right:0.5rem"
} : {
  name: "1ci31f3",
  styles: "font-size:1rem;color:var(--ha-S400-contrast);margin-right:0.5rem",
  toString: kr
}), ep = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1uo8o82"
} : {
  target: "e1uo8o82",
  label: "MenuPopup"
})(process.env.NODE_ENV === "production" ? {
  name: "ofx7pc",
  styles: "z-index:50;display:flex;min-width:180px;flex-direction:column;overscroll-behavior:contain;border-radius:0.5rem;border-width:1px;border-style:solid;border-color:var(--ha-S500);background-color:var(--ha-S400);padding:0.5rem;color:var(--ha-S400-contrast);box-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1),0 4px 6px -4px rgb(0 0 0 / 0.1);outline:none!important;max-height:max-content;max-height:300px;overflow-y:scroll"
} : {
  name: "ofx7pc",
  styles: "z-index:50;display:flex;min-width:180px;flex-direction:column;overscroll-behavior:contain;border-radius:0.5rem;border-width:1px;border-style:solid;border-color:var(--ha-S500);background-color:var(--ha-S400);padding:0.5rem;color:var(--ha-S400-contrast);box-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1),0 4px 6px -4px rgb(0 0 0 / 0.1);outline:none!important;max-height:max-content;max-height:300px;overflow-y:scroll",
  toString: kr
}), tp = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1uo8o81"
} : {
  target: "e1uo8o81",
  label: "Parent"
})(process.env.NODE_ENV === "production" ? {
  name: "bjn8wh",
  styles: "position:relative"
} : {
  name: "bjn8wh",
  styles: "position:relative",
  toString: kr
}), rp = /* @__PURE__ */ C("a", process.env.NODE_ENV === "production" ? {
  target: "e1uo8o80"
} : {
  target: "e1uo8o80",
  label: "MenuItem"
})(process.env.NODE_ENV === "production" ? {
  name: "iku8lo",
  styles: "display:flex;scroll-margin:0.5rem;align-items:center;gap:0.5rem;border-radius:0.25rem;padding:0.8rem 0.5rem;outline:none!important;background-color:transparent;cursor:pointer;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:active,&:focus,&:hover{background-color:var(--ha-S600);}&.active{background-color:var(--ha-S700);}"
} : {
  name: "iku8lo",
  styles: "display:flex;scroll-margin:0.5rem;align-items:center;gap:0.5rem;border-radius:0.25rem;padding:0.8rem 0.5rem;outline:none!important;background-color:transparent;cursor:pointer;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:active,&:focus,&:hover{background-color:var(--ha-S600);}&.active{background-color:var(--ha-S700);}",
  toString: kr
});
function Dt({
  children: e,
  placement: r = "bottom",
  items: o = [],
  disabled: n = !1,
  cssStyles: a,
  ...s
}) {
  const [c, i] = ne(!1), l = Q((_) => _.globalComponentStyles), h = G(null), {
    refs: d,
    floatingStyles: g,
    context: x
  } = Ju({
    whileElementsMounted: Su,
    placement: r,
    middleware: [$u({
      limiter: Mu({
        // Start limiting 5px earlier
        offset: 10
      })
    }), Vu(20), Pu({
      element: h
    })]
  }), {
    width: f,
    ref: u
  } = Yr({
    refreshMode: "debounce",
    handleHeight: !1,
    refreshRate: 500
  }), b = G(null), p = $((_) => {
    const y = b.current && b.current.contains(_.target), N = u.current && u.current.contains(_.target);
    !y && !N && i(!1);
  }, [u]);
  return K(() => (c ? document.addEventListener("mousedown", p) : document.removeEventListener("mousedown", p), () => {
    document.removeEventListener("mousedown", p);
  }), [p, c]), /* @__PURE__ */ w(tp, { ...s, ref: u, "aria-disabled": n, "aria-controls": "listbox", "aria-expanded": c, role: "combobox", css: /* @__PURE__ */ Se(l.menu ?? "", " ", a ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:Menu;")), children: [
    Re.map(e, (_) => Te(_) ? Ue(_, {
      ..._.props,
      role: "option",
      ref: d.setReference,
      onClick: () => {
        n || (i(!c), _.props.onClick?.());
      }
    }) : _),
    c && /* @__PURE__ */ w("div", { ref: d.setFloating, style: g, role: "listbox", children: [
      /* @__PURE__ */ t(qu, { ref: h, context: x, style: {
        fill: "var(--ha-S400)"
      } }),
      /* @__PURE__ */ t(ep, { triggerWidth: f ?? 0, className: "menu", children: o.map(({
        onClick: _,
        active: y,
        label: N,
        icon: k,
        ...v
      }, S) => /* @__PURE__ */ Hr(rp, { ...v, key: S, "aria-disabled": n, role: "option", onClick: () => {
        _?.(), i(!1);
      }, className: `menu-item ${y ? "active" : ""}` }, /* @__PURE__ */ w(ee, { fullWidth: !0, justifyContent: "flex-start", children: [
        k && /* @__PURE__ */ t(Zu, { icon: k }),
        N
      ] }))) })
    ] })
  ] });
}
const bt = 400, no = bt * (typeof window > "u" ? 1 : window.devicePixelRatio), np = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "emae8tc0"
} : {
  target: "emae8tc0",
  label: "Picker"
})(() => `
    display: block;
    outline: none;
    height: 45vh;
    max-height: 320px;
    min-height: 200px;
    ${De(["xxs"], `
      min-height: 0;
      height: 35vh;
      max-height: 100%;
    `)}
    touch-action: none;
    .container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
    }
    canvas {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
      transition: box-shadow 180ms ease-in-out;
      cursor: pointer;
    }
    :host(:focus-visible) canvas {
      box-shadow: 0 0 0 2px rgb(255, 160, 0);
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    circle {
      fill: black;
      stroke: white;
      stroke-width: 2;
      filter: url(#marker-shadow);
    }
    &[pressed="touch"] {
      circle {
        transform: translate(0px, -${bt / 16}px) scale(2.5),
      }
    }
    .cursor {
      --cx: ((var(--value-x, 0) + 1) * ${bt}) / 2;
      --cy: ((var(--value-y, 0) + 1) * ${bt}) / 2;
      transform: translate(calc(var(--cx) * 1px), calc(var(--cy) * 1px));
    }
    &[pressed] {
      circle {
        transform: translate(0px, 0px) scale(1.5);
      }
    }
    &:not([pressed]) circle {
      transition: transform 100ms ease-in-out, fill 100ms ease-in-out;
    }
    &:not([pressed]) {
      .cursor {
        transition: transform 200ms ease-in-out, opacity 200ms ease-in-out;
      }
    }
    .container.disabled {
      .cursor {
        opacity: 0;
      }
      cursor: not-allowed;
      > * {
        cursor: not-allowed;
      }
    }
    `, ";"), jr = 0.9;
function op(e, r) {
  const o = Math.sqrt(e * e + r * r), n = Math.atan2(r, e);
  return [o, n];
}
function ap(e, r) {
  const o = Math.cos(r) * e, n = Math.sin(r) * e;
  return [o, n];
}
function ip(e, r, o) {
  e.clearRect(0, 0, e.canvas.width, e.canvas.height);
  const n = e.canvas.width / 2, a = Math.max(r, 2e3), s = Math.min(o, 4e4);
  for (let c = -n; c < n; c += 1) {
    const i = n * Math.sqrt(1 - (c / n) ** 2), l = (c / (n * jr) + 1) / 2, h = Math.max(Math.min(a + l * (s - a), s), a), d = It(Wr(h));
    e.fillStyle = d, e.fillRect(n - i, n + c - 0.5, 2 * i, 2), e.fill();
  }
}
function sp({
  disabled: e = !1,
  entity: r,
  onChangeApplied: o,
  onChange: n,
  className: a,
  cssStyles: s,
  ...c
}) {
  const i = pe(r), l = Oa(i), h = G(null), d = G(null), g = G(null), x = G(null), f = G(void 0), u = G([0, 0]), b = i.attributes.min_color_temp_kelvin || 2e3, p = i.attributes.max_color_temp_kelvin || 1e4, _ = i.state === je, y = Je(i, Ze.COLOR_TEMP), N = $((I) => {
    const z = Wr(I ?? Math.round((p + b) / 2)), V = It(z), O = Ra(z);
    return {
      rgb: z,
      hex: V,
      hs: O
    };
  }, [p, b]), k = $((I) => {
    const {
      hex: z
    } = N(I);
    g.current && (g.current.style.fill = z), x.current && (x.current.style.fill = z, x.current.style.visibility = u.current ? "" : "hidden");
  }, [N]), v = $(() => {
    if (!h.current) return;
    const I = h.current.getContext("2d");
    ip(I, b, p);
  }, [b, p]), S = function(I) {
    d.current && (I !== "" ? d.current.setAttribute("pressed", I) : d.current.removeAttribute("pressed"));
  }, R = $(([, I]) => {
    const z = (I / jr + 1) / 2, V = Math.max(Math.min(b + z * (p - b), p), b);
    return Math.round(V);
  }, [b, p]), A = $((I) => {
    if (!(!d.current || !I))
      return u.current = I, d.current.style.setProperty("--value-x", e ? "0" : `${I[0]}`), d.current.style.setProperty("--value-y", e ? "0" : `${I[1]}`), m.current = R(u.current), k(m.current), () => {
        d.current && (d.current.style.removeProperty("--value-x"), d.current.style.removeProperty("--value-y"));
      };
  }, [e, k, R]), D = $((I) => l === b ? [0, -1] : l === p ? [0, 1] : [0, (2 * (((I || 0) - b) / (p - b)) - 1) * jr], [l, b, p]), m = G(R(D(l)));
  K(() => {
    k(m.current);
  }, [k]), K(() => {
    const I = u.current[0];
    u.current = [I, D(l)[1]], A(u.current);
  }, [A, l, D]);
  const E = $((I, z) => {
    const [V, O] = I, W = z.getBoundingClientRect(), P = W.left, re = W.top, H = z.clientWidth, Y = z.clientHeight, U = 2 * (V - P) / H - 1, J = 2 * (O - re) / Y - 1, [ae, be] = op(U, J), [F, L] = ap(Math.min(1, ae), be);
    return [F, L];
  }, []), T = $((I) => {
    f.current && clearTimeout(f.current), I !== l && (f.current = setTimeout(() => {
      if (typeof o == "function") {
        const z = N(I);
        o(I, z);
      }
      i.service.turnOn({
        serviceData: {
          color_temp_kelvin: I
        }
      });
    }, 100));
  }, [o, i, l, N]);
  K(() => {
    y && v();
  }, [v, y]);
  function M() {
    return /* @__PURE__ */ w("filter", { id: "marker-shadow", x: "-50%", y: "-50%", width: "200%", height: "200%", filterUnits: "objectBoundingBox", children: [
      /* @__PURE__ */ t("feDropShadow", { dx: "0", dy: "1", stdDeviation: "2", floodOpacity: "0.3", floodColor: "rgba(0, 0, 0, 1)" }),
      /* @__PURE__ */ t("feDropShadow", { dx: "0", dy: "1", stdDeviation: "3", floodOpacity: "0.15", floodColor: "rgba(0, 0, 0, 1)" })
    ] });
  }
  const j = Bt({
    onDrag: (I) => {
      if (!e && (A(E(I.xy, I.target)), typeof n == "function")) {
        const z = N(m.current);
        n(m.current, z);
      }
    },
    onDragStart: (I) => {
      e || (S(I.type), A(u.current));
    },
    onDragEnd: (I) => {
      e || (S(""), A(E(I.xy, I.target)), T(m.current));
    },
    onClick: (I) => {
      const z = I.event.clientX, V = I.event.clientY;
      A(E([z, V], I.event.target)), T(m.current);
    }
  }, {
    drag: {
      filterTaps: !0
    }
  });
  return y ? /* @__PURE__ */ t(np, { css: /* @__PURE__ */ Se(s ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalColorTempPicker;")), className: `${a ?? ""} color-temp-picker`, ref: d, ...j(), ...c, children: /* @__PURE__ */ w("div", { className: `container ${e ? "disabled" : ""}`, children: [
    /* @__PURE__ */ t("canvas", { ref: h, width: no, height: no }),
    /* @__PURE__ */ w("svg", { id: "interaction", viewBox: `0 0 ${bt} ${bt}`, overflow: "visible", "aria-hidden": "true", children: [
      /* @__PURE__ */ t("defs", { children: M() }),
      /* @__PURE__ */ t("g", { ref: g, className: "cursor", style: {
        visibility: typeof l > "u" || !_ ? "hidden" : "visible"
      }, children: /* @__PURE__ */ t("circle", { ref: x, cx: "0", cy: "0", r: "16" }) })
    ] })
  ] }) }) : null;
}
function cp(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ColorTempPicker"
  }), children: /* @__PURE__ */ t(sp, { ...e }) });
}
const st = 400;
function oo(e, r) {
  const o = Math.sqrt(e * e + r * r), n = Math.atan2(r, e);
  return [o, n];
}
function ao(e, r) {
  const o = Math.cos(r) * e, n = Math.sin(r) * e;
  return [o, n];
}
function lp(e) {
  return e / (2 * Math.PI) * 360;
}
function Br(e) {
  return e / 360 * 2 * Math.PI;
}
function Fr(e, r, o, n, a, s) {
  return r != null ? fo([...e, r]) : o != null && n !== null ? mo([...e, o, n], a, s) : e;
}
function dp(e, r = 255, o, n, a, s, c) {
  const i = e.canvas.width / 2;
  e.clearRect(0, 0, e.canvas.width, e.canvas.height), e.beginPath();
  const l = e.canvas.width / 2, h = e.canvas.width / 2;
  for (let d = 0; d < 360; d += 1) {
    const g = Br(d - 0.5), x = Br(d + 1.5);
    e.beginPath(), e.moveTo(l, h), e.arc(l, h, i, g, x), e.closePath();
    const f = e.createRadialGradient(l, h, 0, l, h, i), u = It(Fr(zr([d, 0, r]), o, n, a, s, c)), b = It(Fr(zr([d, 1, r]), o, n, a, s, c));
    f.addColorStop(0, u), f.addColorStop(1, b), e.fillStyle = f, e.fill();
  }
}
const up = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e13gc1280"
} : {
  target: "e13gc1280",
  label: "ColorPickerWrapper"
})(() => {
  const e = `calc((var(--value-x, 0) + 1) * (${st} / 2) * 1px), calc((var(--value-y, 0) + 1) * (${st} / 2) * 1px)`;
  return `
    touch-action: none;
    display: block;
    outline: none;
    height: 45vh;
    max-height: 320px;
    min-height: 200px;
    ${De(["xxs"], `
      min-height: 0;
      height: 35vh;
      max-height: 100%;
    `)}
    .container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
    }
    canvas {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
      cursor: pointer;
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    .cursor {
      will-change: transform;
      transform: translate(${e});
    }
    circle {
      fill: black;
      stroke: white;
      stroke-width: 2;
      filter: url(#marker-shadow);
    }
    &:not([pressed]) circle {
      transition:
        transform 100ms ease-in-out,
        fill 100ms ease-in-out;
      translate(0px, 0px) scale(1);
    }
    &:not([pressed]) .cursor {
      transition: opacity 200ms ease-in-out, transform 200ms ease-in-out;
    }
    &[pressed="pointerdown"] circle {
      translate(0px, -${st / 16}px) scale(1.5);
    }
    .container.disabled {
      .cursor {
        opacity: 0;
      }
      cursor: not-allowed;
      > * {
        cursor: not-allowed;
      }
    }
  `;
}, ";");
function pp({
  disabled: e = !1,
  entity: r,
  onChange: o,
  onChangeApplied: n,
  className: a,
  cssStyles: s
}) {
  const c = pe(r), i = Ia(c), l = G(null), h = G(null), d = G(null), g = G(void 0), x = G(null), f = G(void 0), u = G(void 0), b = G(void 0), p = oe(() => typeof window > "u" ? st : st * window.devicePixelRatio, []), _ = c.attributes.min_color_temp_kelvin, y = c.attributes.max_color_temp_kelvin, N = c.state === je, k = po(c), v = $(() => {
    if (!h.current) return;
    const O = h.current.getContext("2d");
    dp(O, i.colorBrightness, i.white, i.coolWhite, i.warmWhite, _, y);
  }, [i.colorBrightness, i.white, i.coolWhite, i.warmWhite, _, y]);
  K(() => {
    k && v();
  }, [v, k]);
  const S = $((O) => {
    const W = Br(O[0]), P = Math.min(O[1], 1), [re, H] = ao(P, W);
    return [re, H];
  }, []), R = $((O, W) => {
    const [P, re] = oo(O, W), Y = (Math.round(lp(re)) % 360 + 360) % 360, U = Math.round(Math.min(P, 1) * 100) / 100;
    return [Y, U];
  }, []), A = $((O, W) => {
    const [P, re] = O, H = W.getBoundingClientRect(), Y = H.left, U = H.top, J = W.clientWidth, ae = W.clientHeight, be = 2 * (P - Y) / J - 1, F = 2 * (re - U) / ae - 1, [L, X] = oo(be, F), [te, ce] = ao(Math.min(1, L), X);
    return [te, ce];
  }, []), D = $(() => {
    if (i.hs === void 0) {
      u.current = void 0, b.current = void 0;
      return;
    }
    u.current = S(i.hs), b.current = i.hs;
  }, [S, i.hs]);
  K(() => {
    k && D();
  }, [i.hs, D, k]);
  const m = function(O, W) {
    f.current = W, l.current && (O ? l.current.setAttribute("pressed", "") : l.current.removeAttribute("pressed"));
  }, E = $(() => {
    const O = b.current !== void 0 ? Fr(zr([b.current[0], b.current[1], i.colorBrightness ?? 255]), i.white, i.coolWhite, i.warmWhite) : [255, 255, 255];
    g.current = It(O), x.current && (x.current.style.fill = g.current, x.current.style.visibility = u.current ? "" : "hidden"), d.current && (d.current.style.fill = g.current);
  }, [i.colorBrightness, i.white, i.coolWhite, i.warmWhite]), T = $((O) => {
    !l.current || !O || (u.current = O, l.current.style.setProperty("--value-x", e ? "0" : `${O[0]}`), l.current.style.setProperty("--value-y", e ? "0" : `${O[1]}`), b.current = R(...u.current), E(), typeof o == "function" && o({
      hex: g.current,
      rgb: Cr(g.current),
      hs: b.current
    }));
  }, [e, R, o, E]);
  K(() => {
    const O = l.current;
    return () => {
      O && (O.style.removeProperty("--value-x"), O.style.removeProperty("--value-y"));
    };
  }, []), K(() => {
    !k || i.hs === void 0 || (u.current = S(i.hs), T(u.current));
  }, [i.hs, k, T, S]);
  const M = $((O, W) => {
    c.service.turnOn({
      serviceData: {
        ...O,
        ...W
      }
    });
  }, [c]), j = $((O) => {
    if (Je(c, Ze.RGBWW)) {
      const W = c.attributes.rgbww_color ? [...c.attributes.rgbww_color] : [0, 0, 0, 0, 0], P = O.concat(W.slice(3));
      M({
        rgbww_color: P
      });
    } else if (Je(c, Ze.RGBW)) {
      const W = c.attributes.rgbw_color ? [...c.attributes.rgbw_color] : [0, 0, 0, 0], P = O.concat(W.slice(3));
      M({
        rgbw_color: P
      });
    }
  }, [c, M]), I = $((O, W, P = !1) => {
    if (O.every((H) => H === 0) && (O[0] = 255, O[1] = 255, O[2] = 255), W !== void 0 && W !== 255) {
      let H = W / 255;
      P && (H = 1 / H), O[0] = Math.min(255, Math.round(O[0] * H)), O[1] = Math.min(255, Math.round(O[1] * H)), O[2] = Math.min(255, Math.round(O[2] * H));
    }
    return O;
  }, []), z = $((O) => {
    if (!O) return;
    const W = [O[0], O[1] * 100], P = ho(O);
    if (Je(c, Ze.RGBWW) || Je(c, Ze.RGBW))
      j(i.colorBrightness ? I(P, i.colorBrightness * 255 / 100) : P);
    else if (Je(c, Ze.RGB))
      if (i.brightnessAdjusted) {
        const re = i.brightnessAdjusted / 255 * 100, H = Math.round((c.attributes.brightness || 0) * re / 255), Y = I(P, i.brightnessAdjusted, !0);
        M({
          rgb_color: Y
        }, {
          brightness_pct: H
        });
      } else
        M({
          rgb_color: P
        });
    else
      M({
        hs_color: W
      });
  }, [c, j, i.colorBrightness, i.brightnessAdjusted, I, M]), V = Bt({
    onDrag: (O) => {
      e || (u.current = A(O.values, O.target), T(u.current));
    },
    onDragStart: (O) => {
      e || (m(!0, O.type), T(u.current));
    },
    onDragEnd: (O) => {
      e || (m(!1, O.type), u.current = A(O.values, O.target), T(u.current), typeof n == "function" && n({
        hex: g.current,
        rgb: Cr(g.current),
        hs: b.current
      }), z(b.current));
    },
    onClick: (O) => {
      if (e) return;
      m(!1, void 0);
      const W = O.event.clientX, P = O.event.clientY;
      u.current = A([W, P], O.event.target), T(u.current), typeof n == "function" && n({
        hex: g.current,
        rgb: Cr(g.current),
        hs: b.current
      }), z(b.current);
    }
  }, {
    drag: {
      filterTaps: !0
    }
  });
  return k ? /* @__PURE__ */ t(up, { css: /* @__PURE__ */ Se(s ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalColorPicker;")), className: `${a ?? ""} color-picker`, ref: l, ...V(), children: /* @__PURE__ */ w("div", { className: `container ${e ? "disabled" : ""}`, children: [
    /* @__PURE__ */ t("canvas", { ref: h, width: p, height: p }),
    /* @__PURE__ */ w("svg", { id: "interaction", viewBox: `0 0 ${st} ${st}`, overflow: "visible", children: [
      /* @__PURE__ */ t("defs", { children: /* @__PURE__ */ w("filter", { id: "marker-shadow", x: "-50%", y: "-50%", width: "200%", height: "200%", filterUnits: "objectBoundingBox", children: [
        /* @__PURE__ */ t("feDropShadow", { dx: "0", dy: "1", stdDeviation: "2", floodOpacity: "0.3", floodColor: "rgba(0, 0, 0, 1)" }),
        /* @__PURE__ */ t("feDropShadow", { dx: "0", dy: "1", stdDeviation: "3", floodOpacity: "0.15", floodColor: "rgba(0, 0, 0, 1)" })
      ] }) }),
      /* @__PURE__ */ t("g", { ref: d, className: "cursor", style: {
        visibility: N ? "visible" : "hidden"
      }, children: /* @__PURE__ */ t("circle", { ref: x, cx: "0", cy: "0", r: "16" }) })
    ] })
  ] }) }) : null;
}
function hp(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ColorPicker"
  }), children: /* @__PURE__ */ t(pp, { ...e }) });
}
function dn() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const fp = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "elgr7fr2"
} : {
  target: "elgr7fr2",
  label: "Key"
})(process.env.NODE_ENV === "production" ? {
  name: "1ff36h2",
  styles: "flex-grow:1"
} : {
  name: "1ff36h2",
  styles: "flex-grow:1",
  toString: dn
}), mp = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "elgr7fr1"
} : {
  target: "elgr7fr1",
  label: "Value"
})(process.env.NODE_ENV === "production" ? {
  name: "1qhvysv",
  styles: "max-width:60%;overflow-wrap:break-word;text-align:right"
} : {
  name: "1qhvysv",
  styles: "max-width:60%;overflow-wrap:break-word;text-align:right",
  toString: dn
}), gp = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "elgr7fr0"
} : {
  target: "elgr7fr0",
  label: "Entry"
})(process.env.NODE_ENV === "production" ? {
  name: "177lhik",
  styles: "display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-bottom:0.5rem;border-bottom:1px solid var(--ha-S400)"
} : {
  name: "177lhik",
  styles: "display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-bottom:0.5rem;border-bottom:1px solid var(--ha-S400)",
  toString: dn
});
function vp({
  entity: e,
  title: r,
  ...o
}) {
  const n = pe(e), a = oe(() => [...Object.entries(n.attributes), ["state", n.state]], [n]);
  return /* @__PURE__ */ t(Vo, { collapsed: !0, cssStyles: `
    background-color: var(--ha-S300);
    color: var(--ha-S300-contrast);
    margin: 1rem 0;
  `, layout: "column", alignItems: "flex-start", title: r ?? B("show_attributes"), ...o, children: a.map(([s, c]) => /* @__PURE__ */ w(gp, { children: [
    /* @__PURE__ */ t(fp, { children: s }),
    /* @__PURE__ */ t(mp, { children: Array.isArray(c) ? c.join(", ") : typeof c == "object" || typeof c == "boolean" ? JSON.stringify(c) : c })
  ] }, s)) });
}
function bp(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "EntityAttributes"
  }), children: /* @__PURE__ */ t(vp, { ...e }) });
}
const yp = gi((e) => ti(e));
function xp({
  children: e,
  options: r
}) {
  return /* @__PURE__ */ t(Ta, { value: yp(r), children: e });
}
const Lr = {
  errorColor: [219, 68, 55],
  warningColor: [255, 166, 0],
  successColor: [67, 160, 71],
  infoColor: [3, 155, 229]
}, Sr = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1], wp = (e, r) => {
  const [o, n, a] = e.map((s) => {
    const c = s / 255 * r;
    return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
  });
  return 0.2126 * o + 0.7152 * n + 0.0722 * a;
}, Np = (e, r) => wp(e, r) > 0.3 ? "rgba(0, 0, 0, 1)" : "rgba(255, 255, 255, 1)", Ep = (e = Lr) => Object.entries(e).map(([r, o]) => Sr.map((n) => {
  const a = n < 1 ? `-a${n * 10}` : "", s = `--ha-${r.replace(/([A-Z])/g, "-$1").toLowerCase().replace("-color", "")}-color${a}`, c = `${s}-contrast`, i = `rgba(${o.join(", ")}, ${n})`, l = Np([...o], n);
  return `${s}: ${i};
${c}: ${l};`;
}).join(`
`)).join(`
`), io = (e, r, o, n) => e.map((a, s) => {
  const c = r === "Light", i = c ? `calc(((var(--ha-s) - var(--mtc-light-s)) * var(--mtc-s-${a}) + var(--mtc-light-s)) * 1%)` : `calc(((1 - var(--mtc-s-${a})) * 100 + var(--mtc-s-${a}) * var(--ha-s)) * 1%)`, l = c ? `calc(((var(--ha-l) - var(--mtc-light-l)) * var(--mtc-l-${a}) + var(--mtc-light-l)) * 1%)` : `calc(((1 - var(--mtc-l-${a})) * var(--ha-l) * var(--ha-l) / 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%)`, h = (b) => c ? `hsla(0, 0%, calc(((((1 - var(--mtc-l-${a})) * 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${b})` : `hsla(0, 0%, calc(((((1 - var(--mtc-l-${a})) * var(--ha-l) * var(--ha-l) / 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${b})`, d = n ? Qr : Kr, g = c ? 0 : hr.length + 1, x = n ? d + yt * (s + g) : d - yt * (s + g), f = `
      --ha-${a}-h: var(--ha-h);
      --ha-${a}-s: ${i};
      --ha-${a}-l: ${l};
      `, u = Sr.map((b) => {
    const p = b < 1 ? `-a${b * 10}` : "";
    return `
        --ha-${a}${p}: hsla(var(--ha-${a}-h), var(--ha-${a}-s), var(--ha-${a}-l), ${b});
        --ha-${a}${p}-contrast: ${h(b)};
        --ha-S${a}${p}: hsla(var(--ha-h), calc(var(--ha-${a}-s) * ${o}), ${x}%, ${b});
        --ha-S${a}${p}-contrast: hsla(var(--ha-h), calc(var(--ha-${a}-s) * ${o}), calc(((100% - ${x}%) + ${g} * 10%)), ${b});`;
  }).join("");
  return `
        ${f}
        ${u}
        `;
}).join(""), _p = (e, r, o) => e.map((n, a) => {
  const s = hr.length + 1 + Xr.length, c = o ? Qr : Kr, i = o ? c + yt * (s + a) : c - yt * (s + a), l = `
        --ha-${n}-h: calc(var(--ha-h) * var(--mtc-h-${n}));
        --ha-${n}-s: calc(var(--mtc-s-${n}) * 100%);
        --ha-${n}-l: calc(var(--mtc-l-${n}) * 100%);
      `, h = Sr.map((d) => {
    const g = d < 1 ? `-a${d * 10}` : "";
    return `
          --ha-${n}${g}: hsla(var(--ha-${n}-h), var(--ha-${n}-s), var(--ha-${n}-l), ${d});
          --ha-S${n}${g}: hsla(var(--ha-h), calc(var(--ha-${n}-s) * ${r}), ${i}%, ${d});
          --ha-S${n}${g}-contrast: hsla(var(--ha-${n}-s), calc(var(--ha-${n}-s) * ${r}), calc(((100% - ${i}%))), ${d});`;
  }).join("");
  return `
        ${l}
        ${h}
        `;
}).join(""), kp = (e, r, o) => {
  const n = io(hr, "Light", e, o), a = io(Xr, "Dark", e, o), s = _p(So, e, o), c = o ? Qr : Kr, i = o ? c + yt * 5 : c - yt * 5, l = Sr.map((h) => {
    const d = h < 1 ? `-a${h * 10}` : "";
    return `
      --ha-500${d}-contrast: hsla(0, 0%, calc(((var(--ha-l) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${h});
      --ha-S500${d}: hsla(var(--ha-h), calc(var(--ha-500-s) * ${e}), ${i}%, ${h});
      --ha-S500${d}-contrast: hsla(var(--ha-h), calc(var(--ha-500-s) * ${e}), calc(((100% - ${i}%))), ${h});
    `;
  }).join("");
  return `
    ${Ep(r)}
    ${n}
    --ha-500-h: var(--ha-h);
    --ha-500-s: calc(var(--ha-s) * 1%);
    --ha-500-l: calc(var(--ha-l) * 1%);
    --ha-500: var(--ha);
    ${l}
    ${a}
    ${s}
  `;
};
function Sp(e) {
  const {
    xlg: r,
    ...o
  } = e;
  return o;
}
const Cp = Vt(function({
  theme: r,
  darkMode: o,
  tint: n,
  hue: a,
  saturation: s,
  lightness: c,
  contrastThreshold: i,
  breakpoints: l,
  globalStyles: h,
  globalComponentStyles: d,
  emotionCache: g,
  infoColors: x = Lr,
  children: f
}) {
  const u = it((R) => R.theme), b = it((R) => R.setTheme), p = it((R) => R.setBreakpoints), _ = Q((R) => R.setGlobalComponentStyles), y = it((R) => R.breakpoints), N = Ft(), v = Q((R) => R.windowContext) ?? window;
  K(() => {
    d && _(d);
  }, [_, d]), K(() => {
    b({
      hue: a,
      lightness: c,
      tint: n,
      saturation: s,
      darkMode: o,
      contrastThreshold: i
    });
  }, [i, o, a, c, s, n, b]);
  const S = u.darkMode ? "dark" : "light";
  return K(() => {
    typeof l < "u" && ($a(l, Sp(y)) || p(l));
  }, [p, l, y]), K(() => {
    Object.entries(N).forEach(([R, A]) => {
      const D = `bp-${R}`, m = g?.container ?? null;
      let E = m ? m.ownerDocument?.body ?? null : v.document.body;
      E || (console.error("No valid <body> element found. Falling back to document.body. Ensure that emotionCache.container is a node within a document."), E = v.document.body), A ? E.classList.add(D) : E.classList.remove(D);
    });
  }, [N, v, g]), /* @__PURE__ */ w(xp, { options: g ?? {
    key: "hakit",
    container: v.document.head
  }, children: [
    /* @__PURE__ */ t(qr, { styles: /* @__PURE__ */ Se(":root{", ei(Ma(Za, r)), " --is-dark-theme:", u.darkMode ? "1" : "0", ";color-scheme:", S, ";--ha-easing:cubic-bezier(0.25, 0.46, 0.45, 0.94);--ha-transition-duration:0.25s;--ha-area-card-expanded-offset:0;--ha-background-opaque:", u.darkMode ? "hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.9)" : "hsla(var(--ha-h), calc(var(--ha-s) * 1%), 20%, 0.7)", ";}:root{--ha-h:", u.hue, ";--ha-s:", u.saturation, ";--ha-l:", u.lightness, ";--ha-contrast-threshold:", u.contrastThreshold, "%;--ha-so:calc(var(--ha-s) * 1%);--ha:hsla(var(--ha-h), calc(var(--ha-s) * 1%), calc(var(--ha-l) * 1%), 100%);--mtc-h-A100:1;--mtc-h-A200:1;--mtc-h-A400:1;--mtc-h-A700:1.01;--mtc-s-50:0.91;--mtc-s-100:0.98;--mtc-s-200:0.96;--mtc-s-300:0.95;--mtc-s-400:0.96;--mtc-s-600:1;--mtc-s-700:0.99;--mtc-s-800:0.89;--mtc-s-900:0.86;--mtc-s-A100:0.89;--mtc-s-A200:0.98;--mtc-s-A400:0.97;--mtc-s-A700:0.95;--mtc-l-50:0.12;--mtc-l-100:0.3;--mtc-l-200:0.5;--mtc-l-300:0.7;--mtc-l-400:0.86;--mtc-l-600:0.87;--mtc-l-700:0.66;--mtc-l-800:0.45;--mtc-l-900:0.16;--mtc-l-A100:0.76;--mtc-l-A200:0.64;--mtc-l-A400:0.49;--mtc-l-A700:0.44;--mtc-light-h:0;--mtc-light-s:0;--mtc-light-l:100;", kp(u.tint ?? En.tint, {
      ...Lr,
      ...x
    }, u.darkMode ?? En.darkMode), ";}*{box-sizing:border-box;scrollbar-width:thin;scrollbar-color:var(--ha-S500) var(--ha-S200);font-family:var(--ha-font-family);::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0.5);}&::-webkit-scrollbar{width:12px;height:12px;}&::-webkit-scrollbar-track{background:var(--ha-S200);}&::-webkit-scrollbar-thumb{background-color:var(--ha-S500);border-radius:20px;border:3px solid var(--ha-S200);}}html,body{height:100%;width:100%;margin:0;padding:0;}body{-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:transparent;-webkit-overflow-scrolling:touch;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth;background-color:var(--ha-S100);font-family:var(--ha-font-family);font-size:var(--ha-font-size);color:var(--ha-S100-contrast);overflow-x:hidden;overflow-y:var(--ha-hide-body-overflow-y, inherit);}", fa(y), " ", h ?? "", ";" + (process.env.NODE_ENV === "production" ? "" : ";label:InternalThemeProvider;")) }),
    f && f
  ] });
});
function ef(e) {
  return /* @__PURE__ */ t(le, { ...de({
    prefix: "ThemeProvider"
  }), children: /* @__PURE__ */ t(Cp, { ...e }) });
}
function un() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Fe = /* @__PURE__ */ C("span", process.env.NODE_ENV === "production" ? {
  target: "eix6b722"
} : {
  target: "eix6b722",
  label: "Title"
})(process.env.NODE_ENV === "production" ? {
  name: "1p8r5zz",
  styles: "font-size:0.9rem;color:var(--ha-S100-contrast)"
} : {
  name: "1p8r5zz",
  styles: "font-size:0.9rem;color:var(--ha-S100-contrast)",
  toString: un
}), Qe = /* @__PURE__ */ C(ee, process.env.NODE_ENV === "production" ? {
  target: "eix6b721"
} : {
  target: "eix6b721",
  label: "Pallette"
})(process.env.NODE_ENV === "production" ? {
  name: "1ygc31c",
  styles: "font-size:0.8rem;width:3.5rem;height:3.5rem"
} : {
  name: "1ygc31c",
  styles: "font-size:0.8rem;width:3.5rem;height:3.5rem",
  toString: un
}), Ct = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "eix6b720"
} : {
  target: "eix6b720",
  label: "RangeSliderBox"
})(process.env.NODE_ENV === "production" ? {
  name: "ve2mh7",
  styles: "padding:0.5rem;width:100%;background-color:var(--ha-S100);border-radius:0.5rem"
} : {
  name: "ve2mh7",
  styles: "padding:0.5rem;width:100%;background-color:var(--ha-S100);border-radius:0.5rem",
  toString: un
});
function Dp() {
  const e = it((v) => v.theme), r = it((v) => v.setTheme), {
    hue: o,
    saturation: n,
    lightness: a,
    tint: s,
    contrastThreshold: c,
    darkMode: i
  } = e, [l, h] = ne(o), [d, g] = ne(a), [x, f] = ne(s), [u, b] = ne(n), [p, _] = ne(i), [y, N] = ne(c), k = jt((v) => {
    r(v);
  }, 50, {
    trailing: !0,
    leading: !0
  });
  return K(() => {
    k({
      hue: l,
      saturation: u,
      lightness: d,
      tint: x,
      contrastThreshold: y,
      darkMode: p
    });
  }, [y, c, p, i, l, o, d, a, k, u, n, x, s]), /* @__PURE__ */ w(ie, { fullWidth: !0, gap: "1rem", wrap: "nowrap", style: {
    padding: "1rem 0"
  }, children: [
    /* @__PURE__ */ w(ee, { fullWidth: !0, gap: "1rem", wrap: "nowrap", children: [
      /* @__PURE__ */ t(Ct, { children: /* @__PURE__ */ t(ht, { label: "Shade Tint", description: "Will change the hue tint for the shade colors", min: 0, max: 1, step: 0.05, value: x, onChangeComplete: (v) => {
        f(v);
      } }) }),
      /* @__PURE__ */ t(Ct, { children: /* @__PURE__ */ t(ht, { label: "Contrast Threshold", description: "Changes output calculation for text color", min: 0, max: 100, step: 1, value: y, onChangeComplete: (v) => {
        N(v);
      } }) })
    ] }),
    /* @__PURE__ */ w(ee, { fullWidth: !0, gap: "1rem", wrap: "nowrap", children: [
      /* @__PURE__ */ t(Ct, { children: /* @__PURE__ */ t(ht, { label: "Saturation", description: "Control the saturation of the color", min: 0, max: 100, value: u, onChangeComplete: (v) => {
        b(v);
      } }) }),
      /* @__PURE__ */ t(Ct, { children: /* @__PURE__ */ t(ht, { label: "Lightness", description: "Control how bright the primary colors are", min: 0, max: 100, value: d, onChangeComplete: (v) => {
        g(v);
      } }) })
    ] }),
    /* @__PURE__ */ t(Ct, { children: /* @__PURE__ */ t(ht, { label: "Hue", description: "Change the overall hue of the colors", min: 0, max: 360, value: l, onChangeComplete: (v) => {
      h(v);
    } }) }),
    /* @__PURE__ */ w(ee, { justifyContent: "flex-start", fullWidth: !0, gap: "1rem", children: [
      /* @__PURE__ */ t(Fe, { children: "Dark / Light mode" }),
      /* @__PURE__ */ t(fe, { tooltipPlacement: "right", title: p ? "Change to light mode" : "Change to dark mode", icon: p ? "ph:moon" : "ph:sun", onClick: () => {
        _(!p);
      } })
    ] }),
    /* @__PURE__ */ t(ee, { justifyContent: "flex-start", fullWidth: !0, children: /* @__PURE__ */ t(rt, { children: "Hover over the pallette's below to see the respective css variables." }) }),
    /* @__PURE__ */ w(ee, { wrap: "nowrap", fullWidth: !0, justifyContent: "flex-start", children: [
      hr.map((v, S) => /* @__PURE__ */ w(ie, { gap: "1rem", children: [
        /* @__PURE__ */ t(Fe, { children: S === 0 ? "Primary" : /* @__PURE__ */ t(se, { children: "" }) }),
        /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
          /* @__PURE__ */ w("span", { children: [
            "background-color: var(--ha-",
            v,
            ");"
          ] }),
          /* @__PURE__ */ w("span", { children: [
            "color: var(--ha-",
            v,
            "-contrast);"
          ] })
        ] }), children: /* @__PURE__ */ t(Qe, { style: {
          color: `var(--ha-${v}-contrast)`,
          backgroundColor: `var(--ha-${v})`
        }, children: v }) }),
        /* @__PURE__ */ t(Fe, { children: S === 0 ? "Shade" : /* @__PURE__ */ t(se, { children: "" }) }),
        /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
          /* @__PURE__ */ w("span", { children: [
            "background-color: var(--ha-S",
            v,
            ");"
          ] }),
          /* @__PURE__ */ w("span", { children: [
            "color: var(--ha-S",
            v,
            "-contrast);"
          ] })
        ] }), children: /* @__PURE__ */ w(Qe, { style: {
          color: `var(--ha-S${v}-contrast)`,
          backgroundColor: `var(--ha-S${v})`
        }, children: [
          "S",
          v
        ] }) })
      ] }, v)),
      /* @__PURE__ */ w(ie, { gap: "1rem", children: [
        /* @__PURE__ */ t(Fe, { children: /* @__PURE__ */ t(se, { children: "" }) }),
        /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
          /* @__PURE__ */ t("span", { children: "background-color: var(--ha-500);" }),
          /* @__PURE__ */ t("span", { children: "color: var(--ha-500-contrast);" })
        ] }), children: /* @__PURE__ */ t(Qe, { style: {
          transform: "scale(1.1)",
          transformOrigin: "bottom",
          color: "var(--ha-500-contrast)",
          backgroundColor: "var(--ha-500)"
        }, children: "500" }) }),
        /* @__PURE__ */ t(Fe, { children: /* @__PURE__ */ t(se, { children: "" }) }),
        /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
          /* @__PURE__ */ t("span", { children: "background-color: var(--ha-S500);" }),
          /* @__PURE__ */ t("span", { children: "color: var(--ha-S500-contrast);" })
        ] }), children: /* @__PURE__ */ t(Qe, { style: {
          transform: "scale(1.1)",
          transformOrigin: "top",
          color: "var(--ha-S500-contrast)",
          backgroundColor: "var(--ha-S500)"
        }, children: "S500" }) })
      ] }),
      Xr.map((v) => /* @__PURE__ */ w(ie, { gap: "1rem", children: [
        /* @__PURE__ */ t(Fe, { children: /* @__PURE__ */ t(se, { children: "" }) }),
        /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
          /* @__PURE__ */ w("span", { children: [
            "background-color: var(--ha-",
            v,
            ");"
          ] }),
          /* @__PURE__ */ w("span", { children: [
            "color: var(--ha-",
            v,
            "-contrast);"
          ] })
        ] }), children: /* @__PURE__ */ t(Qe, { style: {
          color: `var(--ha-${v}-contrast)`,
          backgroundColor: `var(--ha-${v})`
        }, children: v }) }),
        /* @__PURE__ */ t(Fe, { children: /* @__PURE__ */ t(se, { children: "" }) }),
        /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
          /* @__PURE__ */ w("span", { children: [
            "background-color: var(--ha-S",
            v,
            ");"
          ] }),
          /* @__PURE__ */ w("span", { children: [
            "color: var(--ha-S",
            v,
            "-contrast);"
          ] })
        ] }), children: /* @__PURE__ */ w(Qe, { style: {
          color: `var(--ha-S${v}-contrast)`,
          backgroundColor: `var(--ha-S${v})`
        }, children: [
          "S",
          v
        ] }) })
      ] }, v))
    ] }),
    /* @__PURE__ */ t(ee, { fullWidth: !0, justifyContent: "flex-start", children: So.map((v, S) => /* @__PURE__ */ w(ie, { gap: "1rem", children: [
      /* @__PURE__ */ t(Fe, { children: S === 0 ? "Accent" : /* @__PURE__ */ t(se, { children: "" }) }),
      /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
        /* @__PURE__ */ w("span", { children: [
          "background-color: var(--ha-",
          v,
          ");"
        ] }),
        /* @__PURE__ */ w("span", { children: [
          "color: var(--ha-",
          v,
          "-contrast);"
        ] })
      ] }), children: /* @__PURE__ */ t(Qe, { style: {
        color: `var(--ha-${v}-contrast)`,
        backgroundColor: `var(--ha-${v})`
      }, children: v }) }),
      /* @__PURE__ */ t(Fe, { children: S === 0 ? "Shade" : /* @__PURE__ */ t(se, { children: "" }) }),
      /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
        /* @__PURE__ */ w("span", { children: [
          "background-color: var(--ha-S",
          v,
          ");"
        ] }),
        /* @__PURE__ */ w("span", { children: [
          "color: var(--ha-S",
          v,
          "-contrast);"
        ] })
      ] }), children: /* @__PURE__ */ w(Qe, { style: {
        color: `var(--ha-S${v}-contrast)`,
        backgroundColor: `var(--ha-S${v})`
      }, children: [
        "S",
        v
      ] }) })
    ] }, v)) }),
    ["info", "success", "error", "warning"].map((v, S) => /* @__PURE__ */ t(ee, { fullWidth: !0, justifyContent: "flex-start", children: [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1].map((R, A) => {
      const D = R === 1 ? "" : `-a${A + 1}`;
      return /* @__PURE__ */ w(ie, { gap: "1rem", children: [
        /* @__PURE__ */ t(Fe, { children: A === 0 ? Ot(v) : /* @__PURE__ */ t(se, { children: "" }) }),
        /* @__PURE__ */ t(ye, { placement: "top", title: /* @__PURE__ */ w(ie, { alignItems: "flex-start", children: [
          /* @__PURE__ */ w("span", { children: [
            "background-color: var(--ha-",
            v,
            "-color",
            D,
            ");"
          ] }),
          /* @__PURE__ */ w("span", { children: [
            "color: var(--ha-",
            v,
            "-color",
            D,
            "-contrast);"
          ] })
        ] }), children: /* @__PURE__ */ w(Qe, { style: {
          color: `var(--ha-${v}-color${D}-contrast)`,
          backgroundColor: `var(--ha-${v}-color${D})`
        }, children: [
          D,
          R === 1 ? R : ""
        ] }) })
      ] }, `${R}-${v}-${S}`);
    }) }, S))
  ] });
}
function Op() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
const Rp = /* @__PURE__ */ C("div", process.env.NODE_ENV === "production" ? {
  target: "e1f4ouvq0"
} : {
  target: "e1f4ouvq0",
  label: "ThemeControlsBox"
})(process.env.NODE_ENV === "production" ? {
  name: "a3s68x",
  styles: "position:fixed;top:1rem;right:1rem;z-index:1"
} : {
  name: "a3s68x",
  styles: "position:fixed;top:1rem;right:1rem;z-index:1",
  toString: Op
});
function tf() {
  const [e, r] = ne(!1);
  return /* @__PURE__ */ w(se, { children: [
    /* @__PURE__ */ t(Rp, { children: /* @__PURE__ */ t(fe, { onClick: () => r(!0), tooltipPlacement: "left", title: B("theme"), icon: "mdi:color" }) }),
    /* @__PURE__ */ t(rn, { description: "This interface showcases how the colors will behave and provides easy to access css variables", open: e, title: B("theme"), onClose: () => {
      r(!1);
    }, children: /* @__PURE__ */ t(Dp, {}) })
  ] });
}
export {
  Dt as $,
  $h as A,
  Io as B,
  Ce as C,
  Ke as D,
  Xh as E,
  pt as F,
  Vo as G,
  Jh as H,
  Hl as I,
  Wl as J,
  ql as K,
  Wh as L,
  Uh as M,
  od as N,
  rn as O,
  Ph as P,
  Uo as Q,
  Th as R,
  Fh as S,
  ye as T,
  Bo as U,
  Mh as V,
  ys as W,
  Zh as X,
  $r as Y,
  zd as Z,
  Rt as _,
  ht as a,
  cp as a0,
  hp as a1,
  bp as a2,
  ef as a3,
  tf as a4,
  He as a5,
  Xc as a6,
  Bn as a7,
  Ed as a8,
  Dp as a9,
  Wi as b,
  zh as c,
  _s as d,
  Vh as e,
  de as f,
  Bs as g,
  fe as h,
  jh as i,
  Bh as j,
  Lh as k,
  wc as l,
  Nc as m,
  Hh as n,
  qh as o,
  Yh as p,
  Gh as q,
  Qh as r,
  Nl as s,
  jn as t,
  Ft as u,
  Ho as v,
  Kh as w,
  nt as x,
  Ae as y,
  At as z
};
//# sourceMappingURL=ThemeControlsModal-gl0xLRqL.js.map
