"use strict";const t=require("./emotion-react-jsx-runtime.browser.esm-D6BfYa4f.cjs"),j=require("./emotion-styled-base.browser.esm-BenTvX6I.cjs"),s=require("react"),ce=require("./cjs/ThemeProvider/breakpoints.js"),i=require("@hakit/core"),fo=require("./cjs/Shared/Form/TextField.js"),de=require("@emotion/react"),hn=require("use-long-press"),ie=require("lodash"),ne=require("react-error-boundary"),mt=require("react-dom");require("@emotion/serialize");require("@emotion/utils");require("@emotion/is-prop-valid");const $e=require("./cjs/Shared/Entity/Alarm/AlarmControls/shared.js"),Fe=require("use-debounce"),mo=require("./cjs/Shared/SvgGraph/index.js"),K=require("./cjs/Shared/Row/index.js"),ee=require("./cjs/Shared/Column/index.js"),be=require("@iconify/react"),go=require("./cjs/Cards/WeatherCard/helpers.js"),fe=require("./cjs/Shared/Entity/Climate/ClimateControls/data.js"),we=require("./cjs/Shared/Entity/Climate/ClimateControls/shared.js"),fn=require("./cjs/Shared/Entity/Climate/ClimateControls/BigNumber.js"),gt=require("@use-gesture/react"),bo=require("@fullcalendar/react"),vo=require("@fullcalendar/daygrid"),xo=require("@fullcalendar/interaction"),yo=require("@fullcalendar/list"),dr=require("react-resize-detector"),wo=require("autolinker"),mn=require("./cjs/Cards/CameraCard/players/index.js"),Rr=require("./cjs/Shared/ControlSliderCircular/svg-arc.js"),ur=require("./cjs/Shared/PreloadImage/index.js"),Be=require("./cjs/Shared/Alert/index.js"),So=require("./cjs/ThemeProvider/theme.js"),Eo=require("./cjs/ThemeProvider/helpers.js"),pe=require("./cjs/ThemeProvider/constants.js"),We=require("./cjs/ThemeProvider/store.js"),No=require("@emotion/cache"),dt=require("react/jsx-runtime"),pr=require("react-use"),gn=require("./cjs/Shared/Entity/Vacuum/VacuumControls/shared.js"),bn=require("./cjs/Shared/Entity/Vacuum/VacuumControls/VacuumImage.js"),Je=require("./cjs/Cards/MediaPlayerCard/constants.js"),Co=require("./cjs/Cards/MediaPlayerCard/Marquee.js"),ko=require("./cjs/Cards/MediaPlayerCard/Thumbnail.js"),_o=require("./cjs/Cards/MediaPlayerCard/Clock.js"),jo=require("./cjs/Cards/MediaPlayerCard/ProgressBar.js"),Rt=require("leaflet"),hr=require("react-leaflet"),tr=require("./cjs/Cards/TimeCard/formatter.js"),Xe=require("./cjs/Cards/TimeCard/shared.js"),Do=require("./cjs/Shared/AutoHeight/index.js"),Ir=require("./cjs/utils/isValidProp.js"),Ar=require("./cjs/Shared/SvgGraph/constants.js");function vn(e){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,n.get?n:{enumerable:!0,get:()=>e[o]})}}return r.default=e,Object.freeze(r)}const Q=vn(s),Oo=vn(mt);function at(){const e=We.useThemeStore(d=>d.breakpoints),o=i.useHass(d=>d.windowContext)??window,n=s.useMemo(()=>ce.getBreakpoints(e),[e]),[a,l]=s.useState(()=>Object.fromEntries(ce.allBreakpoints.map(d=>[d,!1])));return s.useEffect(()=>{const d=o||window,c=new Map,u=()=>{const m=Object.fromEntries(ce.allBreakpoints.map(p=>[p,!1]));for(const p of ce.allBreakpoints)if(typeof n[p]=="string"&&c.get(p)?.matches){m[p]=!0;break}l(m)};for(const m of ce.allBreakpoints){const p=n[m];if(typeof p=="string"){const v=d.matchMedia(p);if(!v)continue;c.set(m,v),v.addEventListener("change",u)}}return u(),()=>{for(const m of c.values())m&&m.removeEventListener("change",u)}},[n,o]),a}var Ro=function(r){var o=new WeakMap;return function(n){if(o.has(n))return o.get(n);var a=r(n);return o.set(n,a),a}};function xn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Io=(e,r)=>r?j.createStyled(e,process.env.NODE_ENV==="production"?{target:"e1xe7ch93"}:{target:"e1xe7ch93",label:"getBaseElement"})():j.createStyled(e,process.env.NODE_ENV==="production"?{shouldForwardProp:o=>Ir.isValidProp(o),target:"e1xe7ch92"}:{shouldForwardProp:o=>Ir.isValidProp(o),target:"e1xe7ch92",label:"getBaseElement"})("outline:none;border:0;box-sizing:border-box;padding:0;position:relative;overflow:hidden;display:flex;width:100%;cursor:pointer;background-color:var(--ha-S300);box-shadow:0px 0px 0px rgba(0, 0, 0, 0);transform:scale(1) translate3d(0, 0, 0);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:transform,background-color,background-image;color:var(--ha-S200-contrast);flex-shrink:1;user-select:none;svg{color:var(--ha-S200-contrast);transition:color var(--ha-transition-duration) var(--ha-easing);}.graph-element{position:absolute;bottom:0;left:0;right:0;}&:not(.disabled):not(:disabled):not(:focus):hover{background-color:var(--ha-S400);color:var(--ha-500-contrast);svg{color:var(--ha-S400-contrast);}}&:disabled,&.disabled{cursor:not-allowed;opacity:0.8;}&.card-base-active:active:not(.disable-scale-effect):not(.disabled):not(.unavailable){transform:scale(0.9) translate3d(0, 0, 0);}",o=>!o.disableActiveState&&`
      &.active, &:active {
        background-color: var(--ha-A400);
        color: var(--ha-900-contrast);
        svg {
          color: var(--ha-900-contrast);
        }
        &:not(:disabled):not(.disabled):hover {
          background-color: var(--ha-A700);
          color: var(--ha-900-contrast);
        }
      }
    `,";"),Ao=j.createStyled(e=>t.jsx(Sn,{...e}),process.env.NODE_ENV==="production"?{target:"e1xe7ch91"}:{target:"e1xe7ch91",label:"StyledRipples"})(process.env.NODE_ENV==="production"?{name:"1513zut",styles:"flex-shrink:1;width:100%;height:100%"}:{name:"1513zut",styles:"flex-shrink:1;width:100%;height:100%",toString:xn}),Tr=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1xe7ch90"}:{target:"e1xe7ch90",label:"Trigger"})(process.env.NODE_ENV==="production"?{name:"1rw17cg",styles:"width:100%;height:100%;&:has(.features){display:flex;flex-direction:column;}>.features{padding:0 1rem 1rem;>.fit-content>.button-group-inner>*{width:auto;flex-grow:1;>.button-bar-button{width:auto;flex-grow:1;}}}"}:{name:"1rw17cg",styles:"width:100%;height:100%;&:has(.features){display:flex;flex-direction:column;}>.features{padding:0 1rem 1rem;>.fit-content>.button-group-inner>*{width:auto;flex-grow:1;>.button-bar-button{width:auto;flex-grow:1;}}}",toString:xn}),zr={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3},To=function({as:r="div",entity:o,title:n,active:a,service:l,serviceData:d,children:c,disabled:u,longPressCallback:m,onClick:p,disableModal:v=!1,modalProps:S,disableRipples:g=!1,disableScale:h=!1,disableActiveState:y=!1,onlyFunctionality:f=!1,id:C,className:w,cssStyles:E,style:k,borderRadius:x="16px",rippleProps:_,disableColumns:R,refCallback:A,key:D,relatedEntities:b,features:N,featureBarProps:T,graph:V,resizeDetectorProps:$,triggerClass:I,...z}){const M=s.useId(),O=i.useHass(q=>q.globalComponentStyles),[L,P]=s.useState(!1),J=o?i.computeDomain(o):null,H=i.useEntity(o??"unknown",{returnNullIfNotFound:!0}),U=s.useRef(null),{width:W=0}=dr.useResizeDetector({refreshMode:"debounce",refreshRate:50,handleHeight:!1,skipOnMount:!1,targetRef:U,...$??{}}),Y=i.useEntity(V?.entity??"unknown",{returnNullIfNotFound:!0,historyOptions:{disable:!1,...V?.historyOptions}}),Z=s.useMemo(()=>typeof H?.state=="string"?i.isUnavailableState(H.state):!1,[H?.state]),ge=x,F=s.useMemo(()=>Io(r,f),[r,f]),B=hn.useLongPress(q=>{typeof m=="function"&&m(H!==null?H:null,q),typeof o=="string"&&!L&&!v&&P(!0),U.current?.classList.remove("card-base-active")},{threshold:300,cancelOnMovement:!0,cancelOutsideElement:!0,filterEvents(q){return!("button"in q&&q.button===2)}}),G=s.useCallback(q=>{if(!u){if(typeof l=="string"&&H&&!Z){const ue=H.service[l];ue(d)}typeof p=="function"&&p(H!==null?H:null,q)}},[l,u,H,d,p,Z]),X=s.useMemo(()=>n||H?.attributes?.friendly_name||(J!==null?ie.startCase(ie.lowerCase(J)):null),[n,H,J]),te=s.useMemo(()=>{const q=Object.entries(zr).reduce((ue,[Ee,Pe])=>{const Ct=z[Ee];return{...ue,[Ee]:Ct??Pe}},zr);return Object.entries(q).map(([ue,Ee])=>`${ue}-${Ee}`).join(" ")},[z.xxs,z.xs,z.sm,z.md,z.lg,z.xlg]),oe=s.Children.toArray(b).filter(q=>s.isValidElement(q)),se=s.Children.toArray(N).filter(q=>s.isValidElement(q)),he=s.Children.map(se,(q,ue)=>s.isValidElement(q)?s.cloneElement(q,{key:q.key||`${M}${ue}`,...q.props}):q),le=se.length>0,ye=le&&t.jsx(Ve,{layoutType:"bubble",className:"features",fullWidth:!0,gap:"0.5rem",...T,children:he});function ve(q){const ue=Ar.SVG_WIDTH/Ar.SVG_HEIGHT;return`calc(${q/ue}px - ${V?.adjustGraphSpaceBy??"0px"});`}const _e=ve(W),ze=s.useMemo(()=>["card-base",w??"",R?"":te,h?"disable-scale-effect":"",a?"active":"",Z?"unavailable":"",u||Z?"disabled":"",le?"has-features":"",Y?"has-graph":""].filter(q=>!!q).join(" "),[a,w,te,h,R,u,Y,le,Z]),Et=()=>{U.current?.classList.add("card-base-active")},Nt=()=>{U.current?.classList.remove("card-base-active")};return t.jsxs(t.Fragment,{children:[t.jsxs(F,{ref:q=>{U.current=q,A&&A(U)},id:C??"",className:ze,css:de.css("padding-bottom:",Y?_e:"inherit",";",O.cardBase??""," ",E??"",";"+(process.env.NODE_ENV==="production"?"":";label:CardBase;")),style:{...k??{},borderRadius:ge},disableActiveState:y,disabled:Z||u,...B(),...z,children:[Y&&t.jsx("div",{className:"graph-element history",children:Y.history.loading?t.jsx(Be.Alert,{className:"loading",description:i.localize("loading")}):Y.history.coordinates.length>0?t.jsx(mo.SvgGraph,{coordinates:Y.history.coordinates,...V?.props}):t.jsx(Be.Alert,{className:"no-state-history",description:i.localize("no_state_history_found")})}),g?t.jsxs(Tr,{className:`contents trigger-element ${I}`,onClick:G,onPointerDown:Et,onPointerUp:Nt,children:[c,ye]}):de.createElement(Ao,{..._,key:_?.key,borderRadius:ge,disabled:u||Z},t.jsxs(Tr,{className:`contents trigger-element ${I}`,onClick:G,onPointerDown:Et,onPointerUp:Nt,children:[c,ye]})),s.Children.map(oe,(q,ue)=>s.isValidElement(q)?s.cloneElement(q,{key:q.key||`${M}${ue}`,...q.props}):q)]},D),typeof o=="string"&&t.jsx(Sr,{...S,entity:o,title:S?.title??X??i.localize("unknown"),onClose:()=>{P(!1),S?.onClose&&S.onClose()},open:S?.open||L,id:M})]})},xe=s.memo(function(r){return t.jsx(ne.ErrorBoundary,{...re({prefix:"CardBase"}),children:To(r)})}),zo=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1q4f2q20"}:{target:"e1q4f2q20",label:"RelatedEntityEl"})("position:absolute;margin:",e=>e.margin||"1rem",";padding:",e=>e.padding||"0",";cursor:",e=>e.onClick?"pointer":"default",";",e=>{switch(e.position){case"left top":return"top: 0; left: 0;";case"left center":return"top: 50%; left: 0; transform: translateY(-50%);";case"left bottom":return"bottom: 0; left: 0;";case"center top":return"top: 0; left: 50%; transform: translateX(-50%);";case"center center":return"top: 50%; left: 50%; transform: translate(-50%, -50%);";case"center bottom":return"bottom: 0; left: 50%; transform: translateX(-50%);";case"right top":return"top: 0; right: 0;";case"right center":return"top: 50%; right: 0; transform: translateY(-50%);";case"right bottom":return"bottom: 0; right: 0;";default:return"top: 0; right: 0;"}},";");function Mo({entity:e,icon:r,iconProps:o,render:n,position:a,onClick:l,disabled:d,service:c,serviceData:u,...m}){const p=i.useEntity(e),v=i.useIcon(r??null,o),S=i.computeDomain(e),g=i.useIconByDomain(S===null?"unknown":S,o),h=i.useIconByEntity(e||"unknown",o),y=v??h??g,f=s.useMemo(()=>typeof p?.state=="string"?i.isUnavailableState(p.state):!1,[p?.state]),C=s.useCallback(w=>{if(!d){if(typeof c=="string"&&p&&!f){const E=p.service[c];E(u)}typeof l=="function"&&l(p!==null?p:null,w)}},[c,d,p,u,l,f]);return t.jsx(zo,{position:a,onClick:C,...m,children:n?n(p,y):t.jsx(t.Fragment,{children:y})})}const Vo=s.memo(function(r){return t.jsx(ne.ErrorBoundary,{...re({prefix:"RelatedEntity"}),children:t.jsx(Mo,{...r})})});function Po({children:e,active:r,...o}){return t.jsx(Ne,{as:"div",rippleProps:{preventPropagation:!0},active:r,cssStyles:`
        &.button-bar-button {
          .contents {
            > div {
              padding: 0.6rem;
            }
          }
        }
      `,...o,children:e})}const He=function(r){return t.jsx(ne.ErrorBoundary,{...re({prefix:"FeatureEntity"}),children:t.jsx(Po,{...r})})},$o=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"e9g8avo0"}:{target:"e9g8avo0",label:"TooltipSpan"})("position:fixed;top:0;left:0;background-color:var(--ha-S300);color:var(--ha-S100-contrast);padding:8px;border-radius:4px;box-shadow:0px 2px 4px var(--ha-S100);font-size:0.9rem;z-index:1000;visibility:hidden;opacity:0;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:opacity,visibility;pointer-events:none;transform:",e=>{switch(e.placement){default:case"top":return"translateY(calc(-100% - 10px)) translateX(-50%)";case"right":return"translateX(10px) translateY(-50%)";case"bottom":return"translateY(10px) translateX(-50%)";case"left":return"translateX(calc(-100% - 10px)) translateY(-50%)"}},';&::before{content:"";position:absolute;width:0;height:0;border-style:solid;display:block;',e=>{switch(e.placement){default:case"top":return`
            border-width: 6px 6px 0 6px;
            border-color: var(--ha-S300) transparent transparent transparent;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
          `;case"right":return`
            border-width: 6px 6px 6px 0;
            border-color: transparent var(--ha-S300) transparent transparent;
            left: 0;
            top: 50%;
            transform: translate(-100%, -50%);
          `;case"bottom":return`
            border-width: 0 6px 6px 6px;
            border-color: transparent transparent var(--ha-S300) transparent;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
          `;case"left":return`
            border-width: 6px 0 6px 6px;
            border-color: transparent transparent transparent var(--ha-S300);
            right: 0;
            top: 50%;
            transform: translate(100%, -50%);
          `}},";}");function Fo({placement:e="top",title:r=null,children:o,ref:n,...a}){const l=s.useRef(null),d=s.useRef(null),c=i.useHass(y=>y.portalRoot),m=i.useHass(y=>y.windowContext)??window,[p,v]=s.useState(!1),S=s.useCallback(y=>{const f=d.current?.getBoundingClientRect();if(typeof f>"u")return;let C=0,w=0;switch(e){case"top":C=f.top,w=f.left+f.width/2;break;case"right":C=f.top+f.height/2,w=f.right;break;case"bottom":C=f.bottom,w=f.left+f.width/2;break;case"left":C=f.top+f.height/2,w=f.left;break}y.style.top=`${C}px`,y.style.left=`${w}px`,setTimeout(()=>{y.style.opacity="1",y.style.visibility="visible"},0)},[e]),g=s.useCallback(()=>{v(!0)},[]),h=s.useCallback(()=>{const y=l.current;y&&(y.style.opacity="0",y.style.visibility="hidden",y.setAttribute("aria-hidden","true"),setTimeout(()=>{v(!1)},250))},[]);return r===null||r===""?o:t.jsxs("div",{ref:d,onBlur:h,onTouchEnd:h,onTouchStart:g,onMouseUp:h,onMouseEnter:g,onMouseLeave:h,...a,children:[s.Children.map(o,(y,f)=>s.isValidElement(y)?s.cloneElement(y,{...y.props,onClick(C,w){y.props.onClick?.(C,w),a?.onClick?.(w)},ref:n,key:y.key??f}):y),typeof document<"u"&&mt.createPortal(p&&t.jsx($o,{className:"tooltip-inner",placement:e,ref:y=>{y&&(l.current=y,S(y))},"aria-hidden":"false",children:r}),c??m.document.body)]})}function me(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"Tooltip"}),children:t.jsx(Fo,{...e})})}const re=({prefix:e})=>({fallbackRender({error:r,resetErrorBoundary:o}){return t.jsx(Be.Alert,{className:"error-boundary-alert",title:`${e?`${e} - `:""}${i.localize("unknown_error")}`,description:r.message,type:"error",onClick:()=>o()})}});function it(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Bo=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e1cw8oq38"}:{target:"e1cw8oq38",label:"StyledButtonCard"})(process.env.NODE_ENV==="production"?{name:"1uus07k",styles:"&.slim{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;>.contents{width:100%;}}}.button-card-trigger>.features{width:100%;}.button-card-trigger>.features>.fit-content{flex-basis:100%;}.children{width:100%;}&.slim-vertical{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;}}.footer>.title{text-align:left;}&:not(.disabled),&:not(:disabled){&:not(:focus):hover{.fab-card-inner:not(.custom){background-color:var(--ha-S500);color:var(--ha-S500-contrast);}}}"}:{name:"1uus07k",styles:"&.slim{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;>.contents{width:100%;}}}.button-card-trigger>.features{width:100%;}.button-card-trigger>.features>.fit-content{flex-basis:100%;}.children{width:100%;}&.slim-vertical{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;}}.footer>.title{text-align:left;}&:not(.disabled),&:not(:disabled){&:not(:focus):hover{.fab-card-inner:not(.custom){background-color:var(--ha-S500);color:var(--ha-S500-contrast);}}}",toString:it}),Lo=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1cw8oq37"}:{target:"e1cw8oq37",label:"Contents"})(process.env.NODE_ENV==="production"?{name:"104hu76",styles:"padding:1rem;display:flex;flex-direction:column;align-items:center;justify-content:stretch;height:100%"}:{name:"104hu76",styles:"padding:1rem;display:flex;flex-direction:column;align-items:center;justify-content:stretch;height:100%",toString:it}),Ho=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1cw8oq36"}:{target:"e1cw8oq36",label:"ToggleState"})("background-color:var(--ha-100);border-radius:100%;width:16px;height:16px;position:absolute;top:2px;left:0;box-shadow:0px 0px 4px rgba(0, 0, 0, 0.5);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left,transform;left:",e=>e.active?"100%":"0px",";transform:",e=>e.active?"translate3d(calc(-100% - 2px), 0, 0)":"translate3d(calc(0% + 2px), 0, 0)",";"),qo=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1cw8oq35"}:{target:"e1cw8oq35",label:"Toggle"})("position:relative;background-color:",e=>e.active?"var(--ha-A400)":"var(--ha-S100)",";border-radius:10px;width:40px;height:20px;flex-grow:0;flex-shrink:0;transition:background-color var(--ha-transition-duration) var(--ha-easing);margin-left:20px;"),Wo=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1cw8oq34"}:{target:"e1cw8oq34",label:"Fab"})("border-radius:100%;padding:6px;width:2rem;height:2rem;display:flex;flex-shrink:0;align-items:center;justify-content:center;box-shadow:0px 1px 4px rgba(0, 0, 0, 0.2);",e=>e.brightness&&`
    filter: ${e.brightness};
  `," transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background-color,color,filter;svg{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color;}"),Uo=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1cw8oq33"}:{target:"e1cw8oq33",label:"LayoutBetween"})(process.env.NODE_ENV==="production"?{name:"1fkysi1",styles:"display:flex;align-items:center;justify-content:space-between;flex-direction:row;gap:10px;width:100%;&.vertical{flex-direction:column;height:100%;}"}:{name:"1fkysi1",styles:"display:flex;align-items:center;justify-content:space-between;flex-direction:row;gap:10px;width:100%;&.vertical{flex-direction:column;height:100%;}",toString:it}),Go=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1cw8oq32"}:{target:"e1cw8oq32",label:"Footer"})(process.env.NODE_ENV==="production"?{name:"1cgwlg6",styles:"display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;margin-top:20px;width:100%"}:{name:"1cgwlg6",styles:"display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;margin-top:20px;width:100%",toString:it}),Mr=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1cw8oq31"}:{target:"e1cw8oq31",label:"Title"})(process.env.NODE_ENV==="production"?{name:"ph2n02",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold;margin-bottom:0.25rem"}:{name:"ph2n02",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold;margin-bottom:0.25rem",toString:it}),kt=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1cw8oq30"}:{target:"e1cw8oq30",label:"Description"})(process.env.NODE_ENV==="production"?{name:"2pojne",styles:"color:var(--ha-S300-contrast);font-size:0.7rem;margin:2px 0;text-align:left;width:100%;&.center{text-align:center;}&.secondary{color:var(--ha-S500-contrast);}&.slim-vertical{text-align:center;}"}:{name:"2pojne",styles:"color:var(--ha-S300-contrast);font-size:0.7rem;margin:2px 0;text-align:left;width:100%;&.center{text-align:center;}&.secondary{color:var(--ha-S500-contrast);}&.slim-vertical{text-align:center;}",toString:it});function Yo({entity:e,service:r,serviceData:o,iconProps:n,icon:a,fabProps:l,active:d,onClick:c,description:u,title:m,layoutType:p,disabled:v=!1,className:S,hideIcon:g=!1,hideState:h=!1,hideLastUpdated:y=!1,children:f,hideDetails:C=!1,cssStyles:w,key:E,hideToggle:k=!1,customRenderState:x,..._}){const R=i.useHass(Y=>Y.globalComponentStyles),A=i.useHass(Y=>Y.formatter),D=e?i.computeDomain(e):null,b=i.useEntity(e||"unknown",{returnNullIfNotFound:!0}),N=typeof a<"u"&&typeof a!="string"?a:null,T=i.useIconByDomain(D===null?"unknown":D,{...n??{}}),V=i.useIconByEntity(e||"unknown",{...n??{}}),$=p==="default"||p===void 0,I=p==="slim"||p==="slim-vertical",z=typeof b?.state=="string"?i.isUnavailableState(b.state):!1,M=b?b.state!=="off"&&!z&&!v:d||!1,O=i.useIcon(typeof a=="string"?a:null,{...n??{}}),L=s.useMemo(()=>m===null?null:m||b?.attributes.friendly_name||b?.entity_id||null,[m,b]);function P(){return h?null:x&&b?x(b):typeof d=="boolean"?d?`${i.localize(i.ON)}`:`${i.localize(i.OFF)}`:b&&b.state===i.ON&&D==="light"?A.attributeValue(b,"brightness"):b?A.stateValue(b):null}const J=s.Children.toArray(_?.features).filter(Y=>s.isValidElement(Y)).length>0,H=P(),U=_.descriptionSeparator??"-";function W(Y,Z){return!Y&&!Z?null:Y&&Z?t.jsxs(t.Fragment,{children:[Y," ",t.jsx("span",{className:"description-separator",children:U})," ",Z]}):Y||Z}return t.jsx(Bo,{as:"button",service:r,serviceData:o,active:d,entity:e,title:L??void 0,disabled:v||z,onClick:c,className:`${S??""} ${p??"default"} button-card`,triggerClass:"button-card-trigger",cssStyles:`
        ${R.buttonCard??""}
        ${w??""}
      `,..._,children:t.jsxs(Lo,{className:`contents ${J?"has-features":""}`,children:[t.jsxs(Uo,{className:`layout-between ${p==="slim-vertical"?"vertical":""}`,children:[!g&&t.jsx(Wo,{brightness:M&&b?.custom.brightness||"brightness(100%)",...l,className:`fab-card-inner icon ${l?.className} ${l?.style?"custom":""}`,style:{...l?.style,backgroundColor:l?.style?.backgroundColor??(M?D==="light"?b?.custom?.rgbaColor??"var(--ha-A400)":"var(--ha-A400)":"var(--ha-S400)"),color:l?.style?.color??(b?M?b.custom.rgbColor:"var(--ha-S500-contrast)":M?"var(--ha-A400)":"var(--ha-S500-contrast)")},children:N??O??V??T}),$&&!k&&t.jsx(qo,{active:M,className:"toggle",children:!z&&t.jsx(Ho,{active:M,className:"toggle-state"})}),I&&t.jsxs(ee.Column,{fullWidth:!0,alignItems:p==="slim-vertical"?"center":"flex-start",children:[L&&t.jsx(Mr,{className:"title",children:L}),!C&&t.jsx(kt,{className:`description ${p??""}`,children:W(u,H)}),b&&!y&&t.jsxs(kt,{className:`description secondary ${p==="slim-vertical"?"center":""}`,children:[i.localize("last_updated"),": ",b.custom.relativeTime]})]})]}),$&&t.jsxs(Go,{className:"footer",children:[L&&t.jsx(Mr,{className:"title",children:L}),!C&&t.jsx(kt,{className:"description",children:W(u,H)}),!C&&b&&!y&&t.jsxs(kt,{className:"description secondary",children:[i.localize("last_updated"),": ",b.custom.relativeTime]})]}),f&&t.jsx("div",{className:"children",children:f})]})},E)}function fr(e){const r={xxs:12,xs:6,sm:4,md:3,lg:2,xlg:2};return t.jsx(ne.ErrorBoundary,{...re({prefix:"ButtonCard"}),children:t.jsx(Yo,{...r,...e})})}function yn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Xo=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eu3ltb74"}:{target:"eu3ltb74",label:"RangeSliderParent"})(),Qo=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eu3ltb73"}:{target:"eu3ltb73",label:"StyledRange"})(e=>`
    min-width: 6rem;
    width: 100%;
    position: relative;
    isolation: isolate;

    ${ce.mq(["xxs","xs","sm"],`
      min-width: 0;
    `)}

    z-index: 1;

    .range-slider-range {
      position: relative;
      -webkit-appearance: none;
      width: 100%;
      height: 0.7rem;
      border-radius: 5px;
      background: var(--ha-S400);
      outline: none;
      padding: 0;
      margin: 0;
      z-index: 1;

      &::-webkit-slider-thumb {
        appearance: none;
        width: ${e.handleSize}px;
        height: ${e.handleSize}px;
        border-radius: 50%;
        background: var(--ha-A400);
        cursor: pointer;
        transition: background var(--ha-transition-duration) var(--ha-easing);
        position: relative;
        z-index: 1;

        &:hover {
          background: var(--ha-A200);
        }
      }

      &:active::-webkit-slider-thumb {
        background: var(--ha-A400);
      }

      &::-moz-range-thumb {
        width: ${e.handleSize}px;
        height: ${e.handleSize}px;
        border: 0;
        border-radius: 50%;
        background: var(--ha-A400);
        cursor: pointer;
        transition: background var(--ha-transition-duration) var(--ha-easing);
        z-index: 1;

        &:hover {
          background: var(--ha-A200);
        }
      }

      &:active::-moz-range-thumb {
        background: var(--ha-A400);
      }
      
      &:focus {
        &::-webkit-slider-thumb {
          box-shadow: 0 0 0 3px var(--ha-A100);
        }
      }
    }

    // Firefox Overrides
    ::-moz-range-track {
        background: var(--ha-S400);
        border: 0;
    }

    input::-moz-focus-inner,
    input::-moz-focus-outer { 
      border: 0; 
    }

    
    &:hover, &.active {
      .tooltip-holder {
        > div {
          transform: translate(-50%, -1rem) rotate(-45deg) scale(1);
          opacity: 1;
        }
      }
    }
  `,";"),Ko=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eu3ltb72"}:{target:"eu3ltb72",label:"Tooltip"})("opacity:0;position:absolute;bottom:100%;width:",({size:e})=>`${e}rem`,";height:",({size:e})=>`${e}rem`,";border-radius:50% 50% 50% 0;left:0;transform:translate(-50%, 1rem) rotate(-45deg) scale(0);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:transform,opacity;background-color:var(--ha-A400);white-space:nowrap;pointer-events:none;z-index:0;&:after{content:attr(data-title);font-size:0.7rem;display:flex;align-items:center;justify-content:center;color:white;transform:rotate(45deg);position:absolute;inset:0;border-radius:50%;}"),Jo=j.createStyled("label",process.env.NODE_ENV==="production"?{target:"eu3ltb71"}:{target:"eu3ltb71",label:"Label"})(process.env.NODE_ENV==="production"?{name:"1cboe98",styles:"display:block;margin-bottom:0.5rem;font-size:0.9rem;color:var(--ha-S50-contrast)"}:{name:"1cboe98",styles:"display:block;margin-bottom:0.5rem;font-size:0.9rem;color:var(--ha-S50-contrast)",toString:yn}),Zo=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"eu3ltb70"}:{target:"eu3ltb70",label:"Description"})(process.env.NODE_ENV==="production"?{name:"imenuv",styles:"display:block;font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S500-contrast)"}:{name:"imenuv",styles:"display:block;font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S500-contrast)",toString:yn});function es({value:e,onChange:r,formatTooltipValue:o,hideTooltip:n,label:a,description:l,className:d,style:c,tooltipSize:u=2,handleSize:m=15,min:p=0,max:v=100,step:S=1,debounceThrottleValue:g=300,debounceType:h="debounce",onChangeComplete:y,cssStyles:f,...C}){const[w,E]=s.useState(e??0),[k,x]=s.useState(!1),_=s.useRef(null),R=s.useRef(null),A=s.useRef(null);s.useEffect(()=>{typeof e=="number"&&E(e)},[e]),s.useEffect(()=>{if(!_.current||n)return;const N=parseFloat(`${p??0}`),T=parseFloat(`${v??100}`),V=parseFloat(`${S??1}`),$=parseFloat(_.current.valueAsNumber.toFixed(V<1?Math.abs(Math.log10(V)):0)),I=(_.current.valueAsNumber-N)/(T-N)*100;if(A.current){A.current.style.left=`${I}%`;const z=typeof o=="function"?o($):$;A.current.setAttribute("data-title",`${z}`)}},[w,p,v,S,o,n]);const b=(h==="debounce"?Fe.useDebouncedCallback:Fe.useThrottledCallback)(N=>{typeof y=="function"&&y(N.target.valueAsNumber,N),x(!1)},g,{leading:!0,trailing:!0});return t.jsxs(Xo,{className:`${d??""} ${k?"active":""} range-slider`,style:{position:"relative",...c??{}},css:de.css(f??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalRangeSlider;")),children:[a&&t.jsx(Jo,{className:"label",children:a}),l&&t.jsx(Zo,{className:"description",children:l}),t.jsxs(Qo,{ref:R,handleSize:m,className:`range-slider-inner ${k?"active":""}`,children:[t.jsx("input",{...C,min:p,max:v,step:S,ref:_,type:"range",className:"range-slider-range",value:w,onInput:N=>{E(N.target.valueAsNumber),k||x(!0)},onChange:N=>{typeof r=="function"&&r(N.target.valueAsNumber,N),b(N)}}),!n&&t.jsx("div",{className:"tooltip-holder",style:{position:"absolute",top:0,left:m/2,right:m/2},children:t.jsx(Ko,{size:u,ref:A})})]})]})}function qe(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"RangeSlider"}),children:t.jsx(es,{...e})})}function ts(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const rs={position:"relative",display:"inline-flex",overflow:"hidden"},ns=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ekpqrw61"}:{target:"ekpqrw61",label:"StyledRipple"})(process.env.NODE_ENV==="production"?{name:"zomlrg",styles:"position:absolute;border-radius:50%;opacity:0;width:35px;height:35px;transform:translate(-50%, -50%);pointer-events:none;flex-shrink:0"}:{name:"zomlrg",styles:"position:absolute;border-radius:50%;opacity:0;width:35px;height:35px;transform:translate(-50%, -50%);pointer-events:none;flex-shrink:0",toString:ts}),os=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ekpqrw60"}:{target:"ekpqrw60",label:"ParentRipple"})(e=>e.borderRadius&&`
    border-radius: ${e.borderRadius};
    overflow: hidden;
    display: inline-flex;
  `,";"),wn=s.memo(({duration:e=600,color:r="rgba(0, 0, 0, .3)",borderRadius:o="none",onClick:n,children:a,disabled:l,preventPropagation:d=!1,style:c,className:u,cssStyles:m,id:p,...v})=>{const S=s.useRef(null),g=s.useRef(null),y=i.useHass(C=>C.windowContext)??window;s.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const f=s.useCallback(C=>{if(C.stopPropagation(),l)return;g.current!==null&&clearTimeout(g.current);const{pageX:w,pageY:E,currentTarget:k}=C,x=k.getBoundingClientRect();let _=1;typeof y<"u"&&(_=y.scrollX);let R=1;typeof y<"u"&&(R=y.scrollY);const A=w-(x.left+_),D=E-(x.top+R),b=Math.max(x.width,x.height);if(S.current){const N={left:isNaN(A)?"0px":`${A}px`,top:isNaN(D)?"0px":`${D}px`,opacity:1,transform:"translate(-50%, -50%)",transition:"initial",backgroundColor:r};Object.assign(S.current.style,N)}g.current=setTimeout(()=>{if(S.current){const N={opacity:0,transform:`scale(${b/9})`,transition:`all ${e}ms`};Object.assign(S.current.style,N)}g.current=null},50),typeof n=="function"&&n(C)},[r,e,l,n,y]);return t.jsx(os,{borderRadius:o,id:p??"",className:`ripple-parent ${u??""}`,css:de.css(m??"",";"),style:{...c??{}},children:t.jsxs("div",{className:"ripple-inner",onPointerDownCapture:C=>{d&&C.stopPropagation()},...v,style:{width:"100%",...rs,borderRadius:o},onClick:f,children:[a,t.jsx(ns,{ref:S})]})})});wn.displayName="_Ripples";function Sn(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"Ripples"}),children:t.jsx(wn,{...e})})}function Pt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ss=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e17tod368"}:{target:"e17tod368",label:"StyledTriggerCard"})(),as=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"e17tod367"}:{target:"e17tod367",label:"ToggleMessage"})("font-size:0.6rem;display:flex;align-items:center;justify-content:flex-end;height:100%;padding:0 0.4rem 0 0.8rem;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:justify-content,color;justify-content:",e=>e.active?"flex-start":"flex-end",";color:",e=>e.active?"var(--ha-300-contrast)":"var(--ha-300)",";",e=>e.hideArrow&&"padding-right: 0.8rem;",";"),is=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e17tod366"}:{target:"e17tod366",label:"ToggleState"})("background-color:var(--ha-S200);border-radius:100%;width:1.9rem;height:1.9rem;position:absolute;top:5px;left:0px;display:flex;align-items:center;justify-content:center;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left,transform;left:",e=>e.active?"100%":"0px",";transform:",e=>e.active?"translate3d(calc(-100% - 5px), 0, 0)":"translate3d(calc(0% + 5px), 0, 0)",";svg{color:",e=>e.active?"var(--ha-A400)":"var(--ha-200)",";font-size:40px;}"),cs=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e17tod365"}:{target:"e17tod365",label:"Gap"})(process.env.NODE_ENV==="production"?{name:"rhxkjj",styles:"height:20px"}:{name:"rhxkjj",styles:"height:20px",toString:Pt}),ls=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e17tod364"}:{target:"e17tod364",label:"Toggle"})("position:relative;background-color:",e=>e.active?"var(--ha-300)":"var(--ha-S200)",";border-radius:3rem;width:10rem;height:2.5rem;flex-grow:0;flex-shrink:0;transition:background-color var(--ha-transition-duration) var(--ha-easing);margin-left:1.5rem;overflow:hidden;"),ds=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e17tod363"}:{target:"e17tod363",label:"Contents"})(process.env.NODE_ENV==="production"?{name:"dpr5ta",styles:"padding:1rem;height:100%;display:flex;flex-direction:column;justify-content:center"}:{name:"dpr5ta",styles:"padding:1rem;height:100%;display:flex;flex-direction:column;justify-content:center",toString:Pt}),Vr=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e17tod362"}:{target:"e17tod362",label:"LayoutBetween"})(process.env.NODE_ENV==="production"?{name:"fycgd8",styles:"display:flex;align-items:center;justify-content:space-between;flex-direction:row"}:{name:"fycgd8",styles:"display:flex;align-items:center;justify-content:space-between;flex-direction:row",toString:Pt}),us=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e17tod361"}:{target:"e17tod361",label:"Description"})(process.env.NODE_ENV==="production"?{name:"bme980",styles:"color:var(--ha-S500-contrast);font-size:0.7rem;text-align:left"}:{name:"bme980",styles:"color:var(--ha-S500-contrast);font-size:0.7rem;text-align:left",toString:Pt}),ps=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e17tod360"}:{target:"e17tod360",label:"Title"})("color:var(--ha-S300-contrast);font-size:0.9rem;font-weight:bold;",e=>e.disabled&&"color: var(--ha-S50-contrast);"," text-align:left;span{display:block;width:100%;color:var(--ha-S50-contrast);margin-top:0.3rem;line-height:1rem;font-size:0.7rem;}");function hs({entity:e,title:r,description:o,onClick:n,disabled:a,icon:l,iconProps:d,sliderIconProps:c,sliderIcon:u,sliderTextActive:m,sliderTextInactive:p,activeStateDuration:v=5e3,hideArrow:S=!1,className:g,service:h,serviceData:y,key:f,cssStyles:C,...w}){const E=i.useHass(O=>O.globalComponentStyles),k=i.computeDomain(e),x=i.useEntity(e),_=i.useIconByEntity(e,d),R=i.useIconByDomain(k,d),A=s.useRef(null),[D,b]=s.useState(!1),N=i.useIcon(l??null,d),T=i.useIcon(u??null,c),V=i.useIcon("mdi:power",d),$=i.useIcon("mingcute:arrows-right-line",{...d,style:{fontSize:"16px",...d?.style}}),I=i.isUnavailableState(x.state),z=a||I,M=s.useCallback(O=>{b(!0),typeof n=="function"&&!I&&n(x,O),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{b(!1)},v)},[x,n,v,I]);return t.jsx(ss,{as:"button",className:`${g??""} trigger-card`,disabled:z,entity:e,service:h,serviceData:y,onClick:M,cssStyles:`
        ${E?.triggerCard??""}
        ${C??""}
      `,...w,children:t.jsxs(ds,{children:[t.jsxs(Vr,{className:"layout-between",children:[t.jsxs(ps,{disabled:z,className:"description",children:[r||x.attributes.friendly_name||e,o&&t.jsx("span",{children:o})]}),N??_??R]}),t.jsx(cs,{className:"gap"}),t.jsxs(Vr,{className:"layout-between",children:[t.jsxs(us,{className:"title",children:[x.custom.relativeTime,z?` - ${x.state}`:""]}),t.jsx(ls,{active:z?!1:D,className:"toggle",children:z?null:t.jsxs(t.Fragment,{children:[t.jsx(is,{active:D,className:"toggle-state",children:T??V}),t.jsxs(as,{hideArrow:S,active:D,className:"toggle-message",children:[D?m??i.localize("triggered_name",{search:" {name}",replace:""}):p??`${i.localize("run")} ${i.computeDomainTitle(e,x?.attributes?.device_class)}`," ",!D&&!S&&$]})]})})]})]})},f)}function fs(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"TriggerCard"}),children:t.jsx(hs,{...r,...e})})}function En(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ms=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e16eobz13"}:{target:"e16eobz13",label:"StyledGroup"})("background-color:var(--ha-S200);color:var(--ha-S200-contrast);padding:",({collapsed:e})=>e?"0 2rem":"0 2rem 2rem",";transition:var(--ha-transition-duration) var(--ha-easing);transition-property:height,padding,background-color;&.expanded{height:calc-size(auto);}width:100%;>div.contents>.header-title{cursor:pointer;padding:",({collapsed:e})=>e?"1.5rem 0":"2rem 0",";>h3{color:var(--ha-S100-contrast);margin:0;display:flex;align-items:center;transition:padding var(--ha-transition-duration) var(--ha-easing);",({collapsible:e,collapsed:r})=>e&&`&:before {
        content: "${r?"+":"-"}";
        display: inline-block;
        color: var(--ha-A400);
        width: 1rem;
      }`,";}}",({collapsed:e})=>`
    ${ce.mq(["xxs","xs"],`
      padding: ${e?"1rem 0rem":"1.5rem 1rem 1rem"};
    `)}
  `,";"),gs=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"e16eobz12"}:{target:"e16eobz12",label:"Description"})(process.env.NODE_ENV==="production"?{name:"qzd1ts",styles:"color:var(--ha-S300-contrast);font-size:0.9rem;margin:0.5rem 0 0;width:100%;display:block;padding-left:1rem"}:{name:"qzd1ts",styles:"color:var(--ha-S300-contrast);font-size:0.9rem;margin:0.5rem 0 0;width:100%;display:block;padding-left:1rem",toString:En}),bs=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e16eobz11"}:{target:"e16eobz11",label:"Header"})(process.env.NODE_ENV==="production"?{name:"dslko4",styles:"transition:padding var(--ha-transition-duration) var(--ha-easing)"}:{name:"dslko4",styles:"transition:padding var(--ha-transition-duration) var(--ha-easing)",toString:En}),vs=j.createStyled("h3",process.env.NODE_ENV==="production"?{target:"e16eobz10"}:{target:"e16eobz10",label:"Title"})();function xs({title:e,description:r,children:o,gap:n="0.5rem",justifyContent:a="center",alignItems:l="center",layout:d="row",collapsed:c=!1,collapsible:u=!0,className:m,onClick:p,...v}){const[S,g]=s.useState(c),h={gap:n,justifyContent:a,alignItems:l},y=s.useCallback(()=>{g(!0)},[]),f=s.useCallback(C=>{u&&g(!S),p&&p(C)},[S,u,p]);return t.jsxs(ms,{onlyFunctionality:!0,disableScale:!0,disableActiveState:!0,disableRipples:!0,borderRadius:"16px",className:`${m??""} ${S?"collapsed":"expanded"} group`,collapsed:S,collapsible:u,...v,children:[t.jsxs(bs,{onClick:f,className:"header-title",children:[t.jsx(vs,{className:"title",children:e}),r&&t.jsx(gs,{children:r})]}),t.jsx(Do.AutoHeight,{isOpen:!S||!u,className:"content",onCollapseComplete:y,children:d==="row"?t.jsx(K.Row,{className:"row",...h,children:o}):t.jsx(ee.Column,{className:"column",...h,children:o})})]})}function mr(e){const r={xxs:12,xs:12,sm:12,md:12,lg:12,xlg:12};return t.jsx(ne.ErrorBoundary,{...re({prefix:"Group"}),children:t.jsx(xs,{...r,...e})})}function De(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ys=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e15e1idt11"}:{target:"e15e1idt11",label:"Card"})(),ws=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e15e1idt10"}:{target:"e15e1idt10",label:"Contents"})(process.env.NODE_ENV==="production"?{name:"a4fcxv",styles:"padding:1rem;gap:1rem;flex-direction:column;display:flex;width:100%;height:100%"}:{name:"a4fcxv",styles:"padding:1rem;gap:1rem;flex-direction:column;display:flex;width:100%;height:100%",toString:De}),Ss=j.createStyled("h4",process.env.NODE_ENV==="production"?{target:"e15e1idt9"}:{target:"e15e1idt9",label:"Title"})(process.env.NODE_ENV==="production"?{name:"jwzzvx",styles:"all:unset;font-family:var(--ha-font-family);font-size:0.8rem;color:var(--ha-S100-contrast);display:flex;align-items:center;justify-content:flex-start"}:{name:"jwzzvx",styles:"all:unset;font-family:var(--ha-font-family);font-size:0.8rem;color:var(--ha-S100-contrast);display:flex;align-items:center;justify-content:flex-start",toString:De}),Es=j.createStyled("h4",process.env.NODE_ENV==="production"?{target:"e15e1idt8"}:{target:"e15e1idt8",label:"SubTitle"})(process.env.NODE_ENV==="production"?{name:"p73dxp",styles:"all:unset;font-family:var(--ha-font-family);font-size:1rem;color:var(--ha-S500-contrast);margin-top:0.3rem;margin-left:1.1rem"}:{name:"p73dxp",styles:"all:unset;font-family:var(--ha-font-family);font-size:1rem;color:var(--ha-S500-contrast);margin-top:0.3rem;margin-left:1.1rem",toString:De}),Ns=j.createStyled(be.Icon,process.env.NODE_ENV==="production"?{target:"e15e1idt7"}:{target:"e15e1idt7",label:"StyledIcon"})(process.env.NODE_ENV==="production"?{name:"1d2jak5",styles:"font-size:3rem;color:var(--ha-A100)!important"}:{name:"1d2jak5",styles:"font-size:3rem;color:var(--ha-A100)!important",toString:De}),Cs=j.createStyled(be.Icon,process.env.NODE_ENV==="production"?{target:"e15e1idt6"}:{target:"e15e1idt6",label:"LocationIcon"})(process.env.NODE_ENV==="production"?{name:"1nqb1ni",styles:"font-size:1rem;color:var(--ha-A400)!important;margin-right:0.2rem"}:{name:"1nqb1ni",styles:"font-size:1rem;color:var(--ha-A400)!important;margin-right:0.2rem",toString:De});function ks(e,r,o){const n=r*o,a=e.slice(0,n),l=[];let d=0;for(let c=0;c<r;c++){const u=Math.min(Math.ceil((a.length-d)/(r-c)),o);l.push(a.slice(d,d+u)),d+=u}return l}const _s=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e15e1idt5"}:{target:"e15e1idt5",label:"Forecast"})(process.env.NODE_ENV==="production"?{name:"lywmg8",styles:"display:flex;flex-direction:column;align-items:center;justify-content:space-between;gap:0.5rem;height:100%"}:{name:"lywmg8",styles:"display:flex;flex-direction:column;align-items:center;justify-content:space-between;gap:0.5rem;height:100%",toString:De}),js=j.createStyled(be.Icon,process.env.NODE_ENV==="production"?{target:"e15e1idt4"}:{target:"e15e1idt4",label:"ForecastIcon"})(process.env.NODE_ENV==="production"?{name:"18ku6o8",styles:"font-size:1.5rem;color:var(--ha-A100)!important"}:{name:"18ku6o8",styles:"font-size:1.5rem;color:var(--ha-A100)!important",toString:De}),Ds=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e15e1idt3"}:{target:"e15e1idt3",label:"Day"})(process.env.NODE_ENV==="production"?{name:"2pu5xu",styles:"color:var(--ha-S50-contrast)"}:{name:"2pu5xu",styles:"color:var(--ha-S50-contrast)",toString:De}),Os=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e15e1idt2"}:{target:"e15e1idt2",label:"Time"})(process.env.NODE_ENV==="production"?{name:"1syrqdo",styles:"color:var(--ha-S200-contrast);font-size:0.8rem"}:{name:"1syrqdo",styles:"color:var(--ha-S200-contrast);font-size:0.8rem",toString:De}),Rs=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e15e1idt1"}:{target:"e15e1idt1",label:"Temperature"})(process.env.NODE_ENV==="production"?{name:"1pdq2t8",styles:"color:var(--ha-S50-contrast);font-size:0.8rem"}:{name:"1pdq2t8",styles:"color:var(--ha-S50-contrast);font-size:0.8rem",toString:De}),Is=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e15e1idt0"}:{target:"e15e1idt0",label:"TemperatureLow"})(process.env.NODE_ENV==="production"?{name:"1wvg1a4",styles:"color:var(--ha-S500-contrast);font-size:0.75rem"}:{name:"1wvg1a4",styles:"color:var(--ha-S500-contrast);font-size:0.75rem",toString:De}),As=50;function Ts({entity:e,title:r,icon:o,iconProps:n,temperatureSuffix:a,includeTitle:l=!0,includeForecast:d=!0,includeCurrent:c=!0,includeTime:u=!0,includeDay:m=!0,details:p=[],apparentTemperatureAttribute:v="apparent_temperature",className:S,service:g,serviceData:h,forecastType:y="daily",forecastRows:f=1,allowForecastToggle:C=!0,cssStyles:w,key:E,...k}){const x=i.useHass(B=>B.config),[_,R]=s.useState(0),A=i.useHass(B=>B.globalComponentStyles),D=Math.floor(_/As),[b,N]=s.useState("UTC"),T=i.useHass(B=>B.formatter),$=i.useHass(B=>B.helpers).dateTime.shouldUseAmPm(),[I,z]=s.useState(y),M=i.useWeather(e,{type:I}),O=i.isUnavailableState(M.state),L=i.getIconByEntity("weather",M),{attributes:{friendly_name:P,temperature:J,temperature_unit:H}}=M;s.useEffect(()=>{x?.time_zone&&b!==x.time_zone&&N(x.time_zone)},[x,b]);const U=s.useMemo(()=>i.getSupportedForecastTypes(M),[M]);s.useEffect(()=>{z(y)},[y]);const W=s.useMemo(()=>{const{humidity:B,temperature:G,wind_speed:X,wind_speed_unit:te,temperature_unit:oe}=M.attributes,se=go.getAdditionalWeatherInformation(G,oe,X,te,B);return{apparent_temperature:M.attributes[v]??null,...M.attributes,...se??{}}},[M.attributes,v]),Y=W.apparent_temperature??W.feelsLike,Z=Y===J?null:Y,ge=ks(M.forecast?.forecast??[],f,D),F=()=>t.jsx(t.Fragment,{children:ge.map((B,G)=>t.jsx(K.Row,{className:"row",fullHeight:!0,style:{justifyContent:"space-between"},children:B.map((X,te)=>{const oe=new Date(X.datetime),se=T.formatDateWeekdayShort(oe),he=T.formatHour(oe),le=$?T.formatAmPmSuffix(oe):"",ye=$?`${he} ${le}`:he;return t.jsxs(_s,{className:"forecast",children:[m&&t.jsx(Ds,{className:"day",children:se}),u&&t.jsx(Os,{className:"time",children:ye}),t.jsx(js,{className:"icon forecast-icon",icon:i.getIconByEntity("weather",{...M,state:X.condition}),...n??{}}),t.jsxs(Rs,{className:"temperature",children:[X.temperature,a||H]}),X.templow&&t.jsxs(Is,{className:"temperature-low",children:[X.templow,a||H]})]},te)})},`weather-${G}`))});return t.jsx(ys,{title:r,entity:e,service:g,serviceData:h,className:`${S??""} weather-card`,resizeDetectorProps:{refreshRate:50,refreshMode:"throttle",onResize({width:B}){B&&R(B)}},cssStyles:`
        ${A?.weatherCard??""}
        ${w??""}
      `,...k,children:t.jsxs(ws,{children:[c&&!O&&t.jsxs(K.Row,{className:"row",justifyContent:"space-between",fullWidth:!0,wrap:"nowrap",children:[t.jsxs(K.Row,{wrap:"nowrap",children:[t.jsx(Ns,{icon:L,className:"icon"}),t.jsxs(ee.Column,{className:"column",alignItems:"flex-start",justifyContent:"center",children:[l&&t.jsxs(Ss,{className:"title",children:[t.jsx(Cs,{className:"location-icon icon",icon:o||"mdi:location"}),r||P]}),t.jsx(Es,{className:"sub-title",children:t.jsxs(K.Row,{"align-items":"center",justifyContent:"flex-start",children:[t.jsx("span",{className:"temperature-value",children:T.attributeValue(M,"temperature")}),t.jsx("span",{className:"sub-title-separator",children:",Â "}),t.jsx("span",{className:"state-value",children:T.stateValue(M)})]})})]})]}),d&&C&&t.jsx(Ve,{children:U.map((B,G)=>{const X=B==="daily"?"mdi:view-day":B==="twice_daily"?"mdi:hours-12":"mdi:hourglass";return t.jsx(Ne,{onClick:()=>{z(B)},icon:X,noIcon:!1,title:B,active:I===B,rippleProps:{preventPropagation:!0}},G)})})]}),(p&&p.length>0||typeof Z=="number")&&t.jsxs(K.Row,{gap:"0.5rem",className:"row",alignItems:"flex-start",justifyContent:"space-between",fullWidth:!0,children:[typeof Z=="number"&&t.jsx(Cn,{entity:e,title:i.localize("apparent_temperature"),render:()=>`${i.localize("apparent_temperature")} - ${Math.round(Z)}${a||H}`}),s.Children.map(p,(B,G)=>s.isValidElement(B)?s.cloneElement(B,{key:B.key||G}):B)]}),d&&!O&&_>0&&F(),O&&i.localize("unavailable")]})},E)}function Nn(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"WeatherCard"}),children:t.jsx(Ts,{...r,...e})})}function zs(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Ms=j.createStyled(K.Row,process.env.NODE_ENV==="production"?{target:"e1jqhbrg1"}:{target:"e1jqhbrg1",label:"DetailsRow"})("width:auto;",ce.mq(["xxs"],`
    width: 100%;
  `),";"),Vs=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1jqhbrg0"}:{target:"e1jqhbrg0",label:"State"})(process.env.NODE_ENV==="production"?{name:"jljpb8",styles:"color:var(--ha-S500-contrast);font-size:0.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis"}:{name:"jljpb8",styles:"color:var(--ha-S500-contrast);font-size:0.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis",toString:zs});function Ps({icon:e,iconProps:r,entity:o,title:n,suffix:a,render:l,...d}){const c=i.useEntity(o),u=n??c.attributes.friendly_name??"";return t.jsx(Ms,{className:"details",gap:"0rem",justifyContent:"flex-start",...d,children:t.jsx(me,{title:u??i.localize("unknown"),children:t.jsxs(K.Row,{className:"row",fullWidth:!0,gap:"0.5rem",justifyContent:"flex-start",children:[t.jsx(be.Icon,{className:"icon",icon:e??c.attributes.icon??"mdi:info",...r??{}}),t.jsx(Vs,{className:"state",children:typeof l=="function"?l(c):`${u?`${u} - `:""}${c.state??""}${!a&&c.attributes.unit_of_measurement?`${c.attributes.unit_of_measurement}`:a??""}`})]})})})}function Cn(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"WeatherCardDetail"}),children:t.jsx(Ps,{...e})})}const $s=e=>Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",xmlSpace:"preserve",viewBox:"0 0 77.41 123.36",style:{color:"#444545"},...e},Q.createElement("defs",null,Q.createElement("style",{type:"text/css"},`
      .main-color{fill:currentColor;}
      .bin-wheel{fill:#1B1B1B;}
      .bin-wheel-inner{fill:#2D2D2D;}
      .overlay{
        fill:currentColor;
        filter: brightness(80%);
      }
    `)),Q.createElement("path",{className:"main-color",d:"M67.65,10S55,0,30.19,0C12,0,2.73,5.89,2.73,5.89a.87.87,0,0,0-.36.66v6.92a1.15,1.15,0,0,0,.31.73l.77.74a1.13,1.13,0,0,0,.74.29L67,13.91a.54.54,0,0,0,.51-.43L68,10.59A.64.64,0,0,0,67.65,10Z"}),Q.createElement("path",{className:"main-color",d:"M62.25,19.9H7.18a.41.41,0,0,0-.42.43L11,117.24a1.16,1.16,0,0,0,.34.72l5.17,4.68a1.29,1.29,0,0,0,.75.29H39.57a1,1,0,0,0,.68-.35l17.87-25a1.88,1.88,0,0,0,.28-.78l4.25-76.45A.4.4,0,0,0,62.25,19.9Z"}),Q.createElement("path",{className:"bin-wheel",d:"M63.13,110.22A13.14,13.14,0,1,1,50,97.08,13.14,13.14,0,0,1,63.13,110.22Z"}),Q.createElement("path",{className:"overlay",d:"M54,24.2H14.91a.42.42,0,0,0-.42.43l4.12,93.5c0,.24.07.45.13.46a4.61,4.61,0,0,0,.64,0H33.84a1.82,1.82,0,0,0,.61-.09c.09,0,0-.48-.1-.69a20.13,20.13,0,0,1-1.8-7.62A17.46,17.46,0,0,1,50,92.78h.22a.43.43,0,0,0,.45-.41l3.78-67.74A.41.41,0,0,0,54,24.2Z"}),Q.createElement("path",{className:"bin-wheel-inner",d:"M45.62,108.53l-5.43-2.8a10.49,10.49,0,0,0-.93,3.48l6.1.29A5.34,5.34,0,0,1,45.62,108.53Zm1.43-2-3.3-5.14A10.83,10.83,0,0,0,41.2,104l5.14,3.3A4.77,4.77,0,0,1,47.05,106.57Zm2.22-1L49,99.49a10.66,10.66,0,0,0-3.48.93l2.8,5.43A4.46,4.46,0,0,1,49.27,105.6Zm5.35,3.9,6.1-.29a10.73,10.73,0,0,0-.93-3.48l-5.43,2.8A5.34,5.34,0,0,1,54.62,109.5Zm-1-2.22,5.14-3.3a10.83,10.83,0,0,0-2.55-2.55l-3.3,5.14A4.77,4.77,0,0,1,53.64,107.28Zm-8.28,3.66-6.1.29a10.66,10.66,0,0,0,.93,3.48l5.43-2.8A5.13,5.13,0,0,1,45.36,110.94ZM45.5,120A10.42,10.42,0,0,0,49,121l.29-6.1a5.13,5.13,0,0,1-1-.26Zm8.86-8.11,5.43,2.8a10.66,10.66,0,0,0,.93-3.48l-6.1-.29A5.13,5.13,0,0,1,54.36,111.91Zm-8,1.25-5.14,3.3A10.65,10.65,0,0,0,43.75,119l3.3-5.14A4.77,4.77,0,0,1,46.34,113.16Zm6.59.71,3.3,5.14a10.65,10.65,0,0,0,2.55-2.55l-5.14-3.3A4.77,4.77,0,0,1,52.93,113.87Zm-2.22,1L51,121a10.49,10.49,0,0,0,3.48-.93l-2.8-5.43A5.13,5.13,0,0,1,50.71,114.85Zm3.77-14.43A10.66,10.66,0,0,0,51,99.49l-.29,6.11a4.46,4.46,0,0,1,1,.25Z"}),Q.createElement("path",{className:"overlay",d:"M72.37,10.94,69.72,8.06A.5.5,0,0,0,69.08,8l-3.46,2.64a1.48,1.48,0,0,1-.77.26H.43a.43.43,0,0,0-.43.43v8.14a.43.43,0,0,0,.43.43H64.85a1.05,1.05,0,0,0,.71-.33l6.82-8A.51.51,0,0,0,72.37,10.94Z"}),Q.createElement("path",{className:"main-color",d:"M77.41,8.11a4.69,4.69,0,1,1-4.69-4.69A4.69,4.69,0,0,1,77.41,8.11Z"}),Q.createElement("path",{className:"overlay",d:"M75.36,8.11a2.64,2.64,0,1,1-2.64-2.64A2.64,2.64,0,0,1,75.36,8.11Z"}));function $t(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Fs=77.41/123.36,Bs=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"ef4onsx5"}:{target:"ef4onsx5",label:"Card"})(),Ls=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ef4onsx4"}:{target:"ef4onsx4",label:"Contents"})(process.env.NODE_ENV==="production"?{name:"1qh4jjv",styles:"padding:1rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between"}:{name:"1qh4jjv",styles:"padding:1rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between",toString:$t}),Hs=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ef4onsx3"}:{target:"ef4onsx3",label:"Bin"})("position:relative;.vertical-text{position:absolute;inset:0;margin-top:40%;margin-left:5%;",e=>typeof e.textColor=="string"&&`color: ${e.textColor};`,";text{transition:opacity var(--ha-transition-duration) var(--ha-easing);opacity:0;}}.bin-icon{position:absolute;top:50%;left:50%;transform:translate3d(-65%, -60%, 0);",e=>typeof e.iconColor=="string"&&`color: ${e.iconColor};`,";}"),qs=j.createStyled(ee.Column,process.env.NODE_ENV==="production"?{target:"ef4onsx2"}:{target:"ef4onsx2",label:"BinBox"})(process.env.NODE_ENV==="production"?{name:"1qntq08",styles:"background:var(--ha-S500);border-radius:0.5rem;padding:0.5rem;width:50%;&:nth-of-type(2n){margin-left:1rem;}.collection-time{font-size:0.8rem;color:var(--ha-S500-contrast);}.collection-title{font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S300-contrast);}"}:{name:"1qntq08",styles:"background:var(--ha-S500);border-radius:0.5rem;padding:0.5rem;width:50%;&:nth-of-type(2n){margin-left:1rem;}.collection-time{font-size:0.8rem;color:var(--ha-S500-contrast);}.collection-title{font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S300-contrast);}",toString:$t}),Ws=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ef4onsx1"}:{target:"ef4onsx1",label:"Title"})(process.env.NODE_ENV==="production"?{name:"1o9bz4x",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold"}:{name:"1o9bz4x",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold",toString:$t}),Us=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ef4onsx0"}:{target:"ef4onsx0",label:"Description"})(process.env.NODE_ENV==="production"?{name:"kl4f2c",styles:"font-size:0.8rem;margin-top:0.5rem;color:var(--ha-S500-contrast)"}:{name:"kl4f2c",styles:"font-size:0.8rem;margin-top:0.5rem;color:var(--ha-S500-contrast)",toString:$t});function Gs({height:e,text:r}){const o=e/Fs/2,n=e/1.3,a=s.useRef(null),[l,d]=s.useState(n);return s.useEffect(()=>{(()=>{if(a.current){const u=a.current.getComputedTextLength();u>n&&d(m=>m*(n/u)),a.current.style.opacity="1"}})()},[n,r]),t.jsx("svg",{width:o,height:n,className:"vertical-text",children:t.jsx("text",{ref:a,x:"0",y:"0",transform:`translate(${o/2}, ${n/2}) rotate(90)`,textAnchor:"middle",dominantBaseline:"middle",fill:"currentColor",fontSize:l,children:r})})}function Ys({schedules:e,svg:r,title:o="Garbage Collection",description:n,className:a,cssStyles:l,key:d,...c}){const u=i.useHass(w=>w.globalComponentStyles),m=i.useEntity("sensor.date",{returnNullIfNotFound:!0}),p=s.useMemo(()=>({size:45,color:"#484848",textColor:"rgba(0,0,0,0.6)",iconColor:"rgba(0,0,0,0.6)",...r??{}}),[r]),v=s.useMemo(()=>(m===null?new Date:new Date(m.state)).getDay(),[m]),S=Math.floor(new Date().getDate()/7),g=s.useMemo(()=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],[]),h=s.useCallback((w,E)=>{if(typeof w=="object"&&typeof w.render=="function")return w.render(w,E);const k=typeof w=="string"?p.size:w?.size??p.size,x=typeof w=="string"?w:w?.color??p.color,_=typeof w=="string"?p.textColor:w?.textColor??p.textColor,R=typeof w=="string"?p.iconColor:w?.iconColor??p.iconColor,A=typeof w=="string"?void 0:w?.icon;return t.jsxs(Hs,{className:"bin-group",textColor:_,iconColor:R,children:[typeof w!="string"&&typeof w<"u"&&typeof w.name=="string"&&t.jsx(Gs,{height:k,text:w.name}),typeof A=="string"&&t.jsx(be.Icon,{className:"icon bin-icon",icon:A,style:{fontSize:k/2.7}}),t.jsx($s,{className:"garbage-bin",style:{color:x,width:k}})]},E)},[p]),y=s.useCallback(w=>w===0?"Today":w===1?"Tomorrow":`in ${w} days`,[]),f=s.useCallback((w,E)=>{for(let k=0;k<w.length;k++){const x=(E+k)%w.length;if(w[x]!==null)return x}return-1},[]),C=s.useMemo(()=>e.flatMap(w=>{const k=(g.map($=>$.toLowerCase()).indexOf(w.day.toLowerCase())-v+7)%7,x=new Date;x.setDate(new Date().getDate()+k);const _=w.weeks[S];let R=(S+1)%w.weeks.length;w.frequency!=="weekly"&&(R=f(w.weeks,S));const A=w.weeks[R],D=y(k);if(w.hideNextCollection||A===null)return[{schedule:w,timeUntilCollection:D,bins:_}];const b=new Date(x);let N;switch(w.frequency){case"weekly":N=7;break;case"fortnightly":N=14;break;case"monthly":N=28;break;default:N=7}b.setDate(x.getDate()+N);const T=k+N,V=y(T);return[{schedule:w,timeUntilCollection:D,bins:_},{schedule:w,timeUntilCollection:V,bins:A}]}),[S,g,e,v,f,y]);return t.jsx(Bs,{cssStyles:`
      ${u?.garbageCollectionCard??""}
      ${l??""}
    `,disableActiveState:!0,disableRipples:!0,disableScale:!0,className:`garbage-collection-card ${a??""}`,...c,children:t.jsxs(Ls,{children:[t.jsxs(ee.Column,{alignItems:"flex-start",fullWidth:!0,children:[t.jsx(Ws,{className:"title",children:o}),typeof n<"u"&&t.jsx(Us,{className:"description",children:n})]}),t.jsx(K.Row,{className:"row",fullWidth:!0,wrap:"nowrap",justifyContent:"space-between",style:{marginTop:"0.5rem"},children:C.filter(w=>w.bins!==null).map((w,E)=>t.jsxs(qs,{className:"bin-box",children:[typeof w.schedule.title<"u"&&t.jsx("div",{className:"collection-title",children:w.schedule.title}),t.jsx(K.Row,{className:"row",wrap:"nowrap",gap:"1rem",children:w.bins&&w.bins.map((k,x)=>h(k,x))}),t.jsx("div",{className:"collection-time",children:w.timeUntilCollection})]},E))})]})},d)}function Xs(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"GarbageCollectionCard"}),children:t.jsx(Ys,{...r,...e})})}function kn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Qs=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e1x6j6w51"}:{target:"e1x6j6w51",label:"Card"})(process.env.NODE_ENV==="production"?{name:"1ll9bqd",styles:"cursor:default"}:{name:"1ll9bqd",styles:"cursor:default",toString:kn}),Ks=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1x6j6w50"}:{target:"e1x6j6w50",label:"Contents"})(process.env.NODE_ENV==="production"?{name:"lgify2",styles:"padding:1rem;height:100%;.primary-icon{color:var(--ha-A200);font-size:30px;}&:not(:disabled),&:not(.disabled){&:hover,&:active{.primary-icon{color:var(--ha-A400);}}}"}:{name:"lgify2",styles:"padding:1rem;height:100%;.primary-icon{color:var(--ha-A200);font-size:30px;}&:not(:disabled),&:not(.disabled){&:hover,&:active{.primary-icon{color:var(--ha-A400);}}}",toString:kn}),Js="hh:mm A",Pr="dddd, MMMM DD YYYY",Zs=tr.createDateFormatter({});function ea({timeEntity:e,dateEntity:r,timeFormat:o,dateFormat:n,throttleTime:a=1e3,hideDate:l=!1,hideIcon:d=!1,hideTime:c=!1,center:u=!1,icon:m,iconProps:p,className:v,children:S,disabled:g,onClick:h,cssStyles:y,key:f,...C}){const[w,E]=s.useState(new Date),k=i.useHass(F=>F.formatter),x=i.useHass(F=>F.locale),_=i.useHass(F=>F.config),R=x?.language,A=_?.time_zone,{formatAmPmSuffix:D,formatDateWeekday:b,formatDateMonth:N,formatDateYear:T,formatTime:V}=k,$=s.useRef(Date.now()),I=s.useRef(void 0),z=i.useHass(F=>F.globalComponentStyles),M=i.useEntity(e??"unknown",{returnNullIfNotFound:!0}),O=i.useEntity(r??"unknown",{returnNullIfNotFound:!0}),L=s.useMemo(()=>m||O?.attributes?.icon||"mdi:calendar",[m,O]),[P,J]=s.useMemo(()=>{if(M&&!o){const G=M.state??"00:00",[X,te]=G.split(":").map(Number),oe=new Date;return oe.setHours(X,te,0,0),[G,D(oe)]}const F=V(w),B=F.match(/^(.*?)(?:\s([AP]M))$/i);return B?[B[1],B[2]]:[F,void 0]},[M,o,w,V,D]),H=typeof h=="function",U=s.useCallback((F,B,G)=>Zs(F,B,{locale:R,timezone:A,...G}),[R,A]),W=s.useMemo(()=>{if(M&&!o)return t.jsxs(t.Fragment,{children:[t.jsx(Xe.Time,{className:"time",children:P}),J&&t.jsx(Xe.AmOrPm,{className:"time-suffix",children:J})]});if(!M&&!o)return t.jsxs(t.Fragment,{children:[t.jsx(Xe.Time,{className:"time",children:P}),J&&t.jsx(Xe.AmOrPm,{className:"time-suffix",children:J})]});try{return t.jsx(Xe.Time,{className:"time",children:typeof o=="function"?o(w,U):U(w,o??Js)})}catch(F){return console.error("Time formatting error",F),t.jsx(Xe.Time,{className:"time",children:P})}},[J,w,P,o,M,U]),Y=s.useMemo(()=>{if(l)return null;try{if(O&&!n){const F=O.state.split("-").map(Number);if(F.length===3){const B=new Date(F[0],F[1]-1,F[2]),G=B.getDate(),X=tr.daySuffix(G);return`${b(B)}, ${N(B)} ${G}${X} ${T(B)}`}}if(!O&&!n){const F=w,B=F.getDate(),G=tr.daySuffix(B);return`${b(F)}, ${N(F)} ${B}${G} ${T(F)}`}return typeof n=="function"?n(w,U):U(w,n??Pr)}catch(F){return console.error("Date formatting error",F),U(w,Pr)}},[l,O,n,w,b,N,T,U]),Z=s.useCallback(()=>{const F=Date.now(),B=F-$.current;B>=a&&(E(new Date),$.current=F-B%a),I.current=requestAnimationFrame(Z)},[a]),ge=s.useMemo(()=>!(M&&!o&&(O&&!n)),[M,o,O,n]);return s.useEffect(()=>{if(ge)return I.current=requestAnimationFrame(Z),()=>{I.current&&cancelAnimationFrame(I.current)}},[ge,Z]),t.jsx(Qs,{cssStyles:`
        ${z?.timeCard??""}
        ${y??""}
      `,className:`${v??""} time-card`,disableScale:g||!H,disableActiveState:C.disableActiveState??!H,disableRipples:C.disableRipples??!H,onClick:(F,B)=>{H&&M&&h?.(M,B)},...C,children:t.jsxs(Ks,{children:[t.jsxs(ee.Column,{className:"column",gap:"0.5rem",alignItems:u?"center":"flex-start",fullHeight:!0,wrap:"nowrap",children:[(!d||!c)&&t.jsxs(K.Row,{className:"row",gap:"0.5rem",alignItems:"center",wrap:"nowrap",children:[!d&&t.jsx(be.Icon,{className:"icon primary-icon",icon:L,...p??{}}),!c&&W]}),!l&&t.jsx(K.Row,{children:Y})]}),S&&t.jsx("div",{className:"children",children:S})]})},f)}function _n(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"TimeCard"}),children:t.jsx(ea,{...r,...e})})}function bt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ta=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"ewn90o04"}:{target:"ewn90o04",label:"StyledAreaCard"})(process.env.NODE_ENV==="production"?{name:"ydyzro",styles:"aspect-ratio:16/9;background-color:transparent;&:hover,&:active{background-color:transparent!important;}height:var(--stretch,)"}:{name:"ydyzro",styles:"aspect-ratio:16/9;background-color:transparent;&:hover,&:active{background-color:transparent!important;}height:var(--stretch,)",toString:bt}),jn=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ewn90o03"}:{target:"ewn90o03",label:"PictureCardFooter"})(process.env.NODE_ENV==="production"?{name:"1bejhbe",styles:"all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem"}:{name:"1bejhbe",styles:"all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem",toString:bt}),ra=j.createStyled(jn,process.env.NODE_ENV==="production"?{target:"ewn90o02"}:{target:"ewn90o02",label:"NavBar"})(process.env.NODE_ENV==="production"?{name:"2gnka1",styles:"padding:0.95rem;color:var(--ha-S100-contrast);background-color:var(--ha-S50);inset:0 0 auto 0;z-index:calc(var(--ha-device-area-card-z-index) + 1);border-bottom:1px solid var(--ha-S200)"}:{name:"2gnka1",styles:"padding:0.95rem;color:var(--ha-S100-contrast);background-color:var(--ha-S50);inset:0 0 auto 0;z-index:calc(var(--ha-device-area-card-z-index) + 1);border-bottom:1px solid var(--ha-S200)",toString:bt}),na=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ewn90o01"}:{target:"ewn90o01",label:"FullScreen"})("position:fixed;inset:0;left:var(--ha-area-card-expanded-offset);padding:0;margin:0;max-height:100svh;background:var(--ha-S100);z-index:var(--ha-device-area-card-z-index);display:flex;justify-content:center;align-items:stretch;transition:left var(--ha-transition-duration) var(--ha-easing);color:var(--ha-S50-contrast);",ce.mq(["xxs","xs"],`
    left: 0;
  `),";"),oa=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ewn90o00"}:{target:"ewn90o00",label:"ChildContainer"})(process.env.NODE_ENV==="production"?{name:"3jdts4",styles:"margin-top:5rem;display:flex;justify-content:flex-start;align-items:center;width:100%;overflow-y:auto;flex-direction:column"}:{name:"3jdts4",styles:"margin-top:5rem;display:flex;justify-content:flex-start;align-items:center;width:100%;overflow-y:auto;flex-direction:column",toString:bt});var sa=process.env.NODE_ENV==="production"?{name:"12p7ws1",styles:":root{--ha-hide-body-overflow-y:hidden;}"}:{name:"1q4ll79-InternalAreaCard",styles:":root{--ha-hide-body-overflow-y:hidden;};label:InternalAreaCard;",toString:bt};function aa({hash:e,children:r,icon:o,title:n,image:a,className:l,preloadProps:d,onClick:c,disable:u=!1,id:m,cssStyles:p,key:v,...S}){const g=s.useId(),h=m??g,{addRoute:y,getRoute:f}=i.useHass.getState().helpers,C=i.useHass(b=>b.hash),w=i.useHass(b=>b.globalComponentStyles),E=i.useHass(b=>b.portalRoot),x=i.useHass(b=>b.windowContext)??window,[_]=pr.useKeyPress(b=>b.key==="Escape"),[R,A]=s.useState(!1),D=s.useMemo(()=>f(e),[e,f,C]);return s.useEffect(()=>{D?.active&&!R?A(!0):!D?.active&&R&&A(!1)},[D,R]),s.useEffect(()=>{y({hash:e,icon:o||"mdi:info",name:n})},[y,e,o,n]),s.useEffect(()=>{_&&R&&(location.hash="")},[_,R]),t.jsxs(t.Fragment,{children:[R&&mt.createPortal(R===!0&&t.jsxs(na,{className:"full-screen",children:[t.jsx(de.Global,{styles:sa}),t.jsx(ra,{className:"nav-bar",children:t.jsxs(K.Row,{gap:"0.5rem",justifyContent:"space-between",className:"row",children:[t.jsxs(K.Row,{gap:"0.5rem",className:"row",children:[o&&t.jsx(be.Icon,{className:"icon",icon:o}),n]}),t.jsx(ae,{title:i.localize("close"),tooltipPlacement:"left",icon:"mdi:close",onClick:()=>{location.hash=""}})]})}),t.jsx(oa,{className:"child-container",children:r})]},`fullscreen-layout-${h}`),E??x.document.body,h),t.jsx(ta,{disableActiveState:!0,disableRipples:!0,id:`${h}-area-card`,className:`area-card ${l??""}`,onClick:()=>{u||(location.hash=e,c&&c())},cssStyles:`
          ${w.areaCard??""}
          ${p??""}
        `,...S,children:t.jsx(ur.PreloadImage,{...d??{},src:a,style:{width:"100%",height:"100%",position:"absolute"},lazy:!0,children:t.jsx(jn,{className:"footer",children:t.jsxs(K.Row,{gap:"0.5rem",className:"row",children:[o&&t.jsx(be.Icon,{className:"icon",icon:o,style:{color:"var(--ha-500-contrast)"}}),n]})})})},v)]})}function ia(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"AreaCard"}),children:t.jsx(aa,{...r,...e})})}function Dn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ca=j.createStyled(fr,process.env.NODE_ENV==="production"?{target:"eb4h5nq1"}:{target:"eb4h5nq1",label:"StyledVacuumCard"})(process.env.NODE_ENV==="production"?{name:"1p4572o",styles:".footer{margin-top:0.5rem;}"}:{name:"1p4572o",styles:".footer{margin-top:0.5rem;}",toString:Dn}),la=j.createStyled(bn.VacuumImage,process.env.NODE_ENV==="production"?{target:"eb4h5nq0"}:{target:"eb4h5nq0",label:"StyledVacuumImage"})(process.env.NODE_ENV==="production"?{name:"1d3w5wq",styles:"width:100%"}:{name:"1d3w5wq",styles:"width:100%",toString:Dn});function da({entity:e,shortcuts:r,hideCurrentBatteryLevel:o,hideState:n=!1,hideUpdated:a=!1,hideToolbar:l=!1,className:d,cssStyles:c,serviceData:u,service:m,modalProps:p,customImage:v,locatingNode:S,...g}){const[h,y]=s.useState(!1),f=i.useHass(x=>x.globalComponentStyles),C=i.useEntity(e),w=s.useMemo(()=>h?S??`${i.localize("locate")}...`:C.attributes.status??C.state,[C.attributes.status,S,C.state,h]),E=s.useCallback(()=>{y(!0),setTimeout(()=>{y(!1)},2e3)},[]),k=gn.getToolbarActions({entity:C,shortcuts:r,onLocate(){E()}});return t.jsx(ca,{className:`${d??""} vacuum-card`,modalProps:{stateTitle:w,locatingNode:S,hideCurrentBatteryLevel:o,hideState:n,hideUpdated:a,hideToolbar:l,shortcuts:r,...p},entity:e,service:m,serviceData:u,disableActiveState:!0,disableRipples:!0,hideToggle:!0,cssStyles:`
        ${f.vacuumCard??""}
        ${c??""}
      `,icon:t.jsx(la,{src:v,className:C.state}),customRenderState:()=>w,fabProps:{style:{padding:0,backgroundColor:"none",width:"3rem",height:"3rem"}},features:k.map((x,_)=>t.jsx(He,{iconProps:{color:x?.active?"var(--ha-300)":void 0},...x},_)),...g})}function ua(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"VacuumCard"}),children:t.jsx(da,{...r,...e})})}function gr(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const pa=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e1ndedhf2"}:{target:"e1ndedhf2",label:"StyledPictureCard"})(process.env.NODE_ENV==="production"?{name:"1w0uscc",styles:"aspect-ratio:16/9"}:{name:"1w0uscc",styles:"aspect-ratio:16/9",toString:gr}),ha=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1ndedhf1"}:{target:"e1ndedhf1",label:"Inner"})(process.env.NODE_ENV==="production"?{name:"1s8jpg3",styles:"flex-direction:column;align-items:stretch;justify-content:space-between"}:{name:"1s8jpg3",styles:"flex-direction:column;align-items:stretch;justify-content:space-between",toString:gr}),fa=j.createStyled("h4",process.env.NODE_ENV==="production"?{target:"e1ndedhf0"}:{target:"e1ndedhf0",label:"PictureCardFooter"})(process.env.NODE_ENV==="production"?{name:"fn7q5o",styles:"all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem"}:{name:"fn7q5o",styles:"all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem",toString:gr});function ma({title:e,key:r,image:o,icon:n,iconProps:a,className:l,preloadProps:d,children:c,...u}){return t.jsxs(pa,{disableActiveState:!0,disableScale:u.disableScale??typeof u.onClick>"u",disableRipples:u.disableRipples??typeof u.onClick>"u",className:`picture-card ${l??""}`,...u,children:[t.jsx(ha,{children:t.jsx(ur.PreloadImage,{...d??{},src:o,style:{width:"100%",height:"100%",position:"absolute"},lazy:!0,children:t.jsx(fa,{className:"footer",children:t.jsxs(K.Row,{gap:"0.5rem",className:"row",children:[n&&t.jsx(be.Icon,{icon:n,className:"icon",...a??{}}),e]})})})}),c&&t.jsx("div",{className:"children",children:c})]},r)}function ga(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"PictureCard"}),children:t.jsx(ma,{...r,...e})})}const ba=j.createStyled(({service:e,serviceData:r,key:o,...n})=>t.jsx(xe,{service:e,serviceData:r,...n},o),process.env.NODE_ENV==="production"?{target:"eu9w9ut1"}:{target:"eu9w9ut1",label:"StyledFabCard"})("flex-shrink:0;border-radius:",e=>e.borderRadius,";color:",e=>e.active?"var(--ha-A400)":"var(--ha-S500-contrast)",";",e=>e.size&&`
    font-size: ${e.size*.37}px;
    height: ${e.size}px;
    ${e.hasChildren?"":`width: ${e.size}px;`}
  `,">.ripple-parent{>.ripple-inner{height:100%;}}"),va=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eu9w9ut0"}:{target:"eu9w9ut0",label:"Contents"})("text-align:center;display:flex;flex-grow:0;flex-shrink:0;justify-content:center;align-items:center;height:100%;svg{",e=>e.hasChildren?"margin-right: 0.5rem;":"",";}",e=>`
    ${e.hasChildren?`padding: 0 ${e.size*.2}px;`:`
    `}
  `,";");function xa({title:e,tooltipPlacement:r,icon:o,iconProps:n,noIcon:a,size:l=48,entity:d,active:c,children:u,disabled:m=!1,borderRadius:p,className:v,service:S,serviceData:g,cssStyles:h,key:y,...f}){const C=i.useHass(V=>V.globalComponentStyles),w=i.useEntity(d||"unknown",{returnNullIfNotFound:!0}),E=d?i.computeDomain(d):null,k=typeof o=="string"?o:null,x=i.useIconByDomain(E===null?"unknown":E,{...n??{},fontSize:n?.fontSize??`${l/1.7}px`}),_=typeof u<"u",R=_?p??"10px":p??"50%",A=typeof w?.state=="string"?i.isUnavailableState(w.state):!1,D=i.useIconByEntity(d||"unknown",{...n??{},fontSize:n?.fontSize??`${l/1.7}px`}),b=i.useIcon(k,{...n??{},fontSize:n?.fontSize??`${l/1.7}px`}),N=typeof c=="boolean"?c:w===null?!1:w.state===i.ON&&!A,T=s.useMemo(()=>e||(E!==null&&d?i.computeDomainTitle(d,w?.attributes?.device_class):null),[e,E,w,d]);return t.jsx(t.Fragment,{children:t.jsx(me,{placement:r,title:`${e??w?.attributes?.friendly_name??T??""}${w?.state?` - ${w.state}`:""}`,children:t.jsx(ba,{as:"button",title:T,service:S,serviceData:g,entity:d,className:`fab-card ${v??""}`,disabled:m||A,active:N,size:l,borderRadius:R,hasChildren:_,disableColumns:!0,cssStyles:`
            ${C?.fabCard??""}
            ${h??""}
          `,...f,children:t.jsxs(va,{size:l,hasChildren:_,children:[a!==!0&&(b||D||x),_?u:void 0]})})},y)})}function ae(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"FabCard"}),children:t.jsx(xa,{...e})})}function On(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ya=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e4debe2"}:{target:"e4debe2",label:"FamilyBaseCard"})(process.env.NODE_ENV==="production"?{name:"1ll9bqd",styles:"cursor:default"}:{name:"1ll9bqd",styles:"cursor:default",toString:On}),wa=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e4debe1"}:{target:"e4debe1",label:"FamilyCardContent"})("padding:1rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;.person-card{&.entity-count-2-plus{width:",ce.getColumnSizeCSS(6),";",ce.mq(["xxs","xs"],`
        width: ${ce.getColumnSizeCSS(12)};
      `)," ",ce.mq(["md","lg","xlg"],`
        width: ${ce.getColumnSizeCSS(4)};
      `),";}&.entity-count-1{width:",ce.getColumnSizeCSS(12),";}&.entity-count-2{width:",ce.getColumnSizeCSS(6),";",ce.mq(["xxs","xs"],`
        width: ${ce.getColumnSizeCSS(12)};
      `),";}}"),Sa=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e4debe0"}:{target:"e4debe0",label:"Title"})(process.env.NODE_ENV==="production"?{name:"1o9bz4x",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold"}:{name:"1o9bz4x",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold",toString:On});function Ea({title:e,key:r,cssStyles:o,children:n,className:a,...l}){const d=i.useHass(p=>p.globalComponentStyles),c=s.Children.count(n),u=c>2?"2-plus":c===1?"1":"2",m=s.Children.map(n,(p,v)=>{if(s.isValidElement(p)){const h=["xxs","xs","sm","md","lg","xlg"].some(y=>typeof p.props[y]=="number")?!1:p.props.disableColumns??!0;return s.cloneElement(p,{key:p.key||v,className:h?`entity-count-${u}`:"",disableColumns:h})}return p});return t.jsx(ya,{disableRipples:!0,disableScale:!0,disableActiveState:!0,className:`family-card ${a}`,cssStyles:`
      ${d?.familyCard??""}
      ${o??""}
    `,...l,children:t.jsxs(wa,{children:[e&&t.jsx(ee.Column,{alignItems:"flex-start",fullWidth:!0,children:t.jsx(Sa,{children:e})}),t.jsx(K.Row,{className:"row",fullWidth:!0,wrap:"wrap",justifyContent:"flex-start",gap:"0.5rem",style:{marginTop:"0.5rem"},children:m})]})},r)}function Na(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"FamilyCard"}),children:t.jsx(Ea,{...r,...e})})}function Ft(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Ca=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e1qo3r524"}:{target:"e1qo3r524",label:"PersonBaseCard"})(process.env.NODE_ENV==="production"?{name:"zx801r",styles:"background-color:var(--ha-S500);&:not(.disabled):hover,&:not(:disabled):hover{background-color:var(--ha-S600);}"}:{name:"zx801r",styles:"background-color:var(--ha-S500);&:not(.disabled):hover,&:not(:disabled):hover{background-color:var(--ha-S600);}",toString:Ft}),ka=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1qo3r523"}:{target:"e1qo3r523",label:"PersonCardContent"})(process.env.NODE_ENV==="production"?{name:"2w5is8",styles:"display:flex;justify-content:center;align-items:center;flex-direction:column;gap:8px;border-radius:0.5rem;padding:0.5rem;.state-text{font-size:0.8rem;color:var(--ha-S500-contrast);}"}:{name:"2w5is8",styles:"display:flex;justify-content:center;align-items:center;flex-direction:column;gap:8px;border-radius:0.5rem;padding:0.5rem;.state-text{font-size:0.8rem;color:var(--ha-S500-contrast);}",toString:Ft}),$r=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1qo3r522"}:{target:"e1qo3r522",label:"UserAvatarDiv"})("position:relative;.avatar-image,.avatar-icon{border-radius:100%;width:",({width:e})=>e,";height:",({height:e})=>e,";border:",({withBorder:e})=>e?"2px solid var(--ha-50)":"none",";box-shadow:",({withBorder:e})=>e?"0 2px 2px rgba(0, 0, 0, 0.2)":"none",";background:var(--ha-S900);}.avatar-icon{display:flex;align-items:center;justify-content:center;}"),Fr=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1qo3r521"}:{target:"e1qo3r521",label:"UserAvatarStateIcon"})(process.env.NODE_ENV==="production"?{name:"1qni5pz",styles:"position:absolute;background-color:var(--ha-50);border-radius:100%;top:calc(50% + 8px);right:calc(0% - 11px);display:flex;justify-content:center;align-items:center;height:28px;width:28px;border:3px solid var(--ha-S500)"}:{name:"1qni5pz",styles:"position:absolute;background-color:var(--ha-50);border-radius:100%;top:calc(50% + 8px);right:calc(0% - 11px);display:flex;justify-content:center;align-items:center;height:28px;width:28px;border:3px solid var(--ha-S500)",toString:Ft}),_a=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1qo3r520"}:{target:"e1qo3r520",label:"NameAndState"})(process.env.NODE_ENV==="production"?{name:"k9o5p4",styles:"flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;text-align:center;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}"}:{name:"k9o5p4",styles:"flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;text-align:center;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}",toString:Ft}),br=({entity:e,iconSize:r={width:"2.5rem",height:"2.5rem"},avatarSize:o={width:"3.5rem",height:"3.5rem"},withBorder:n=!1,stateIcon:a})=>{const l=i.useEntity(e),{joinHassUrl:d}=i.useHass.getState().helpers,c=s.useMemo(()=>{const p=l.attributes.entity_picture?l.attributes.entity_picture:null;return p&&p.startsWith("/")?d(p):p},[l.attributes.entity_picture,d]),u=i.useIcon(l.attributes.icon??"mdi:account",r),m=i.useIcon(a??"",{width:"16px",height:"16px",color:"var(--ha-S900)"});return c?t.jsxs($r,{width:o.width,height:o.height,withBorder:n,children:[t.jsx("img",{src:c,className:"avatar-image"}),a&&m&&t.jsx(Fr,{children:m})]}):t.jsxs($r,{width:o.width,height:o.height,withBorder:n,children:[t.jsx("div",{className:"avatar-icon",children:u}),a&&m&&t.jsx(Fr,{children:m})]})};function ja({entity:e,personStateMap:r={},cssStyles:o,modalProps:n,className:a,...l}){const d=i.useHass(S=>S.globalComponentStyles),u={...{home:{text:i.localize("home"),icon:"mdi:home"},not_home:{text:i.localize("away"),icon:"mdi:walk"}},...r},m=i.useEntity(e),p=u[m.state]?.text??m.state,v=u[m.state]?.icon;return t.jsx(Ca,{entity:e,className:`person-card ${a}`,cssStyles:`
      ${d?.personCard??""}
      ${o??""}
    `,modalProps:{stateTitle:p,...n},...l,children:t.jsxs(ka,{children:[t.jsx(br,{entity:e,stateIcon:v}),t.jsxs(_a,{children:[m.attributes.friendly_name,t.jsx("span",{children:p})]})]})})}function Da(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"PersonCard"}),children:t.jsx(ja,{...r,...e})})}function vr(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Oa=j.createStyled(_n,process.env.NODE_ENV==="production"?{target:"e1yomyvi7"}:{target:"e1yomyvi7",label:"StyledTimeCard"})("padding:0;background:transparent;width:100%;box-shadow:none;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:padding;border-radius:0;&:hover{box-shadow:none;background:transparent;}&:not(.disabled):not(:disabled):not(:focus):hover{box-shadow:none;background:transparent;color:var(--ha-S200-contrast) svg{color:var(--ha-S200-contrast);}}.time,.time-suffix{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:font-size;}",e=>!e.open&&`
    padding: 0.5rem 0;
    .time, .time-suffix {
      font-size: 0.7rem;
    }
  `,";"),Ra=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1yomyvi6"}:{target:"e1yomyvi6",label:"StyledSidebarCard"})("background-color:var(--ha-S50);display:flex;flex-direction:column;align-items:center;overflow:hidden;height:100%;justify-content:flex-start;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left,max-width,width;transform-origin:left center;gap:1rem;>*{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:padding;}",ce.mq(["xxs","xs"],`
    position: fixed;
    top: 0;
    bottom: 0;
    left: var(--ha-sidebar-offset);
    z-index: calc(var(--ha-device-area-card-z-index) - 1);
  `),";"),Rn=j.createStyled("ul",process.env.NODE_ENV==="production"?{target:"e1yomyvi5"}:{target:"e1yomyvi5",label:"Menu"})("padding:0;margin:1rem 0 0 0;width:100%;li{position:relative;list-style-type:none;a{position:relative;cursor:pointer;user-select:none;position:relative;cursor:pointer;user-select:none;height:3rem;text-decoration:none;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;align-items:center;justify-content:flex-start;flex-direction:row;padding:0.5rem 0rem 0.5rem 1rem;gap:1rem;&:hover{background:transparent;}svg{display:inline-block;margin:0;text-align:left;font-size:1.5rem;}>.menu-inner{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;}span{display:block;width:100%;font-size:0.7rem;font-weight:300;color:var(--ha-S100-contrast);}}}li{>a{color:var(--ha-S100-contrast);background-color:transparent;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color,background-color;svg{color:var(--ha-S100-contrast);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color;}}&:hover,&.active,&:focus{>a{color:var(--ha-A400);background-color:var(--ha-S100);svg{color:var(--ha-A400);}}}}",e=>!e.open&&`
    margin: 0;
    li {
      a {
        padding: 0;
        justify-content: center;
        svg {
          margin: 0;
        }
      }
    }
  `,";"),Ia=j.createStyled("hr",process.env.NODE_ENV==="production"?{target:"e1yomyvi4"}:{target:"e1yomyvi4",label:"Divider"})(process.env.NODE_ENV==="production"?{name:"k9qapc",styles:"width:100%;border:none;border-bottom:1px solid var(--ha-S200);margin:0"}:{name:"k9qapc",styles:"width:100%;border:none;border-bottom:1px solid var(--ha-S200);margin:0",toString:vr}),Aa=j.createStyled(Rn,process.env.NODE_ENV==="production"?{target:"e1yomyvi3"}:{target:"e1yomyvi3",label:"HamburgerMenu"})("margin:0;li{a{justify-content:center;padding:0.7rem;svg{margin:0;}}}",ce.mq(["xxs","xs"],`
    left: 0;
    top: 0;
    li {
      a {
        background-color: transparent;
      }
    }
  `),";"),Br=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1yomyvi2"}:{target:"e1yomyvi2",label:"Filler"})(process.env.NODE_ENV==="production"?{name:"w1atjl",styles:"width:100%;height:100%"}:{name:"w1atjl",styles:"width:100%;height:100%",toString:vr}),Ta=j.createStyled(Nn,process.env.NODE_ENV==="production"?{target:"e1yomyvi1"}:{target:"e1yomyvi1",label:"StyledWeatherCard"})(process.env.NODE_ENV==="production"?{name:"1vz6grl",styles:"background:transparent;width:100%;padding:0;border-radius:0;box-shadow:none;&:hover{box-shadow:none;background:transparent;}"}:{name:"1vz6grl",styles:"background:transparent;width:100%;padding:0;border-radius:0;box-shadow:none;&:hover{box-shadow:none;background:transparent;}",toString:vr}),za=j.createStyled(Ta,process.env.NODE_ENV==="production"?{target:"e1yomyvi0"}:{target:"e1yomyvi0",label:"WeatherCardCustom"})("padding-bottom:1rem;border-radius:0;",e=>!e.open&&`
    div > * {
      display: none;
    }
    div > svg {
      display: flex;
    }
  `,";");function Ma({weatherCardProps:e,timeCardProps:r={hideIcon:!0,hideDate:!0,center:!0},startOpen:o=!0,collapsible:n=!0,menuItems:a=[],children:l,autoIncludeRoutes:d=!0,includeTimeCard:c=!0,className:u,cssStyles:m,sortSidebarMenuItems:p,key:v,style:S,...g}){const[h,y]=s.useState(o),f=i.useHass(k=>k.routes),C=i.useHass(k=>k.hash),w=at(),E=s.useMemo(()=>{const k=f.map(_=>({..._,title:_.name,onClick(){_.active||(location.hash="",setTimeout(()=>{location.hash=_.hash},C===""?0:450))}})),x=d?[...a,...k]:a;return typeof p=="function"&&x.sort(p),x},[f,p,d,a,C]);return t.jsxs(t.Fragment,{children:[t.jsx(de.Global,{styles:de.css(":root{--ha-area-card-expanded-offset:",w.xxs||w.xs?"0rem":h?"var(--ha-device-sidebar-card-width-expanded, 19rem)":"var(--ha-device-sidebar-card-width-collapsed, 5rem)",";--ha-sidebar-max-width:",h?"var(--ha-device-sidebar-card-width-expanded, 19rem)":"var(--ha-device-sidebar-card-width-collapsed, 5rem)",";--ha-sidebar-offset:",h?"0":"calc(var(--ha-sidebar-max-width) * -1)",";}"+(process.env.NODE_ENV==="production"?"":";label:InternalSidebarCard;"))}),t.jsx(Ra,{css:de.css(m??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalSidebarCard;")),className:`${u??""} sidebar-card`,style:{...S,width:"100%",maxWidth:h?"var(--ha-device-sidebar-card-width-expanded, 19rem)":"var(--ha-device-sidebar-card-width-collapsed, 5rem)"},...g,children:t.jsxs(ee.Column,{className:"column",wrap:"nowrap",fullHeight:!0,fullWidth:!0,alignItems:"flex-start",justifyContent:"space-between",children:[t.jsxs(Br,{className:"filler",children:[t.jsxs(K.Row,{className:"row",wrap:"nowrap",style:{padding:h?"0.28rem 0":"0",flexDirection:h?"row":"column"},children:[c&&t.jsx(Oa,{disableColumns:!0,className:"sidebar-time-card",open:h,...r},"sidebar-large-time-card"),n&&t.jsx(Aa,{open:h,className:"hamburger-menu",style:{width:w.xxs||w.xs?"auto":h?"40%":"100%",position:w.xxs||w.xs?"fixed":"relative"},children:t.jsx("li",{onClick:k=>{k.stopPropagation(),y(!h)},children:t.jsx("a",{style:{justifyContent:"center"},children:t.jsx(be.Icon,{className:"icon",icon:h?"mdi:close":"mdi:menu"})})})},"hamburger-menu-open")]}),t.jsx(Ia,{className:"divider"}),t.jsx(Rn,{open:h,className:"menu",children:E.map((k,x)=>t.jsx("li",{onClick:_=>{_.stopPropagation(),k.onClick(_)},className:k.active?"active":"inactive",children:t.jsxs("a",{children:[typeof k.icon=="string"?t.jsx(be.Icon,{className:"icon",icon:k.icon}):k.icon,h&&t.jsxs("div",{className:"menu-inner",children:[k.title,k.description&&t.jsx("span",{children:k.description})]})]})},x))}),l&&h&&t.jsx(Br,{className:"filler",children:l})]}),e&&t.jsx("div",{className:"weather-wrapper",style:{width:"100%",padding:h?"0 1rem 1rem":"0"},children:t.jsx(za,{disableColumns:!0,className:"weather-card-sidebar",open:h,...e})},"sidebar-weather-large")]})},v??"ha-sidebar-closed")]})}function Va(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"SidebarCard"}),children:t.jsx(Ma,{...e})})}function Pa(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const $a={auto:"full",cool:"end",dry:"full",fan_only:"full",heat:"start",heat_cool:"full",off:"full"},Fa=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"evn1rt0"}:{target:"evn1rt0",label:"Wrapper"})(process.env.NODE_ENV==="production"?{name:"qmiylc",styles:"position:relative;width:320px;.container{position:relative;}.info *{margin:0;pointer-events:auto;}.label{width:60%;font-weight:500;text-align:center;align-items:center;justify-content:center;display:flex;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}.label span{white-space:nowrap;}.label ha-svg-icon{bottom:5%;}.label.disabled{color:#444;}.buttons{position:absolute;bottom:10px;left:0;right:0;margin:0 auto;gap:24px;display:flex;flex-direction:row;align-items:center;justify-content:center;}.info{position:absolute;inset:0px;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;font-size:16px;line-height:24px;letter-spacing:0.1px;}.dual{display:flex;flex-direction:row;gap:24px;}.dual button{outline:none;background:none;color:inherit;font-family:inherit;-webkit-tap-highlight-color:transparent;border:none;opacity:0.5;padding:0;transition:opacity 180ms ease-in-out,transform 180ms ease-in-out;cursor:pointer;}.dual button:focus-visible{transform:scale(1.1);}.dual button.selected{opacity:1;}.control-slider-circular{width:100%;}"}:{name:"qmiylc",styles:"position:relative;width:320px;.container{position:relative;}.info *{margin:0;pointer-events:auto;}.label{width:60%;font-weight:500;text-align:center;align-items:center;justify-content:center;display:flex;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}.label span{white-space:nowrap;}.label ha-svg-icon{bottom:5%;}.label.disabled{color:#444;}.buttons{position:absolute;bottom:10px;left:0;right:0;margin:0 auto;gap:24px;display:flex;flex-direction:row;align-items:center;justify-content:center;}.info{position:absolute;inset:0px;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;font-size:16px;line-height:24px;letter-spacing:0.1px;}.dual{display:flex;flex-direction:row;gap:24px;}.dual button{outline:none;background:none;color:inherit;font-family:inherit;-webkit-tap-highlight-color:transparent;border:none;opacity:0.5;padding:0;transition:opacity 180ms ease-in-out,transform 180ms ease-in-out;cursor:pointer;}.dual button:focus-visible{transform:scale(1.1);}.dual button.selected{opacity:1;}.control-slider-circular{width:100%;}",toString:Pa});function In({entity:e,targetTempStep:r,showCurrent:o=!1}){const[n,a]=s.useState({}),[l,d]=s.useState("low"),c=i.useEntity(e),u=i.useHass(N=>N.config),{min_temp:m,max_temp:p,target_temp_step:v,hvac_modes:S}=c.attributes,g=s.useMemo(()=>r??v??(u?.unit_system.temperature===fe.UNIT_F?1:.5),[u?.unit_system.temperature,r,v]);s.useEffect(()=>{a({value:c.attributes.temperature,low:c.attributes.target_temp_low,high:c.attributes.target_temp_high})},[c.attributes.temperature,c.attributes.target_temp_low,c.attributes.target_temp_high]);const h=i.supportsFeatureFromAttributes(c.attributes,fe.ClimateEntityFeature.TARGET_TEMPERATURE),y=i.supportsFeatureFromAttributes(c.attributes,fe.ClimateEntityFeature.TARGET_TEMPERATURE_RANGE),f=s.useCallback(N=>{if(N==="high"||N==="low"){c.service.setTemperature({serviceData:{target_temp_low:n.low,target_temp_high:n.high}});return}c.service.setTemperature({serviceData:{temperature:n.value}})},[n,c]),C=Fe.useDebouncedCallback(N=>f(N),1e3,{trailing:!0,leading:!0}),w=s.useCallback((N,T)=>{const V=N==="high"?p:m;let $=n[N]??V;$+=T,$=ie.clamp($,m,p),N==="high"&&n.low!=null&&($=ie.clamp($,n.low,p)),N==="low"&&n.high!=null&&($=ie.clamp($,m,n.high)),a(I=>({...I,[N]:$})),C(N)},[p,m,C,n]),E=s.useCallback(N=>{d(N)},[]),k=s.useCallback(()=>{if(c.state===i.UNAVAILABLE)return t.jsx("p",{className:"label disabled",children:c.state??""});if(!h&&!y)return t.jsx("p",{className:"label",children:c.state??""});const N=c.attributes.hvac_action,T=i.toReadableString(c.attributes.hvac_action);return t.jsx("p",{className:"label",children:N&&N!=="off"&&N!=="idle"?T:i.localize("target_temperature")})},[c.attributes.hvac_action,c.state,h,y]),x=s.useCallback((N,T)=>{a(V=>({...V,[T]:N})),d(T),f(T)},[f]),_=s.useCallback((N,T)=>{a(V=>({...V,[T]:N})),d(T)},[]),R=s.useCallback((N,T)=>{const V=we.colors.heat,$=we.colors.cool,I=T&&i.stateActive(c)?N==="high"?$[1]:V[1]:void 0;return t.jsxs("div",{className:"buttons",children:[t.jsx(ae,{style:{borderColor:I},icon:"mdi:minus",onClick:()=>w(N,-g)}),t.jsx(ae,{style:{borderColor:I},icon:"mdi:plus",onClick:()=>w(N,g)})]})},[w,g,c]),A=s.useCallback(N=>{const T=g.toString().split(".")?.[1]?.length??0,V={maximumFractionDigits:T,minimumFractionDigits:T};return t.jsx(fn.BigNumber,{value:N,unit:u?.unit_system.temperature,unitPosition:g===1?"bottom":"top",formatOptions:V})},[g,u]),D=s.useCallback(N=>!o||N==null?t.jsx("p",{className:"label",children:"Â "}):i.isOffState(c.state)?t.jsx("p",{className:"label disabled",children:c.state??""}):t.jsxs("p",{className:"label current",children:[t.jsx(be.Icon,{icon:"mdi:thermometer"}),t.jsx("span",{children:N??c.attributes.current_temperature})]}),[c.state,c.attributes.current_temperature,o]);function b(){const N=c.state,T=c.attributes.hvac_action,V=i.stateActive(c),$=we.colors[N],I=V?we.colors.heat[1]:we.colors.off,z=V?we.colors.cool[1]:we.colors.off;let M;if(T&&T!=="idle"&&T!=="off"&&V&&(M=we.colors[N]??we.colors[fe.CLIMATE_HVAC_ACTION_TO_MODE[T]]),h&&n.value!=null&&c.state!==i.UNAVAILABLE){const O=S.filter(P=>["heat","cool","heat_cool"].includes(P)),L=$a[O.length===1&&["off","auto"].includes(N)?O[1]:N];return t.jsxs("div",{className:"container",children:[t.jsx(Ze,{inactive:!V,mode:L,value:n.value,min:m,max:p,step:g,current:c.attributes.current_temperature,onChange:(P,J)=>{_(P,J)},onChangeApplied:(P,J)=>{x(P,J)},colors:{color:$?$[1]:void 0,lowColor:I?I[1]:void 0,highColor:z?z[1]:void 0}}),t.jsxs("div",{className:"info",children:[k(),A(n.value),D(c.attributes.current_temperature)]}),R("value")]})}return y&&n.low!=null&&n.high!=null&&c.state!==i.UNAVAILABLE?t.jsxs("div",{className:"container",children:[t.jsx(Ze,{inactive:!V,dual:!0,low:n.low,high:n.high,min:m,max:p,step:g,current:c.attributes.current_temperature,onChange:(O,L)=>{_(O,L)},onChangeApplied:(O,L)=>{x(O,L)},colors:{lowColor:I?I[1]:void 0,highColor:z?z[1]:void 0,color:M?M[1]:void 0}}),t.jsxs("div",{className:"info",children:[k(),t.jsxs("div",{className:"dual",children:[t.jsx("button",{onClick:()=>E("low"),className:`${l==="low"?"selected":""}`,children:A(n.low)}),t.jsx("button",{onClick:()=>E("high"),className:`${l==="high"?"selected":""}`,children:A(n.high)})]}),D(c.attributes.current_temperature)]}),R(l,!0)]}):t.jsxs("div",{className:"container",children:[t.jsx(Ze,{mode:"full",current:c.attributes.current_temperature,min:m,max:p,step:g,readonly:!0,disabled:!V}),t.jsxs("div",{className:"info",children:[k(),D(c.attributes.current_temperature)]})]})}return t.jsx(Fa,{children:b()})}function An({entity:e,targetTempStep:r,showCurrent:o=!1}){const n=i.useEntity(e),[a,l]=s.useState(n.attributes.humidity??null),d=i.useHass(D=>D.config),{target_temp_step:c,min_humidity:u=0,max_humidity:m=100}=n.attributes,p=s.useMemo(()=>r??c??(d?.unit_system.temperature===fe.UNIT_F?1:.5),[d?.unit_system.temperature,r,c]);s.useEffect(()=>{l(n.attributes.humidity??null)},[n.attributes.humidity]);const v=s.useCallback(D=>{D&&n.service.setHumidity({serviceData:{humidity:D}})},[n.service]),S=Fe.useDebouncedCallback(D=>v(D),1e3,{leading:!0,trailing:!0}),g=s.useCallback(D=>{isNaN(D)||(l(D),v(D))},[v]),h=s.useCallback(D=>{isNaN(D)||l(D)},[]),y=s.useCallback(D=>{let b=a??u;b+=D,b=ie.clamp(b,u,m),l(b),S(b)},[S,m,u,a]),f=s.useCallback(()=>n.state===i.UNAVAILABLE?t.jsx("p",{className:"label disabled",children:n.state??i.UNAVAILABLE}):t.jsx("p",{className:"label",children:"Target"}),[n.state]),C=s.useCallback(()=>t.jsxs("div",{className:"buttons",children:[t.jsx(ae,{icon:"mdi:minus",onClick:()=>y(-p)}),t.jsx(ae,{icon:"mdi:plus",onClick:()=>y(p)})]}),[y,p]),w=s.useCallback(D=>{const b={maximumFractionDigits:0};return t.jsx(fn.BigNumber,{value:D,unit:"%",unitPosition:"bottom",formatOptions:b})},[]),E=s.useCallback(D=>!o||D==null?t.jsx("p",{className:"label",children:"Â "}):t.jsxs("p",{className:"label",children:[t.jsx(be.Icon,{icon:"mdi:water-percent"}),t.jsx("span",{children:n.attributes.current_humidity??D})]}),[n.attributes.current_humidity,o]),k=i.supportsFeatureFromAttributes(n.attributes,fe.ClimateEntityFeature.TARGET_HUMIDITY),x=i.stateActive(n),_=x?we.colors.cool[1]:we.colors.off[1],R=a,A=n.attributes.current_humidity;return k&&R!=null&&n.state!==i.UNAVAILABLE?t.jsxs("div",{className:"container",children:[t.jsx(Ze,{inactive:!x,value:a??0,min:u,max:m,step:p,current:A,onChangeApplied:g,onChange:h,colors:{color:_}}),t.jsxs("div",{className:"info",children:[f()," ",w(R),E(n.attributes.current_humidity)]}),C()]}):t.jsxs("div",{className:"container${containerSizeClass}",children:[t.jsx(Ze,{current:n.attributes.current_humidity,min:u,max:m,step:p,disabled:!0}),t.jsxs("div",{className:"info",children:[f(),E(n.attributes.current_humidity)]})]})}function Ba(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const La=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1qwa2hl0"}:{target:"e1qwa2hl0",label:"Wrapper"})(process.env.NODE_ENV==="production"?{name:"hs0z6",styles:"color:var(--ha-500-contrast);width:100%;.controls{display:flex;flex-direction:column;justify-content:center;align-items:center;}.controls-scroll{display:flex;flex-direction:row;justify-content:flex-start;gap:24px;padding:0 24px;}"}:{name:"hs0z6",styles:"color:var(--ha-500-contrast);width:100%;.controls{display:flex;flex-direction:column;justify-content:center;align-items:center;}.controls-scroll{display:flex;flex-direction:row;justify-content:flex-start;gap:24px;padding:0 24px;}",toString:Ba});function Ha({entity:e,hvacModes:r,hvacModeLabels:o,hideCurrentTemperature:n,hideHvacModes:a,hideSwingModes:l,hideFanModes:d,hidePresetModes:c,entityStateChanged:u,cssStyles:m,className:p,targetTempStep:v,mainControl:S="temperature",...g}){const[h,y]=s.useState(S),f=i.useEntity(e),C=f.state===i.OFF,{hvac_action:w,preset_mode:E,fan_mode:k}=f.attributes,x=f.attributes.fan_modes,_=f.attributes.preset_modes,R=f.attributes.swing_modes,A=r??f.attributes.hvac_modes,D=i.useHass(P=>P.config),b=i.supportsFeatureFromAttributes(f.attributes,fe.ClimateEntityFeature.TARGET_HUMIDITY),N=i.supportsFeatureFromAttributes(f.attributes,fe.ClimateEntityFeature.FAN_MODE),T=i.supportsFeatureFromAttributes(f.attributes,fe.ClimateEntityFeature.PRESET_MODE),V=i.supportsFeatureFromAttributes(f.attributes,fe.ClimateEntityFeature.SWING_MODE);s.useEffect(()=>{if(u)return u(C?"Off":w??"unknown")},[w,u,C]),s.useEffect(()=>{y(S)},[S]);const{target_temp_step:$}=f.attributes,I=s.useMemo(()=>v??$??(D?.unit_system.temperature===fe.UNIT_F?1:.5),[D?.unit_system.temperature,v,$]),z=s.useCallback(P=>{f.service.setFanMode({serviceData:{fan_mode:P}})},[f.service]),M=s.useCallback(P=>{f.service.setHvacMode({serviceData:{hvac_mode:P}})},[f.service]),O=s.useCallback(P=>{f.service.setSwingMode({serviceData:{swing_mode:P}})},[f.service]),L=s.useCallback(P=>{P&&f.service.setPresetMode({serviceData:{preset_mode:P}})},[f.service]);return t.jsx(La,{...g,className:`climate-card-controls ${p}`,css:de.css(m??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalClimateControls;")),children:t.jsxs("div",{className:"controls",children:[h==="temperature"?t.jsx(In,{targetTempStep:I,entity:e,showCurrent:!n}):null,h==="humidity"?t.jsx(An,{targetTempStep:I,entity:e,showCurrent:!n}):null,b?t.jsxs(Ve,{cssStyles:`
              margin-bottom: 12px;
            `,children:[t.jsx(Ne,{active:h==="temperature",disabled:f.state===i.UNAVAILABLE,title:i.localize("temperature"),icon:"mdi:thermometer",onClick:()=>y("temperature")}),t.jsx(Ne,{active:h==="humidity",disabled:f.state===i.UNAVAILABLE,title:i.localize("humidity"),onClick:()=>y("humidity"),icon:"mdi:water-percent"})]}):null,t.jsxs("div",{className:"controls-scroll",children:[A&&!a&&t.jsx(Ke,{placement:"top",items:A.concat().sort(fe.compareClimateHvacModes).map(P=>({active:f.state===P,icon:fe.computeHvacModeIcon(P),label:o?.[P]??i.toReadableString(P),onClick:()=>{M(P)}})),children:t.jsx(ae,{icon:fe.computeHvacModeIcon(f.state),disabled:f.state===i.UNAVAILABLE,title:i.toReadableString(f.state)})}),T&&!c&&_&&t.jsx(Ke,{placement:"top",items:_.map(P=>({active:E===P,icon:fe.computePresetModeIcon(P),label:i.toReadableString(P),onClick:()=>{L(P)}})),children:t.jsx(ae,{icon:fe.computePresetModeIcon(E),disabled:f.state===i.UNAVAILABLE,title:i.toReadableString(f.attributes.preset_mode)})}),N&&!d&&x&&t.jsx(Ke,{placement:"top",items:x.map(P=>({active:f.attributes.fan_mode===P,icon:fe.computeFanModeIcon(P),label:i.toReadableString(P),onClick:()=>{z(P)}})),children:t.jsx(ae,{icon:fe.computeFanModeIcon(k),disabled:f.state===i.UNAVAILABLE,title:i.toReadableString(f.attributes.fan_mode)})}),V&&!l&&R&&t.jsx(Ke,{placement:"top",items:R.map(P=>({active:f.attributes.swing_mode===P,icon:fe.computeSwingModeIcon(P),label:i.toReadableString(P),onClick:()=>{O(P)}})),children:t.jsx(ae,{icon:fe.computeSwingModeIcon(f.attributes.swing_mode),disabled:f.state===i.UNAVAILABLE,title:i.toReadableString(f.attributes.swing_mode)})})]})]})})}function qa(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ClimateControls"}),children:t.jsx(Ha,{...e})})}const Wa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACKmSURBVHgBzV0NzCZVdT7nzrwvy6IICCygUFepqARQEKIIyp8ogugSay0qaooVm5rW1CBWsdtYYmONGks1UWtEbVpDoxZFqYiu/EQRIcYUI4qiwb8CIsiyu987M/f0/pxz77l35vvYX2DIMDN35p3vnec55znnnnvnXYRH8bIO/vD4eTs/BhCevsqYg1tDBzaNPWRucE1rcJ+mocfMEWYNIrQtLFrEjXOke9y5384N3Nni8OvG4C9m1Ny6enV7yytvxY3wKFsQHkXLcQ7wx8LsrBnQS2ZontsaeMKsAdM24FCOa4u8b+K+u4b3Me4jt8s53nfX9O6a21ug7zUwXLG0z+5ffuW3cTM8wssjTsDx8MD+PcxePQc4bwZwhAOrCcAp0Gd83DYJzAS6EJEIQQGdIilyzOfdLaRtyXnKjW7/P9ul+z97wm37PQCPwPKIEPAMuH+fBmanNtC83lnkixzwTQLWg9yWwKd9k61aW73/7NyDG4DNwCfwQXmFHJu8nSH+oQX82ryFfzvyWe01+DHs4GFaHlYC1sLGNQ70s9zDXuQe/lAHPGjgZ65xzpYeiDB87Lfa0hn8+cjqFcC6DcbnZF9/LhKIN7vY8sE9cP75gx8GiXpYCDgc6DEbYenNDq8L3EM/WR5cA+9XD3wiwKjzuIwHgD/GeMzyUhNRe0C4Rh37/WZ8Dbn2Hzam+cDBi+YzePOu84hdSsB6IPMJ2LzOyfrFDdBRor8SSFsGfs7bBLhRHqCAnzurb4SMyvJnFegNKqBhAmhQ10JNQCJ1cH/qOsDhkgOu3/3rsAuWXUbAQfOlp5mO3u8k+Uz/R/xDNgr4AvyJgJs8IAVcTwZmoGsSYELzIVt5CyoAQ+kJiYD0OUyfN2gBbG8R+8v6dtOFB2046B7YiYuBnbysX0/mj/ZYenXb0HVmDmca9xSm4dWlOma3uDa8DW2yzuK2mcXV8FofhzZ/3zZuwyrXtXyNtDfVtfxdwta3m3zcOAsxjuTwXX27IWeijgBjDeHwhqZvv/ObE3/zAtiJy071gEMPpT2HB7d8xA7wp2ix9d89rIN/hviQYvk66E5lO1n7fapJcVsF2xmuoPmQpUfOBUun0trFG4LVQ/YMvzXgvjQ5+afeHfVxSz0RLN5n2i3/uP+Gw3e4Y7fTCFh72NKRsLCXI+FT/fdGNp6wZQK8u7WNIqBRBHAMmCfZwSIGzKpOVjiGSnZgeSLCSuWxSM/Mg09lm4tZDuwhEpDAz/sI3ZVOl95ywLVPuwN2YNkpBBx6xIMvc+HqE2BxX/+9Pejeez0R4sXI+xIH5jrXbxnoRiw+k9Eq8FOnSwdfKDOa2rLTlpTWJyKwJEWRgAH8Xq0dE5DbEfpfWtv9yQE3HPMd2M5lhwl4yrGb3+gk8v1oaU/UoFP2giyl7AUme4F4wJzBD6A3Y8uflWWFMQEwEWB52xBfI2ATyw1VhDhx8aQ0RAFgEvlJBPTsFYU33I1Nd97+G46/CrZj2SECDjtxywVOXj4arB6U5LAHSJvRnsCWKFY/TxkQlqCbWpImrH+CgKT7mgjK+u/lJsWCEQEQwEeymQDblZ5geQu5HanvOrPlzCd867SrYRuX7SbgGac8eIH7uh8NVq8tnrIHpK3Nx7IvgXYeVkxBdz6RghaeoFNPJmCUegqoKNKjNJ6UHFX7bfiONgFLHmwhwPYTkpS3To56Q8OL973u9Gu2AcbtI+DwMxevw4E+FSy8sH7KVg8KdE0CxwOJBbs1nOV4D2ge2vrnZkxArf8BZMiZjQa/VWAXqz9vOfAK2A78QELwhCG1lUQsVLAeuoa2nLHvdeu2moRtJuCIdQ++zNj2087q90zgQy09xIBjIEIIMDomkLL4pkxH5xUBugIaLN5ksOdYWb4GHiakJuyTIwNHJATpqa3eek/oFCnKA6z2BPYa6O6iYTjlwBtecevW4LlNBDzrNYujYEE3uN09RHqSpVckZBmiSAJ7hbGYPCFYagCfcgyoAvBc13+qAOxBnRfyg9NpZ0VAo7YzytpPNoOeiBASxPrtUILPhPh4gRI3oL/DGnvcQRvOfche81YTcOxf0gF24+KrLst5prb8lPFABNvBy2BT9AAtQzD2hBbLYJzTUUUETqeiUXqQ6zmUAyxMA69XIWHG+2gHtvYx+IUXjOJCV8WHLpIFw5VrzE9fjhvW9yvh2sLWLERozl+8F2cO/HCsrB6y5hvA1G4U+CgPmbIMBxTHjHCdlAdM3oZ9k/d9zEjbtEbADcZA27D+h7qTrFSu8p3CcTIGSl12dFvyPcfUjbceTHf3Ibb7fkDoIcd2sJzm2XiOwvmQGZ3xf/aJf+8OLl4J2q3ygOMvWLzWIn066T0ouYEy7UyWTtW+hVE8kP3UOWuUN0ylo6kfgNzbJV+/H/d4YcIDbLb6lsGP+xRBHDpl6UO29qFLVp+yoqEvAnW8flH1G4JsbSTozzzo2r+6drsJOO5tm9fOenOLe9a9QIMPVaYDyxBA0rPMJDSUs6JGB+RWd8oy8DkOYAZd9wmg7HylnB6yxIwkiAkwDnzyACqgBWCqCPDthUQNKjA7AnI80Olp95NNe9Nxa7/41vum8F1Zglxlc9Wm/kMws3t5dFHpvQY7yQ5Ulg/Z3U29gvIEy3IhVUmjtkmKMMmOr1KK5Hj5CaSCFNDU35WtHX+HKD9uZ7BOdry8eC9Q0jOI/HA1EeI+JplhGfLkiWQFKWJpCiWLcO0fr/p99w7X8PYpiFf0gOdfvOlcY5t/R3VhDrjZC4w6brQHQAahkKBKi1HkwVRBuOExAAOjQZhRLxhUNkTTAbiprD9o/7CoLF6se4hyNLClD1mGcNDe0S2fMXE/wdWVOkvDCQde967vbjUBJ/0rPaa5Z3G92z0KlNXX4EtpAScsL+3DWJKKOKC8IGdCUpogliBMOf+oRwzT+h8Bx1jj4W0En+s9QwRRZIVEbhLgfJ6vy20cKwYFvCKjJKATWbrigFNgHa5fbzXOy0pQu3Hpze6Jjxx1tmCs94XlY2ntjT4HE1JAZZkifD4MjHBGhDFL8mCbURbEK+gVJ7If5LiDSY6CVFRyg7xPwDKCKtthCRJpQbdPlKUGzBCvRZYpVFIUM6Oz7/nGcJbbuQIeygNOvZQe32xZ3OSAWYshs1/OA0hJEGbJ8e384KVXRO0uwIeYmobPs1dEq0euE0ExKD81KJMLcKofYPO2zn5CyaGy+NL6xerF8vWxCsiDsvyhkiHbTfSWh2+sWTWcjV97/4MresCqoTvXznBtDXxh/WGLI5mJ+1jof5OkB8sYkc5hEZTDdXW/AKHoE7SIyQNa5QFafhoqg3DDcTKmjWzhHHhD/j+oPL+wXhstHnQ/YOCer/IAbgd0cQL7eD3q+3Wn3LV5OMHt/M+yHvDaT9Me9z24uNl1lw5LwZfG4BdZDyyTgUCWHy1FmRAYB2VOT1M9qC37AaEPUKWgxcA71TGAvcEKAVYFW7f2XT6uLD9ZeD/tFclzBp2uLlJ6Gs5R7CNIPHAB+fObzMZXr93wqS2THnD/YvFSnOFhRtJOVKmn0vJABJb6roloaHzcQAl8A8ukqNJfUOmojwuNTz9XiAHp76h7l9ZPQftx4N4uewH6jMcPrhS6zVruAWz52KeVaVDGVlteQzo65JQ23Dd7k/s7L3ff5wh3cNMkAWaOfz6ZdsJEAEZIw4xFyglQlgIqzygCs5YLgDI7ksAbwIcwY0GXI0wdhCtSdbkhlsEjAcQlhxhwRSIogOYroqTyeGh43/B+Dbi3ejOMScBBEaHuB72ZA64TAgoJWvd52t9s6e7EmPFFQmQrXsAPjBPSMyk7WFt/TAHjeY4hIThDDtxEyQukH1CUJ1QgnqsYUNT9Jf3kzMdLD6ger5YXGlRQTXKjpKfXUuSu61X/oO8qGVL9Bl+Ys5Ke6rR0uHfNyU/ez6ekhQfMaHG+e6K5MBMyIKTCC6JlYqH/EUxKBTktCW3lGa1co2UiESHWj4UXpGBcBeLcE8ayCCf3snzfYOQUCCBJO3Ww5cHsIDGNyI2N+z7YNl56bLZ0ozzBTHhCsP5eBXVuo5SS7nPXN2891e1cXRBgZuYcCbgAOdPRGZDEhgw6FtZslMU3Kka0ipApKarjQREbvJXrEoVkPwarPkApPaL/aDjDsbnaGbIaLjVo4BNglkE2ObOJAPM2lSCGWMrQ4GOf23k/naMoTy6WnFcQcO6X79sbG3gmcOAd9X4RyvKDsjwtQU21P1ppAjCo9Btg1EM2BQEY/74OxFXgNUXaKWkmQSwtx85WCL5UdqwCWUH7xQtiZwwbbvf3Mgrw5AEZ+BQDQjoq5W0mD3v+e/QiABWEm1Wrz2GjjpkPTHS+EMoUdALwURsH6RbGQVkT0RKUGZLsS0aEORj7VU8prwnUHoA25vrB6g1LkFinSI3IiUhO8Ig+l5YNW72J0hKB7yPossW+AF7ICB4AYYCGwY/Hbuhyv7tPPv2YTMDMvCSYPWT5AQX8KP+HbKkCglnBA1b2CoTxQErsHQsJYWugGKQxyxAgw51mkKyH2AOkmhmtWrKamF4y8DrbMSxZwQqEhBjMoxcICUOWKiVNwQOkLBHAt0VK6u58aiIAZ/Zo9EhT1nlQej9JgNL4AuSUnua6jH9lqNHBkj/bjsiAXNOpYoIEYVP0iMcEtCw96D7otT9avlg9Aw2qnpNWldsbBrER6bDZAwx34jTQvuerLD8F3nDc5f2YigLHmRcFAt78A9q7W+oPSbm/XjGmhciZD9KU/FDIjEbxQOfogMt7AKggTWV8aFX/ILSbWLaOBCAPR0KV/Xj5YYv3FtyzhheSwxZuYgD2Y8Ikx2lrM9CGr6k0Xkig4rgvZCgSomVIOmXdEYGAAftjzQxN0QGDHHz9GK4OxAZrEnBSZrY2MLeKsJbG3lDUk6RzJp0yGBMQE5o80CKyE3u2VsmODKqwy4jOC3AsO9GD2PKlXTpaRrKrmoSUckKZilqVktr9AgEt0NNphiPrBxjLj95vmJRa/0deQONrUruSEC0n0l+QtFW2gQSWodbAKAOK0uMDLzH4bPFqFEs0P+XuepWp3DiUq/RqRX5E/0FZeyo7VNavsyDo83m3DQTgKjwEqbJ+VQOaIqGpSEh9AFiekLF0yedxeS8hJVHKO1oOwvK2Y658UiwxyAwHDq5ApdQA1nKTt6Lz6DtTRslK0v5o1UWej0MpS8n6/dopT1Ae4dZIQENPMMgeIH0ACcYAy1dCNahCAkx5B07LUgrWrP8TJLTVNgX9lIZi7vz5WOUzHx5oiQHX5qyHssyE3q2kj6aUlRhQh5y/1yCLlo8svi/3CzLUfagioJ3jExPw7AbF4DvHAYOUtqFcgBOSo3rHpvKOKU/QkmRgXNuXbW7HVDuSgfrkATy/R3Q/WL3N8hItugQ7gQ914Kwzmy62Qd3WJeDDOVAyI9Yv11J9jglwJYg1Hv1c/4kEgLJ8ZEuOgGIuSWAtNTjtJTgtQ0XqWpzjEgdSAj57Aeb4Ip/z2Cfd5wBrYxoZOmOcihadKtQWPIwtWAMIEyRBJTU4terrqmDsPDMQ0Mzg8cA1HwAY9YKxAnEK+NqaGyUtzXLAJ+/AkbwlgHX6qqy9RSVF/jvJ7LYCfMua32cNl84RA4vOMtP5cE2n9kWvlRWPLHtCfpSFl/s1aUyAK1CvFotPJFSdsCxFmYw6MNcgFrEDdRuOzjcTUjUqfWBJdhwNwzS/h1JKGS29kBCjtborLT4BVwEMlfTAkO83CrAiPxr0qfuLF8ROX/SANozoLWv9NbioA64GKQVunCahAhMnSKr/Xu19SQY51oR3EvzMZrC5JsNAjPS4kJsOSovt8vkEag2u0nmsr+smSFR/N+b9oEfckgdE14WUAYHeKmIKkhDGkoXja6FqK+6D1bUQyQttSKMz8hnga8KoVnibkV8rkiKQzSv5DhmPhMU1tnlrCb3jIX4G5VpfvvDneCtDdPFY7fNcmnwd/w39eijIaiHNstNtINVQ7JfcQ+w+QkqRUPERWogvIj5DY7xGC01u5T4xFaDqr6VHwfi1/ZmBrR8kafDdXysdrUiKfJDUX0P1LcNk+nCL/Bf93wglsVDA4+uEdG6vrSm2YyjXAO9r3cZB2iFPL7LxmbkYt9joLti9eOIVAUQFO0IJfelG5aNT+iwoKEhdKRAttwoBHG7dQxuWxZjbewJIrD3k/ixRlqLshhtRIikcA1/Dr1gRGzCfKp7Ep+EU+kmUzscvnklPn00Px+2afoaojZ/tfudI2y/hnhgeW6JAj6pNfb0RYJq0khANvrZNSt/ZImaD8SGw+DrxwKekFqMcIZeNMQ2eR1kI4HMRLgBvGWwBjf9eAM63t8ocrPJ1IY+/b2zTT5f/p68vrLkCIHoA9b9xf/1p9TXC0jLOMLonVKDWxxroaM1xHLm2cB9cA6hAxZSo4NXhO1n2gia3u2sao0arpIPFqWgsupXAk6XsDXwuxA7+8sHKW0pAJw8CyhZvobR8JiR7jkaIKqKYAJeu3SlBoViW0X8Npv4TJfBYeUG+i0hOJoQU+FlmstToL0/c2/a/5GAjAf5hfe/cX6NGtYBnQoRhRRtL0lqikOQ4Axqtnz3GMgkFuJk0aU/Pl67LT5mPM0BatKMEwdJvBe8IU63rpedgAfI4CIvn+aBTW7eklXVbuY1zSyXoCvg9g49BnjwBJnlI9BL/c2XKC9ywYrT+SEbRQSNt8UKGEKFlC/K1Kp5A1Z6CvqDi9xvI5i7HfOi+frgmEGCp+7kU46ZAn5Kg2gsISrBpGdkriBiRRCrLIcV2BDfpsu8LuKeJ3mJA5jNHn3DkpdoPz3bgkkSo27ds9TIuYG2SI1TekIIsEwRWBWrxBoIkWblNkZO8xW0ayiAwESgEOIu4NdYmMlKktF97hWi4tvlRhoNxaynn+gJs7REmAR9zBFT3xkRCFq14VYQ6Wj8Havegg08dgaeZB7npQ/kYEwkMvJBh8qwH6SMk7xDPaC3rv03xgxIZljOeygtUCpxkh08nL4jPGCdmPdDSLXstup7CvNcaYJ0FkQIxy0+2zfLvA8LYMyovGIhZSmfyXxvUXUvtd2pPRmVJsbrjQbEhQMeALNMJZTqJjP2iIgNtJiAcywCOrcHm76ckJ4JqVQor3xXUeeUVQAkrlok7AwEfwcM3vmPppp+73UMBoEzlFTRYbTM0yV6LNrFqYp0W60bISWlJCKWMRvcSiN0ZA+AmdMI8EYZTUBuOKcUClOjQ2DxroQmvjuagzESkeT9WBWiZE2S5Z50IsZkQJU2alHBdozxILJ+oBLMJmN2aZkUQLja4Zzk05beqFKA7XDRJQikxhdyMdB4qMijPwAgbm75nwxSZUDPBBC2l4IspS5J7DXxViAWhc8aWb/sUmDP4LEVhcEaui2T4soPPiGK84FIFlf2JYBQ2xwUQi/c7VgOQJQmbfI0zqG/kqYlmuMqxdz6MFqXtKj+S1vrKtGLe1hkOABQE5E/LYlNbtOksPVaBP4BMm8yZUCjJoA2zbsJVSYr6NJ8HZCYEZ0USF5Ctn6yaPaH2kwc0xEGcwiwCiQfJIwyns3X/QI45A4LWfjERcO9d9311n31XL9wDzZX6JFhwREvWf1sQk3N6/TmRF1sdl8DnOxheG6bNhj0hANgTgO09fnLgb4TJC2JATlKU4oEa/21s6jPEYptMQ2SZEikK10owZmJ0EJe4YFXK2uj0NUsRO8DP1lx2+08TAR876OxNFy2+eqPbPVHDkYlA9X8N11jPtfSI1WtSAHQuJdkOpZSzXg0rfAQdSy/gGD6A9JwpZEQeeIkHISDLBCtvyX6KeTNAMatZOnCQg3YA2FhOXSnFB6glyCiwddAOD00x85Ete4Ql8y3/tMXsaDt0lxmDJ/IEOQU+AU6SooHHigT2EIrxJCu7yJHsU/obxF1LER4P80xJT858sgQZfrYYjMXLbCIj0aWmnlAbgY4B2qYZESCTsWQkjXI8gEYKfCoY+8+2Ki54Mhqt+ZTTVMuG6IGIceCjIwJWr3rs57b091/qrloFCRgorL5eyuAKoyt9iWAorgbQRQqs7+Kth8sK4XujBF2x+jIAi/xJwU4DH0mMvtOkqYVqXmcTPaCYpFVlR6nELfFBT+YKFi+ZUrkG4holP6yTMQjDbQd+/MfhDRmjwVqPJ28ku/RfxCM8kyP81UppXfBatlnet7zv14G3ltuHcC5uw0pxS6iv45X0cT8+79rC/ann/bj190Ke66NnvKHITxOzIRQPUOdCR46nW8d9inElHBMfU3HsrRx5oIZkah/PKkCDnxPMR++INab/rNPQ15Q2W+6xbYP2kmhtWoZisLFSl0VI1i/XZ42P9zGc8eSOnYRhESRUq+EUFNnqVR2JvWBQsWAIsUC0nmfHWXUs8mNi6poKdg2XJ6TdP8tgeaQsxwSQ0TTxhuAhbPVJdtzawKYe7X8sS8C8nd2wpd/0HfeHnoNbRUHq2ykpyi2GckywijAqqUr/SW5jgt6bEfiUsiAtQzEODAhKgrIcWUWZ4ankMktOesfEc/1RMiVOS3WKKi9w+OnXcaIv95QT8CJX/hhYflRAjlP7vnTQP//4R4KhqQlYj6/c2Nj+A8ByIlJEEzJEPAAdz4vkLAr5CdKDWopEjhaF/OTjpSQlcl/L30Ekh6jn49w+qPN6P0uVSBH3isUbJDg33GnjjCnJD1t+khdJVY1IDnsBz41EoyWJ8uyF0Iab+sZcqvGefFN+Nm+utt3SLe6jR0sBDNhWs61nH4B0VnKQzK7lwBovJ1V8o8oXYqvhMoP0LyQAS/lBB19/r9wZiwU5L3kiQWEbinSWe8nsCSIfPEVRyhWphE0xCMdAyl6SiCo7aVK8AxV0pSQhk1ll7MB5wjcP/Icf3gCXZKzNFAHr8Q33OUu8VE+7oCL4aquXANwp6+/UcT4XrVOsfuwJQ/HZbN3igUWg9UGWchuJpVP2gEF9vtyy3JjcB8AUlMXCxUOkc0aQ3/yzKVjrV3JQe4FPT9VkVqemD2ALH8SqfLDsr6Xc94M9Prv3kX84zxnUSeIFpD6bK0PR+sfxIO5JapqtMgdg+S8ruyi1jdae4gBCHYSD9fNLIzoAj7feC2xIh62KJKlaKsOYTY4HMUDnXnEs0sm1uV8wsnxv9a3N2h/IgBgPEC7f920/vKbG2SxHwMee/abO9RjfA9hZfqlMWX+0eii8oDxnK2su0lGqU8dFYemxpDYoLxPL1aln/InI8j6DsvSuigl+O4Rr5P6YUswqLVUzqCVOoNJ7TK9vau1nL2C9h/K9qY2tse+dwrmBFZbrL7nmjhMufsETnK0dA4X65pldsT8qNljO+pJj1OeKt0ciEPIZqf8YIChK0zLQAhNbLJNT+XuI8t2oOI/qVxBRJkuRPJN6Lv3OWHqeqP/FPg0Kl9jbiipj0+C/+/4X7/3Xt35pCuOVfzPOLWax5d12bs5wUBxMkGtBpSBJQIXJbe6RxoBksEwVAfJIlwRdo8vOoe6PHKLHKaj0hGWs2VZyJ73hspfMwpbyfh4hM/ziBRfwJCaQKYtvqWStakCQ5mdyv6cJm2/++pf2Q8vhi7AVy0XdRae77/sFh95q0fu8rQdSxgMrWFm00W1p+nnjrMHwNPQ44ht/CZePEdUxpOnq8u+95PcJ4shZ2EcKP1PccltY0cY2kv2YzVDvLL0bwlRFcltwx/7lvvA7EW5re24rzvFn+twGXXwpEMJ5esB0cPTjzr/l9uWwXVGCZLn+Pdf/9HkXP2dvxP65kMagsrtPyY7s05QMqTdGoi1Hz0BOU3FChsLLIZBLzUZLC1IpP3KukqdUSeLXl1DLlUiNSIoqR4Na8+wJlpjwFo4+lupusO637PX6W76+ErYPKUGy7D7/xTs39wcc7W58SjUEPylHpMADKCVHRr4i6JwfoY4ARn3CFJmPVvRUhCNIU9mz9ACPEVMxTpALdrbYYjGpiztjlMcFdP0/zSeSXm9L/NiUyw8AH97zVbd8Al6zMq4GtnJZj5cvmnbzucb0v8h9A73VGVHdT+iKczlDij+ARJQzkzpfT73YkPOr42XX8TVUnBvUvfKK0slirY+94iH1elOPl3vA5a+KSOEN+Fq4YXgcvLvO+aeWrYoBenk7veko7Pur3a33K8vL2dpxYl+kASDHhvjyntd3w+9+xf3443uY4kDD2t9gqf85DkDxexStxICk+5DiQLHleCDHQYZY24PGhwxc6b06F7R+kGt4645tZ39GHZ6219nfvWNr8NxmAvxyUfe6010R6soY/5YjoQRbtwspDWc7JQFMioCuCGhRfhURi/fGNAk6GOcthZ9KiG/XCOgQAnD8CQUK++GXSgYNNgMuIMu5Ts75dgqB2QVcf829fW9P3fv0m74PW7lsFwF+uXDLn73QNPCV+Jxlj1gDDRxkAeqMKIJseFt4grb6ar8mQb892SJV2ZDyBiSVISlPQO0ZNryBKZadrL0+DhZPKtsJ6/1uzOE5ex5/849gG5btJiCQ0L3qVFcm+4rLg+d6ZEsDPpakmPObtNbAlySUBAATgEpusHpnTIMfCTABaCjS0SkC5Now+pWBZTkSr1DABxki7xH3th09b7fjv71N4O8wAX65qHvF6S7IfcZF0v31+AGuSEYEMcIv1o/sEVn7jdJ6TUKDuQ8w+VJ36luU8SCTU3kC6tgQZYpYcmAh0sPgs9bLPvb0s8XQvfhxz7rxJ7Adyw4T4Jd30tnP7ju63MnNk8ox3jER4cU6AFZ/TNv4a+iY94MnQCVFIjWQjvNL3HKe1D9dSKUcjQgAFR+0NPkER0AeSqsvvIBu7B+Elz726Ovuhu1cdgoBfnn75tMOgbb9oPOEc+KNp0hAkDcoUUmQgG4QJ+Ung509IFu4eoEbdEZElWeQ8owcH6Q9X59J05YegzDvd3bhkpCP70bmbbh2wxbYgWWnEeCX9XTSqiW724V26N8NEQeASno0CSbJEHAcAOUBWOyXVp69QP+cgf6pgzoWNMq6Wx60KeVpTEAMyMQBOFn971xZ4j27HXjth7cmz3+oZacSIMuFixc+23XzP+mAP0J/R0zyg8kDhIzaA4wCW3tAigs4HYRLT6CqvcyIsnxxfKDcZ5DPhFeXQt7vRggGe+NssH+B+2z4X9hJy1b3hLdled/86u/tPnvwBFdj+bD/YWbiMq3MWM3zIqxqs9Uaf2TJFvvSW/a92TiXx6oavx2tNrXre1iyMPqP4tVU/EUe3ULYaI3929meh75gZ4Lvl13iAXp55+LE43rCv3N/6Iz4i7x5Qq1RHpF/nCNbf+kFMBELpr0gSpEOvFNeACoO6DS2OO7d9rIGFv+EuOF22AXLLifAL+tpvdm0uOYcJzFvdc93HIZ/KriWI5EheEgCin2ckJ5wbjkCGHTVXpAT2/0o4hdWAXxghlffALtweVgIkMUF6XZp6E5H2/yNA/pkpPhGTs6KIhCm8IKy9CBtmoz0U2cwRUZ5fuQNJRFdQ/jJxsBn7ofu5rW4YxnO1iwPKwGyuJ4zvqs7+Rinr+eZgdY5vJ+YfogDhIBs6fV+mRFpL5jumI29hJKXMAG/dEXNf5mZ4YoDAW53ctPDw7Q8IgToZb3vAy09/zSXgrzREfA8F/MOXJ6ALEui9WVaOp2SiheU7XjnDPC/5wYvewpe/T14hJZHnIB6uWRx0jOdh6xrDZ3gwHqGA3xNEycVj6SniAcryBCD/quZge87ibkKzPzqY/Gq2+BRsDzqCKiX92086YB2N3NkS/apzjEOcCWCfWdonuSGKJ/ivGWNiw+rfdB0HasHHBG/dcW6H7sxtF/NsLnbSc2vHei3bYLVPzgLr/w9PAqX/we9xNN4G1Km7wAAAABJRU5ErkJggg==";function xr(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Tn=40,Ua=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"exy3c405"}:{target:"exy3c405",label:"ButtonBar"})(process.env.NODE_ENV==="production"?{name:"1lot0rj",styles:"position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px"}:{name:"1lot0rj",styles:"position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px",toString:xr}),Lr=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"exy3c404"}:{target:"exy3c404",label:"Separator"})(process.env.NODE_ENV==="production"?{name:"amtg61",styles:"background-color:rgba(255, 255, 255, 0.1);width:1px;height:40px"}:{name:"amtg61",styles:"background-color:rgba(255, 255, 255, 0.1);width:1px;height:40px",toString:xr}),Ga=j.createStyled(ae,process.env.NODE_ENV==="production"?{target:"exy3c403"}:{target:"exy3c403",label:"FabCardColor"})('position:relative;.icon{background-color:transparent;transition:background var(--ha-transition-duration) var(--ha-easing);}&:after{content:"";position:absolute;inset:0px;border-radius:50%;border:0px;background-image:url(',Wa,");background-size:101%;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:inset,border;pointer-events:none;}",e=>e.active&&`
    .icon {
      background-color: white;
      transition: background var(--ha-transition-duration) var(--ha-easing);
    }
    &:after {
      inset: 2px;
      border: 2px solid var(--ha-S200);
    }
  `," svg{display:none;}"),Ya=j.createStyled(ae,process.env.NODE_ENV==="production"?{target:"exy3c402"}:{target:"exy3c402",label:"FabCardTemp"})('position:relative;.icon{background-color:transparent;transition:background var(--ha-transition-duration) var(--ha-easing);}&:after{content:"";position:absolute;inset:0px;border-radius:50%;border:0px;pointer-events:none;background:linear-gradient(0deg, rgb(166, 209, 255) 0%, rgb(255, 255, 255) 50%, rgb(255, 160, 0) 100%);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:inset,border;}',e=>e.active&&`
    .icon {
      background-color: white;
    }
    &:after {
      inset: 2px;
      border: 2px solid var(--ha-S200);
    }
  `," svg{display:none;}");function Xa({entity:e,onStateChange:r,style:o,showFavoriteColors:n=!0,favoriteColors:a,...l}){const[d,c]=s.useState("brightness"),u=i.useEntity(e),m=i.useLightBrightness(u),p=at(),v=i.isUnavailableState(u.state),S=i.useHass(b=>b.formatter),g=s.useMemo(()=>u.state===i.OFF?i.localize("off"):u.state===i.ON?`${m}${i.DOMAIN_ATTRIBUTES_UNITS.light.brightness}`:i.localize("unavailable"),[m,u.state]);s.useEffect(()=>{r&&r(g)},[g,r]);const h=i.lightSupportsColorMode(u,i.LIGHT_COLOR_MODES.COLOR_TEMP),y=i.lightSupportsColor(u),f=i.lightSupportsBrightness(u),C=i.lightSupportsColorMode(u,i.LIGHT_COLOR_MODES.WHITE),w=!!(u?.attributes?.effect_list&&u.attributes.effect_list.length>0),E=i.lightSupportsFavoriteColors(u),k=s.useMemo(()=>E?a&&a.length>0?a:i.computeDefaultFavoriteColors(u):[],[E,a,u]),x=i.getLightCurrentModeRgbColor(u),_=u.attributes.color_temp_kelvin,R=s.useCallback(b=>"color_temp_kelvin"in b?b.color_temp_kelvin===_:"rgb_color"in b&&x?b.rgb_color.every((T,V)=>T===x[V]):!1,[_,x]),A=s.useCallback(b=>{const N={};"hs_color"in b&&(N.hs_color=b.hs_color),"color_temp_kelvin"in b&&(N.color_temp_kelvin=b.color_temp_kelvin),"rgb_color"in b&&(N.rgb_color=b.rgb_color),"rgbw_color"in b&&(N.rgbw_color=b.rgbw_color),"rgbww_color"in b&&(N.rgbww_color=b.rgbww_color),u.service.turnOn({serviceData:N})},[u.service]),D=s.useCallback(b=>{u.service.turnOn({serviceData:{effect:b}})},[u.service]);return t.jsxs(ee.Column,{fullHeight:!0,fullWidth:!0,wrap:"nowrap",justifyContent:p.xxs?"flex-start":"center",style:{padding:p.xxs?"1rem":"0",...o},...l,children:[t.jsxs(ee.Column,{children:[!f&&t.jsx(qn,{disabled:v,reversed:!0,checked:u.state===i.ON,onChange:()=>{u.service.toggle()}}),(h||y||f)&&t.jsxs(t.Fragment,{children:[f&&d==="brightness"&&t.jsx(At,{sliderColor:u.state===i.ON?u.custom.color:void 0,min:1,max:100,thickness:p.xxs?90:100,clampValueToBaseline:!i.isOffState(u.state),borderRadius:24,value:m,disabled:v,onChange:b=>{r&&r(`${Math.round(b)}%`)},onChangeApplied:b=>{u.service.turnOn({serviceData:{brightness_pct:b}}),r&&r(`${Math.round(b)}%`)}}),y&&d==="color"&&t.jsx(ao,{entity:e}),h&&d==="color_temp"&&t.jsx(so,{entity:e,disabled:v||u.state===i.OFF,onChange:b=>{b===null?r&&r(`${g}`):r&&r(`${b}K`)},onChangeApplied:()=>{r&&r(`${g}`)}})]})]}),(h||y||f)&&t.jsxs(Ua,{children:[f&&t.jsx(me,{title:u.state===i.OFF?i.localize("turn_on"):i.localize("turn_off"),children:t.jsx(ae,{icon:"mdi:power",onClick:()=>{u.service.toggle()}})}),(y||h)&&f&&t.jsx(Lr,{}),(y||h)&&f&&t.jsx(me,{title:i.localize("color_brightness"),children:t.jsx(ae,{icon:"mdi:brightness-6",active:d==="brightness",onClick:()=>c("brightness")},`${e}-brightness`)}),y&&t.jsx(me,{title:i.localize("color"),children:t.jsx(Ga,{active:d==="color",onClick:()=>c("color")},`${e}-color`)}),h&&t.jsx(me,{title:i.localize("color_temperature"),children:t.jsx(Ya,{active:d==="color_temp",onClick:()=>c("color_temp")},`${e}-color-temp`)}),C&&t.jsxs(t.Fragment,{children:[t.jsx(Lr,{}),t.jsx(me,{title:i.localize("set_white"),children:t.jsx(ae,{icon:"mdi:file-word-box",onClick:()=>{u.service.turnOn({serviceData:{white:!0}})}},`${e}-white`)})]}),w&&u.attributes.effect_list&&t.jsx(Ke,{placement:"top",items:u.attributes.effect_list.map(b=>({active:u.attributes.effect===b,label:i.toReadableString(b),onClick:()=>{D(b)}})),children:t.jsx(me,{title:i.localize("effect"),children:t.jsx(ae,{icon:"mdi:stars"},`${e}-effects`)})})]}),n&&E&&k.length>0&&t.jsx(Ja,{children:k.map((b,N)=>{const[T,V,$]=Ka(u.attributes,b),I=`rgb(${T}, ${V}, ${$})`,z=R(b),O=i.luminosity([T,V,$])>.8?"rgb(33,33,33)":"white",L=J=>"#"+J.map(H=>Math.min(255,Math.max(0,Math.round(H)))).map(H=>H.toString(16).padStart(2,"0")).join("");let P;return"color_temp_kelvin"in b?i.lightSupportsColorMode(u,i.LIGHT_COLOR_MODES.COLOR_TEMP)?P=S.attributeValue({...u,attributes:{...u.attributes,color_temp_kelvin:b.color_temp_kelvin}},"color_temp_kelvin"):P=L([T,V,$]):P=L([T,V,$]),t.jsx(me,{title:P,children:t.jsx(Za,{"data-label":P,size:Tn,icon:z?"mdi:check-circle-outline":null,iconProps:{style:{color:O}},noIcon:!z,active:z,style:{backgroundColor:I,color:O},onClick:()=>A(b)})},`fav-${N}`)})})]})}function Qa(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"LightControls"}),children:t.jsx(Xa,{...e})})}function Ka(e,r){if(r){if("hs_color"in r)return i.hs2rgb([r.hs_color[0],r.hs_color[1]/100]);if("color_temp_kelvin"in r)return i.temperature2rgb(r.color_temp_kelvin);if("rgb_color"in r)return r.rgb_color;if("rgbw_color"in r)return i.rgbw2rgb(r.rgbw_color);if("rgbww_color"in r)return i.rgbww2rgb(r.rgbww_color,e.min_color_temp_kelvin,e.max_color_temp_kelvin)}return[255,255,255]}const Ja=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"exy3c401"}:{target:"exy3c401",label:"FavoritesWrapper"})("--favorite-swatch-size:",Tn,"px;--favorite-swatch-gap:8px;margin-top:16px;display:grid;width:100%;gap:var(--favorite-swatch-gap);grid-template-columns:repeat(4, var(--favorite-swatch-size));justify-content:center;align-items:center;justify-items:center;"),Za=j.createStyled(ae,process.env.NODE_ENV==="production"?{target:"exy3c400"}:{target:"exy3c400",label:"FavoriteFabCard"})(process.env.NODE_ENV==="production"?{name:"1d8cn36",styles:"position:relative;box-sizing:border-box;width:var(--favorite-swatch-size);height:var(--favorite-swatch-size);.icon{opacity:0;}&:hover{transform:scale(0.97);}"}:{name:"1d8cn36",styles:"position:relative;box-sizing:border-box;width:var(--favorite-swatch-size);height:var(--favorite-swatch-size);.icon{opacity:0;}&:hover{transform:scale(0.97);}",toString:xr}),Hr=["1","2","3","4","5","6","7","8","9","","0","clear"],ei=Hr.reduce((e,r,o)=>(o%3===0&&e.push(Hr.slice(o,o+3)),e),[]),ti="number",ri=de.keyframes`
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,ni=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1n0bd6p1"}:{target:"e1n0bd6p1",label:"Wrapper"})("width:100%;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;.card-header{display:flex;justify-content:space-between;align-items:center;width:100%;box-sizing:border-box;}.loading-wrapper{position:absolute;top:0;bottom:0;overflow:hidden;z-index:2;}.loading-indicator{position:absolute;inset:0;animation:",ri,` 1s infinite;display:flex;justify-content:center;align-items:center;background-color:var(--ha-300-a1);}.keypad{.keypad-buttons{z-index:1;}&:before{content:"";position:absolute;top:-10%;left:-10%;right:-10%;bottom:-10%;display:block;opacity:0.25;z-index:0;pointer-events:none;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background;background:radial-gradient(
        var(--ha-alarm-controls-size) at var(--ha-alarm-controls-position),
        var(--ha-alarm-controls-color, transparent) 0%,
        transparent 100%
      );}}.actions{margin:0;display:flex;flex-wrap:wrap;justify-content:center;width:100%;}`),_t=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1n0bd6p0"}:{target:"e1n0bd6p0",label:"ControlPanelSize"})(e=>`
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: auto;
      width: 100%;
      direction: ltr;
      gap: ${e.buttonGap};
      position: relative;
      max-width: calc(${e.buttonSize}px * 3 + ${e.buttonGap} * 2);
      > * {
        width: 100%;
      }
      .button-group-parent:not(.vertical) {
        max-width: none;
        min-width: 0;
        width: 100%;
        gap: ${e.buttonGap};
      }
    `,";");function oi({entity:e,states:r,className:o,cssStyles:n,defaultCode:a,buttonSize:l=80,buttonGap:d="0.5rem",hideCodeInput:c=!1,hideKeypad:u=!1,customActionColor:m,labelMap:p,slots:v,...S}){const g=s.useRef(null),[h,y]=s.useState(a?`${a}`:""),f=i.useEntity(e),C=i.useHass(D=>D.globalComponentStyles),w=r||$e.filterSupportedAlarmStates(f,$e.DEFAULT_STATES),E=D=>{y(D==="clear"?"":h+D)},k=D=>{f.service[ie.snakeCase(`alarm_${D}`)]({serviceData:{code:h}}),a||y("")};s.useEffect(()=>{a&&y(`${a}`)},[a]),s.useEffect(()=>{g.current&&(g.current.style.setProperty("--ha-alarm-controls-position","50% 50%"),g.current.style.setProperty("--ha-alarm-controls-size","50% 50%"),g.current.style.setProperty("--ha-alarm-controls-color",$e._getActionColor(f.state,m)))},[f.state,m]);const x=()=>f.state==="triggered"?i.localize("pending"):f.state.includes("custom_bypass")?i.localize("custom_bypass"):f.state.includes("armed_")?i.localize("armed"):i.localize(f.state),_=["pending","triggered","arming"].includes(f.state),R=f.attributes.code_format===ti&&!a&&!u,A=D=>v?.find(b=>b.position===D)?.children??null;return t.jsxs(ni,{ref:g,className:`alarm-control-panel ${_?"is-loading":""} ${o??""}`,cssStyles:`
          ${C.alarmCard??""}
          ${n??""}
        `,...S,children:[A("1"),t.jsx(_t,{className:"actions-wrapper",buttonSize:l,buttonGap:d,children:t.jsx(rt,{id:"armActions",className:"actions",orientation:"horizontal",thickness:l,gap:d,maintainAspectRatio:!1,children:(f.state==="disarmed"?w:["disarm"]).map(D=>t.jsx(Re,{icon:D in $e.ALARM_MODE_STATE_MAP?$e.ALARM_MODES[$e.ALARM_MODE_STATE_MAP[D]].icon:"",iconProps:{fontSize:"30px",style:{marginBottom:"6px"}},title:h?$e._getActionLabel(D,p):i.localize("enter_code"),placement:"top",style:{flexDirection:"column",fontSize:"14px",aspectRatio:"unset"},disabled:!h||_,onClick:()=>k(D),children:$e._getActionLabel(D,p)},D))})}),A("2"),!f.attributes.code_format||a||c?null:t.jsx(_t,{className:"actions-wrapper-input",buttonSize:l,buttonGap:d,children:t.jsx(fo.TextField,{value:h,type:"password",label:i.localize("code"),id:"alarmCode",disabled:_})}),A("3"),R?t.jsx(_t,{className:"keypad",buttonSize:l,buttonGap:d,children:ei.map((D,b)=>t.jsx(rt,{orientation:"horizontal",gap:d,thickness:l,className:"keypad-buttons",children:D.map((N,T)=>t.jsx(Re,{className:`keypad-button keypad-button-${N===""?"empty":N} ${N!=="clear"?"numberkey":""}`,disabled:_||N==="",disableScaleEffect:N==="",onClick:()=>{E(N)},style:{opacity:N===""?.2:1,zIndex:N===""?-1:void 0,cursor:N===""?"default":"pointer"},children:t.jsx("span",{children:N==="clear"?i.localize("clear"):N})},`${b}-${T}`))},b))}):null,_&&t.jsx(t.Fragment,{children:t.jsx(_t,{className:"loading-wrapper",buttonSize:l,buttonGap:d,children:t.jsx("div",{className:"loading-indicator",children:t.jsx("span",{children:x()})})})}),A("4")]})}function si(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"AlarmControls"}),children:t.jsx(oi,{...e})})}function zn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ai=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eol4iox1"}:{target:"eol4iox1",label:"ButtonBar"})(process.env.NODE_ENV==="production"?{name:"1lot0rj",styles:"position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px"}:{name:"1lot0rj",styles:"position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px",toString:zn}),jt=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"eol4iox0"}:{target:"eol4iox0",label:"Label"})(process.env.NODE_ENV==="production"?{name:"11sbb4p",styles:"font-size:0.8rem;margin-top:0.5rem;text-transform:uppercase"}:{name:"11sbb4p",styles:"font-size:0.8rem;margin-top:0.5rem;text-transform:uppercase",toString:zn});function ut(e,r){const n=!i.isUnavailableState(e.state)&&e.state!=="closed"?e.attributes.current_position??e.attributes.current_tilt_position:void 0,a=r??n,l=a&&a!==100?a??e.attributes.current_position??"":"";return typeof r=="number"?`${r===0?"closed":r===100?"open":e.state}${l?` - ${l}%`:""}`:`${e.state}${l?` - ${l}%`:""}`}function ii({entity:e,mode:r="position",orientation:o="vertical",reverse:n=!1,onStateChange:a}){const l=i.useEntity(e),d=i.isUnavailableState(l.state),c=s.useCallback(f=>i.supportsFeatureFromAttributes(l.attributes,f),[l.attributes]),u=c(4),m=c(128),p=c(1)||c(2)||c(8),v=c(16)||c(32)||c(64),[S,g]=s.useState(r??u?"position":"button"),h=at(),y=s.useMemo(()=>ut(l),[l]);return s.useEffect(()=>{g(u&&r==="position"?r:"button")},[r,u]),s.useEffect(()=>{a&&a(y)},[y,a]),t.jsx(ee.Column,{fullHeight:!0,wrap:"nowrap",justifyContent:(h.xxs,"flex-start"),style:{padding:h.xxs?"1rem":"0"},children:t.jsxs(ee.Column,{children:[S==="position"&&t.jsx(t.Fragment,{children:t.jsxs(K.Row,{gap:"1rem",style:{flexDirection:o==="vertical"?"row":"column"},children:[u&&typeof l.attributes.current_position<"u"&&t.jsxs(ee.Column,{children:[t.jsx(At,{sliderColor:d?void 0:"var(--ha-A400)",min:0,max:100,mode:n?"end":"start",vertical:o==="vertical",thickness:h.xxs?90:100,borderRadius:24,value:l.attributes.current_position,disabled:d,onChange:f=>{a&&a(ut(l,Math.round(f)))},onChangeApplied:f=>{l.service.setCoverPosition({serviceData:{position:f}}),a&&a(ut(l,Math.round(f)))}}),t.jsx(jt,{children:i.localize("cover_position")})]}),m&&typeof l.attributes.current_tilt_position<"u"&&t.jsxs(ee.Column,{children:[t.jsx(At,{sliderColor:d?void 0:"var(--ha-A400)",min:0,max:100,mode:n?"end":"start",vertical:o==="vertical",thickness:h.xxs?90:100,borderRadius:24,value:l.attributes.current_tilt_position,disabled:d,onChange:f=>{a&&a(ut(l,Math.round(f)))},onChangeApplied:f=>{l.service.setCoverTiltPosition({serviceData:{tilt_position:f}}),a&&a(ut(l,Math.round(f)))}}),t.jsx(jt,{children:i.localize("cover_tilt_position")})]})]})}),S==="button"&&t.jsx(t.Fragment,{children:t.jsxs(K.Row,{gap:"1rem",style:{flexDirection:o==="vertical"?"row":"column"},children:[p&&t.jsxs(ee.Column,{children:[t.jsxs(rt,{thickness:h.xxs?80:96,reverse:n,orientation:o,style:{minHeight:o==="vertical"?"200px":void 0,maxHeight:o==="vertical"?"320px":void 0,height:o==="vertical"?"45vh":void 0,minWidth:o==="horizontal"?"320px":void 0,maxWidth:o==="horizontal"?"420px":void 0,flexWrap:"nowrap"},children:[t.jsx(Re,{title:i.localize("open_cover"),entity:e,service:"openCover",icon:n?"mdi:arrow-down":"mdi:arrow-up"}),t.jsx(Re,{title:i.localize("stop_cover"),entity:e,service:"stopCover",icon:"mdi:stop-circle-outline"}),t.jsx(Re,{title:i.localize("close_cover"),entity:e,service:"closeCover",icon:n?"mdi:arrow-up":"mdi:arrow-down"})]}),t.jsx(jt,{children:i.localize("control")})]}),v&&t.jsxs(ee.Column,{children:[t.jsxs(rt,{thickness:h.xxs?80:96,reverse:n,orientation:o,style:{minHeight:o==="vertical"?"200px":void 0,maxHeight:o==="vertical"?"320px":void 0,height:o==="vertical"?"45vh":void 0,minWidth:o==="horizontal"?"320px":void 0,maxWidth:o==="horizontal"?"420px":void 0,flexWrap:"nowrap"},children:[t.jsx(Re,{title:i.localize("open_cover_tilt"),entity:e,service:"openCoverTilt",icon:n?"mdi:arrow-collapse":"mdi:arrow-expand"}),t.jsx(Re,{title:i.localize("stops_a_tilting_cover_movement"),entity:e,service:"stopCoverTilt",icon:"mdi:stop-circle-outline"}),t.jsx(Re,{title:i.localize("close_cover_tilt"),entity:e,service:"closeCoverTilt",icon:n?"mdi:arrow-expand":"mdi:arrow-collapse"})]}),t.jsx(jt,{children:i.localize("tilt_position")})]})]})}),(v||u)&&t.jsxs(ai,{children:[t.jsx(ae,{icon:"mdi:hamburger-menu",active:S==="position",title:i.localize("position"),onClick:()=>{g("position")}}),t.jsx(ae,{icon:"mdi:swap-vertical",active:S==="button",title:i.localize("button"),onClick:()=>{g("button")}})]})]})})}function ci(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"CoverControls"}),children:t.jsx(ii,{...e})})}function li(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const je=j.createStyled(ae,process.env.NODE_ENV==="production"?{target:"e1p6lr4g0"}:{target:"e1p6lr4g0",label:"Fab"})(process.env.NODE_ENV==="production"?{name:"ov3jk1",styles:"background-color:var(--ha-S600);&:not(.active){color:black;}opacity:0.8;transition-property:opacity,color,background-color;&:disabled{opacity:0.38;}&:not(:disabled){&:hover,&:active{opacity:1;color:black;}}z-index:2"}:{name:"ov3jk1",styles:"background-color:var(--ha-S600);&:not(.active){color:black;}opacity:0.8;transition-property:opacity,color,background-color;&:disabled{opacity:0.38;}&:not(:disabled){&:hover,&:active{opacity:1;color:black;}}z-index:2",toString:li});function vt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const di=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e13bkotg4"}:{target:"e13bkotg4",label:"StyledMediaPlayerCard"})(process.env.NODE_ENV==="production"?{name:"11aohsy",styles:"transform:none;will-change:width,height;overflow:visible;svg{color:currentColor;}&:not(.disabled){&:hover,&:active{background-color:var(--ha-S300);svg{color:currentColor;}}}padding:1rem;cursor:default"}:{name:"11aohsy",styles:"transform:none;will-change:width,height;overflow:visible;svg{color:currentColor;}&:not(.disabled){&:hover,&:active{background-color:var(--ha-S300);svg{color:currentColor;}}}padding:1rem;cursor:default",toString:vt}),ui=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e13bkotg3"}:{target:"e13bkotg3",label:"Title"})(process.env.NODE_ENV==="production"?{name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)"}:{name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)",toString:vt}),pi=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"e13bkotg2"}:{target:"e13bkotg2",label:"State"})(process.env.NODE_ENV==="production"?{name:"18akv06",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 0.5)"}:{name:"18akv06",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 0.5)",toString:vt}),hi=j.createStyled(ee.Column,process.env.NODE_ENV==="production"?{target:"e13bkotg1"}:{target:"e13bkotg1",label:"StyledColumn"})(process.env.NODE_ENV==="production"?{name:"1aygt3c",styles:"display:grid;grid-template-columns:auto auto"}:{name:"1aygt3c",styles:"display:grid;grid-template-columns:auto auto",toString:vt}),fi=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e13bkotg0"}:{target:"e13bkotg0",label:"GroupLine"})(process.env.NODE_ENV==="production"?{name:"8qz55m",styles:"height:50px;width:2px;background-color:var(--ha-A400);position:absolute;top:30px;left:14px;z-index:1"}:{name:"8qz55m",styles:"height:50px;width:2px;background-color:var(--ha-A400);position:absolute;top:30px;left:14px;z-index:1",toString:vt}),mi=({groupedEntities:e=[],allEntityIds:r=[],onStateChange:o,entity:n,...a})=>{const l=i.useEntity(n),d=i.supportsFeatureFromAttributes(l.attributes,524288),c=s.useMemo(()=>ie.flatten(Object.values(ie.groupBy(e,g=>g.attributes?.group_members))),[e]),u=i.useService("media_player"),[m,p]=s.useState({media_content_id:"",media_content_type:""}),v=s.useCallback(g=>{const h=e.find(f=>f.entity_id===g);if(!h)return;const y=e.filter(f=>f.state==="playing");if(y.length===0)return u.playMedia({target:h.attributes?.group_members??h.entity_id,serviceData:{media:{...m},enqueue:"play"}}),u.mediaPlay({target:h.attributes?.group_members??h.entity_id});if(h.attributes?.group_members?.length===1&&h.state==="playing")return p({media_content_id:h.attributes.media_content_id??"",media_content_type:h.attributes.media_content_type??""}),u.mediaPause({target:h.attributes?.group_members??h.entity_id});if((h.attributes?.group_members?.length||0)>1&&h.state==="playing")return u.unjoin({target:g});if(h.state!=="playing"&&y.length>0)return u.join({target:y[0].entity_id,serviceData:{group_members:[g]}})},[e,u,m]),S=s.useCallback(g=>{const h=c?.some(y=>y.state==="playing");return g.attributes.group_members?.length===1&&g.state==="playing"?"mdi:pause":h?"mdi:speaker-multiple":g.attributes.group_members?.length===1&&g.state!=="playing"?"mdi:play":"mdi:speaker-off"},[c]);return s.useEffect(()=>{l&&o&&o(l.state)},[l,o]),t.jsx(ee.Column,{fullHeight:!0,fullWidth:!0,...a,children:t.jsxs(ee.Column,{fullWidth:!0,fullHeight:!0,className:"column",gap:"1rem",children:[l&&t.jsx(Vn,{layout:"slim",groupMembers:r.length>1?r:void 0,disableColumns:!0,entity:l.entity_id,hideGrouping:!0,disableScale:!0,disableModal:!0}),r.length>1&&t.jsx(mr,{title:i.localize("related_entities"),disableColumns:!0,cssStyles:`
            &.group {
              background-color: rgba(0,0,0,0.1);
            }
          `,children:c.map((g,h)=>{const y=g.state==="playing",f=h===c.length-1,C=`${g.attributes?.friendly_name??g.entity_id}`,w=g.state===i.OFF,E=i.isUnavailableState(g.state),k=i.supportsFeatureFromAttributes(g.attributes,128),x=i.supportsFeatureFromAttributes(g.attributes,256);return t.jsx(di,{disableRipples:!0,disableScale:!0,disableActiveState:!0,xxs:12,xs:12,sm:12,md:12,lg:12,xlg:12,className:"entities-card entities-card-media-controls",children:t.jsx(ne.ErrorBoundary,{...re({prefix:"EntityRow"}),children:t.jsxs(hi,{gap:"0.5rem",justifyContent:"space-between",children:[t.jsxs(ui,{className:"title device-name",children:[C,t.jsxs(pi,{children:[" - ",ie.capitalize(g.state)]})]}),t.jsxs(K.Row,{gap:"0.5rem",justifyContent:"end",children:[!d&&t.jsx(je,{className:"media-player-power",iconProps:{color:"var(--ha-S200-contrast)"},active:!w&&!E,disabled:!k||!x,size:30,icon:"mdi:power",rippleProps:{preventPropagation:!0},onClick:()=>{w?u.turnOn({target:g.entity_id}):u.turnOff({target:g.entity_id})}}),!w&&t.jsx(yr,{entity:g.entity_id,volumeLayout:"buttons",hideMute:!1,disabled:!1,layout:"slim"}),d&&!w&&t.jsxs("div",{style:{position:"relative"},children:[t.jsx(je,{rippleProps:{preventPropagation:!0},className:"speaker-group",iconProps:{color:"var(--ha-S200-contrast)"},active:y,disabled:!1,size:30,icon:S(g),onClick:()=>v(g.entity_id)}),!f&&t.jsx(fi,{})]})]})]})})},g.entity_id)})})]})})};function gi(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const bi=j.createStyled(hr.MapContainer,process.env.NODE_ENV==="production"?{target:"e14r6hro0"}:{target:"e14r6hro0",label:"StyledMapContainer"})(process.env.NODE_ENV==="production"?{name:"9qnj85",styles:".leaflet-layer,.leaflet-control-zoom-in,.leaflet-control-zoom-out,.leaflet-control-attribution{filter:brightness(0.6) invert(1) contrast(4) hue-rotate(300deg) saturate(0.3) brightness(1) grayscale(40%);}.leaflet-div-icon{background:none;border:none;}"}:{name:"9qnj85",styles:".leaflet-layer,.leaflet-control-zoom-in,.leaflet-control-zoom-out,.leaflet-control-attribution{filter:brightness(0.6) invert(1) contrast(4) hue-rotate(300deg) saturate(0.3) brightness(1) grayscale(40%);}.leaflet-div-icon{background:none;border:none;}",toString:gi}),Mn=({children:e,marker:r,container:o})=>{const{tagName:n,className:a}=o,l=Rt.DomUtil.create(n,a),d=new Rt.DivIcon({html:l}),c=mt.createPortal(e,l),{position:u,eventHandlers:m}=r;return s.useEffect(()=>()=>{Rt.DomUtil.remove(l)},[]),t.jsxs(t.Fragment,{children:[c,t.jsx(hr.Marker,{position:u,icon:d,eventHandlers:m})]})};function vi({entity:e,mapHeight:r}){const o=i.useEntity(e),n=new Rt.LatLng(o.attributes.latitude,o.attributes.longitude);return t.jsxs(bi,{center:n,zoom:14,style:{height:`${r}px`,width:"100%"},children:[t.jsx(hr.TileLayer,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),t.jsx(Mn,{marker:{position:n},container:{tagName:"div",className:"custom-marker"},children:t.jsx(br,{entity:e,iconSize:{width:"30px",height:"30px"},avatarSize:{width:"48px",height:"48px"},withBorder:!0})})]})}function xi(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"PersonControls"}),children:t.jsx(vi,{...e})})}function Bt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const yi=j.createStyled(fr,process.env.NODE_ENV==="production"?{target:"e1nr8uu73"}:{target:"e1nr8uu73",label:"StyledClimateCard"})(process.env.NODE_ENV==="production"?{name:"l7vt8h",styles:"&.slim{&.has-temp-controls{}}&.slim-vertical{&.has-temp-controls{}}"}:{name:"l7vt8h",styles:"&.slim{&.has-temp-controls{}}&.slim-vertical{&.has-temp-controls{}}",toString:Bt}),wi=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1nr8uu72"}:{target:"e1nr8uu72",label:"Gap"})(process.env.NODE_ENV==="production"?{name:"rhxkjj",styles:"height:20px"}:{name:"rhxkjj",styles:"height:20px",toString:Bt}),Si=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1nr8uu71"}:{target:"e1nr8uu71",label:"Description"})(process.env.NODE_ENV==="production"?{name:"1d8ysdp",styles:'color:var(--ha-S400-contrast);font-size:0.7rem;display:flex;gap:0.5rem;flex-wrap:wrap;>*{position:relative;display:flex;flex-shrink:0;&:after{content:",";position:absolute;bottom:0;right:-3px;}&:last-of-type{&:after{display:none;}}}'}:{name:"1d8ysdp",styles:'color:var(--ha-S400-contrast);font-size:0.7rem;display:flex;gap:0.5rem;flex-wrap:wrap;>*{position:relative;display:flex;flex-shrink:0;&:after{content:",";position:absolute;bottom:0;right:-3px;}&:last-of-type{&:after{display:none;}}}',toString:Bt}),qr=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"e1nr8uu70"}:{target:"e1nr8uu70",label:"Temperature"})(process.env.NODE_ENV==="production"?{name:"17qxhar",styles:"position:relative;display:flex;span{font-size:0.7rem;align-items:flex-start;}"}:{name:"17qxhar",styles:"position:relative;display:flex;span{font-size:0.7rem;align-items:flex-start;}",toString:Bt});function Ei({entity:e,onClick:r,hvacModes:o,hvacModeLabels:n,showHvacModeLabels:a=!1,hideCurrentTemperature:l,showTemperatureControls:d=!1,hideToggle:c=!0,hideHvacModes:u,disabled:m,className:p,modalProps:v,service:S,serviceData:g,cssStyles:h,layoutType:y,key:f,title:C,targetTempStep:w,...E}){const k=i.useHass(H=>H.config),x=i.useHass(H=>H.globalComponentStyles),_=i.useEntity(e),R=_.state in we.icons?_.state:"unknown-mode",A=i.isUnavailableState(_.state),D=_.state!=="off"&&!A&&!m,{current_temperature:b,hvac_action:N,hvac_modes:T,min_temp:V=6,max_temp:$=40,unit_of_measurement:I,temperature:z=20,target_temp_step:M}=_.attributes||{},O=_.state===i.OFF,L=s.useMemo(()=>A?i.localize("unavailable"):O?i.localize("off"):N?i.localize(N):i.localize("unknown"),[N,A,O]),P=s.useMemo(()=>w??M??(k?.unit_system.temperature===fe.UNIT_F?1:.5),[k?.unit_system.temperature,w,M]),J=(o??[]).length===0?T:o??[];return t.jsx(t.Fragment,{children:t.jsx(yi,{hideToggle:c,disableActiveState:!0,className:`climate-card ${d?"has-temp-controls":""} ${p??""}`,disabled:m||A,entity:e,title:C??_.attributes.friendly_name,service:S,serviceData:g,layoutType:y,modalProps:{hvacModes:J,hideCurrentTemperature:l,hideHvacModes:u,hvacModeLabels:n,targetTempStep:P,...v},onClick:()=>{A||m||typeof r!="function"||r(_)},cssStyles:`
          ${x.climateCard??""}
          ${h??""}
        `,hideState:!0,features:J.concat().filter(H=>!!H).map(H=>{const U={size:35,disabled:m||A,iconProps:{color:R===H?we.activeColors[H]:void 0},rippleProps:{preventPropagation:!0},title:ie.capitalize(H.replace(/_/g," ")),active:R===H,icon:we.icons[H],onClick:()=>{_.service.setHvacMode({serviceData:{hvac_mode:H}})}};if(n?.[H]&&a){const W=n?.[H];return t.jsx(He,{...U,title:W,children:W},H)}return t.jsx(He,{...U},H)}),fabProps:{style:{color:D?"var(--ha-A400)":"var(--ha-S500-contrast)",backgroundColor:A||m?we.colors.off[1]:R==="unknown-mode"?"var(--ha-S500-contrast)":we.colors[R][1]}},description:t.jsx(K.Row,{justifyContent:"flex-start",children:t.jsxs(Si,{className:"climate-description",children:[t.jsx("span",{children:L}),t.jsxs("span",{className:"fan-speed",children:[i.localize("speed"),": ",i.localize(_.attributes.fan_mode)||i.localize("unknown")]}),!l&&t.jsx("span",{className:"current-temperature",children:t.jsxs(qr,{children:[t.jsxs("div",{children:[ie.capitalize(i.localize("current_temperature",{search:"{name} ",replace:""})),": ",b]}),t.jsx("span",{children:I??k?.unit_system.temperature})]})})]})}),...E,children:d&&t.jsxs(ee.Column,{alignItems:y==="slim-vertical"?"center":"flex-start",fullWidth:!0,fullHeight:!0,children:[t.jsx(wi,{}),t.jsxs(Ve,{fullWidth:!0,children:[t.jsx(He,{size:40,disabled:m||A||z===V,rippleProps:{preventPropagation:!0},title:i.localize("decrease_temperature"),icon:"mdi:minus",onClick:()=>{_.service.setTemperature({serviceData:{temperature:z-P}})}}),t.jsx(He,{size:40,disabled:!0,rippleProps:{preventPropagation:!0},borderRadius:0,noIcon:!0,title:ie.capitalize(i.localize("current_temperature",{search:"{name} ",replace:""})),cssStyles:`
                  button {
                    cursor: default;
                  }
                `,children:t.jsxs(qr,{children:[t.jsx("div",{children:z}),t.jsx("span",{children:I??k?.unit_system.temperature})]})}),t.jsx(He,{size:40,disabled:m||A||z===$,rippleProps:{preventPropagation:!0},title:i.localize("increase_temperature"),icon:"mdi:plus",onClick:()=>{_.service.setTemperature({serviceData:{temperature:z+P}})}})]})]})},f)})}function Ni(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"ClimateCard"}),children:t.jsx(Ei,{...r,...e})})}function Ci(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ki=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"elajsjg0"}:{target:"elajsjg0",label:"StyledEntitiesCard"})(process.env.NODE_ENV==="production"?{name:"zp0ybc",styles:"svg{color:currentColor;}&:not(.disabled){&:hover,&:active{svg{color:currentColor;}}}"}:{name:"zp0ybc",styles:"svg{color:currentColor;}&:not(.disabled){&:hover,&:active{svg{color:currentColor;}}}",toString:Ci});function _i({includeLastUpdated:e=!1,key:r,className:o,children:n,cssStyles:a,...l}){const d=i.useHass(u=>u.globalComponentStyles),c=s.Children.map(n,(u,m)=>s.isValidElement(u)?s.cloneElement(u,{key:u.key||m,includeLastUpdated:e}):u);return t.jsx(ki,{cssStyles:`
      ${d?.entitiesCard??""}
      ${a??""}
    `,disableRipples:!0,disableScale:!0,disableActiveState:!0,className:`entities-card ${o??""}`,...l,children:t.jsx(ee.Column,{fullWidth:!0,fullHeight:!0,className:"column",children:c})},r)}function ji(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"EntitiesCard"}),children:t.jsx(_i,{...r,...e})})}function Lt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Di=j.createStyled(K.Row,process.env.NODE_ENV==="production"?{target:"e1e0wtwp3"}:{target:"e1e0wtwp3",label:"IconWrapper"})(process.env.NODE_ENV==="production"?{name:"15bws94",styles:"width:100%;max-width:2rem"}:{name:"15bws94",styles:"width:100%;max-width:2rem",toString:Lt}),Oi=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1e0wtwp2"}:{target:"e1e0wtwp2",label:"Name"})(process.env.NODE_ENV==="production"?{name:"vpbd9u",styles:"flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}"}:{name:"vpbd9u",styles:"flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}",toString:Lt}),Ri=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1e0wtwp1"}:{target:"e1e0wtwp1",label:"State"})(process.env.NODE_ENV==="production"?{name:"fcoiwt",styles:"max-width:5rem;font-size:0.8rem;font-weight:400;text-align:right;white-space:nowrap;color:var(--ha-S300-contrast)"}:{name:"fcoiwt",styles:"max-width:5rem;font-size:0.8rem;font-weight:400;text-align:right;white-space:nowrap;color:var(--ha-S300-contrast)",toString:Lt}),Ii=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1e0wtwp0"}:{target:"e1e0wtwp0",label:"EntityRowInner"})(process.env.NODE_ENV==="production"?{name:"8799pk",styles:"width:100%;padding:1rem;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:hover{background-color:var(--ha-S500);}"}:{name:"8799pk",styles:"width:100%;padding:1rem;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:hover{background-color:var(--ha-S500);}",toString:Lt}),Wr={climate:()=>Promise.resolve().then(()=>require("./cjs/Cards/EntitiesCard/action-types/climate.js")),toggle:()=>Promise.resolve().then(()=>require("./cjs/Cards/EntitiesCard/action-types/toggle.js")),sensor:()=>Promise.resolve().then(()=>require("./cjs/Cards/EntitiesCard/action-types/sensor.js"))},Ai={water_heater:"climate",climate:"climate",alert:"toggle",automation:"toggle",fan:"toggle",input_boolean:"toggle",light:"toggle",remote:"toggle",sensor:"sensor",siren:"toggle",switch:"toggle",vacuum:"toggle"};function Ti({entity:e,icon:r,iconProps:o,name:n,renderState:a,onClick:l,modalProps:d,key:c,includeLastUpdated:u=!1,...m}){const p=s.useId(),[v,S]=s.useState(!1),g=i.useHass(D=>D.formatter),h=i.useEntity(e),y=i.computeDomain(e),f=i.useIconByDomain(y===null?"unknown":y),C=i.useIconByEntity(e||"unknown"),w=i.isUnavailableState(h?.state),E=s.useMemo(()=>n??h.attributes.friendly_name??h.attributes.entity_id,[n,h]),k=h?.state===i.ON,x=k?h.custom.hexColor:"var(--ha-S500-contrast)",_=hn.useLongPress(()=>{typeof e=="string"&&!v&&S(!0)},{threshold:300,cancelOnMovement:!0,cancelOutsideElement:!0,filterEvents(D){return!("button"in D&&D.button===2)}}),R=Ai[y],A=s.useMemo(()=>!R||!(R in Wr)?null:s.lazy(Wr[R]),[R]);return t.jsxs(t.Fragment,{children:[t.jsx(Ii,{className:"entities-card-row",..._(),...m,children:t.jsxs(K.Row,{className:"row",wrap:"nowrap",gap:"1rem",fullWidth:!0,onClick:()=>l&&l(h),children:[t.jsx(Di,{className:"icon-wrapper",style:{opacity:w?"0.3":"1",color:x,filter:k&&h?.custom.brightness||"brightness(100%)"},children:r?t.jsx(be.Icon,{className:"icon",icon:r,...o??{}}):C??f}),t.jsxs(Oi,{className:"name",children:[E,u&&t.jsx("span",{children:h.custom.relativeTime})]}),t.jsx(Ri,{className:"state",children:typeof a=="function"?a(h):w?i.localize("unavailable"):A?t.jsx(s.Suspense,{fallback:t.jsxs("div",{children:[i.localize("loading"),"..."]}),children:t.jsx(A,{entity:h})}):t.jsx(t.Fragment,{children:g.stateValue(h)})})]})},c),typeof e=="string"&&t.jsx(Sr,{entity:e,title:E??i.localize("unknown"),onClose:()=>{S(!1)},open:v,id:p,...d})]})}function zi(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"EntitiesCardRow"}),children:t.jsx(Ti,{...e})})}function Mi(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Vi=j.createStyled("label",process.env.NODE_ENV==="production"?{target:"e3nfycs1"}:{target:"e3nfycs1",label:"VolumeSlider"})("display:inline-block;width:100%;color:rgba(0, 0, 0, 0.87);font-size:1rem;line-height:1.5;",ce.mq(["xxs"],`
    width: 40%;
  `)," ",ce.mq(["xs","sm"],`
    width: 60%;
  `),";"),Pi=j.createStyled(qe,process.env.NODE_ENV==="production"?{target:"e3nfycs0"}:{target:"e3nfycs0",label:"StyledRangeSlider"})(process.env.NODE_ENV==="production"?{name:"1d3w5wq",styles:"width:100%"}:{name:"1d3w5wq",styles:"width:100%",toString:Mi});function yr({entity:e,volumeLayout:r,hideMute:o,disabled:n,allEntityIds:a,layout:l}){const d=i.useEntity(e),{volume_level:c,is_volume_muted:u}=d.attributes,[m,p]=s.useState(c),v=i.useService("mediaPlayer"),S=s.useRef(null),g=i.supportsFeatureFromAttributes(d.attributes,4),h=i.supportsFeatureFromAttributes(d.attributes,8),y=s.useCallback(f=>{p(f),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{v.volumeSet({target:a??e,serviceData:{volume_level:f}})},500)},[v,a,p,e]);return s.useEffect(()=>{p(c)},[c]),t.jsxs(K.Row,{gap:"0.5rem",wrap:"nowrap",children:[!o&&h&&t.jsx(je,{iconProps:{color:"var(--ha-S200-contrast)"},className:`volume-mute ${u?"muted":"not-muted"}`,disabled:n,size:Je.DEFAULT_FAB_SIZE,rippleProps:{preventPropagation:!0},icon:u?"mdi:volume-off":"mdi:volume-high",onClick:()=>{v.volumeMute({target:a??e,serviceData:{is_volume_muted:!u}})}}),r==="buttons"&&g&&t.jsxs(t.Fragment,{children:[t.jsx(je,{rippleProps:{preventPropagation:!0},iconProps:{color:"var(--ha-S200-contrast)"},className:"volume-down",disabled:n,size:Je.DEFAULT_FAB_SIZE,icon:"mdi:volume-minus",title:`${Number(c)*100}%`,onClick:()=>v.volumeDown({target:a??e})}),t.jsx(je,{rippleProps:{preventPropagation:!0},iconProps:{color:"var(--ha-S200-contrast)"},className:"volume-up",disabled:n,size:Je.DEFAULT_FAB_SIZE,icon:"mdi:volume-plus",title:`${Number(c)*100}%`,onClick:()=>v.volumeUp({target:a??e})})]}),r==="slider"&&g&&t.jsx(Vi,{className:"volume-slider",layout:l,onPointerDownCapture:f=>{f.stopPropagation()},children:t.jsx(Pi,{type:"range",min:0,max:1,disabled:n,step:.02,value:u?0:m,formatTooltipValue:f=>`${Math.round(f*100)}%`,tooltipSize:2.2,onChangeComplete:(f,C)=>{C.preventDefault(),y(f)}})})]})}function rr({entity:e,size:r=20,feature:o,disabled:n,allEntityIds:a}){const l=i.useEntity(e),d=i.useService("mediaPlayer"),c=l.state==="playing",u=l.state===i.OFF,m=i.supportsFeatureFromAttributes(l.attributes,16),p=i.supportsFeatureFromAttributes(l.attributes,32),v=i.supportsFeatureFromAttributes(l.attributes,16384);return t.jsxs(t.Fragment,{children:[t.jsx(je,{className:"skip-previous",disabled:n||u||!m,size:r,iconProps:{color:"var(--ha-S200-contrast)"},icon:"mdi:skip-previous",rippleProps:{preventPropagation:!0},onClick:()=>d.mediaPreviousTrack({target:a})}),t.jsx(je,{className:"play-pause",iconProps:{color:"var(--ha-S200-contrast)"},disabled:n||u||!v,size:r*(o?2:1),rippleProps:{preventPropagation:!0},icon:c?"mdi:pause":"mdi:play",onClick:()=>{c?d.mediaPause({target:a}):d.mediaPlay({target:a})}}),t.jsx(je,{rippleProps:{preventPropagation:!0},className:"skip-next",iconProps:{color:"var(--ha-S200-contrast)"},disabled:n||u||!p,size:r,icon:"mdi:skip-next",onClick:()=>d.mediaNextTrack({target:a})})]})}function $i(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Fi=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"e1et2jmo0"}:{target:"e1et2jmo0",label:"SmallText"})(process.env.NODE_ENV==="production"?{name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)"}:{name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)",toString:$i});function nr({entity:e,disabled:r,allEntityIds:o,onSpeakerGroupClick:n,hideGrouping:a=!1}){const l=i.useEntity(e),d=i.useService("mediaPlayer"),c=l.attributes.group_members??[],u=l.state===i.OFF,m=i.isUnavailableState(l.state),p=i.supportsFeatureFromAttributes(l.attributes,128),v=i.supportsFeatureFromAttributes(l.attributes,256);return t.jsxs(K.Row,{gap:"0.5rem",wrap:"nowrap",className:"row",children:[!a&&(o.length>1||c.length>0)&&t.jsx(je,{className:"speaker-group",iconProps:{color:"var(--ha-S200-contrast)"},active:c.length>0,disabled:r,rippleProps:{preventPropagation:!0},size:Je.DEFAULT_FAB_SIZE,icon:c.length===0?"mdi:speaker-off":"mdi:speaker-multiple",onClick:()=>{n()}}),(m||u)&&t.jsx(Fi,{children:l.state}),t.jsx(je,{className:"media-player-power",iconProps:{color:"var(--ha-S200-contrast)"},active:!u&&!m,disabled:r||!p||!v,size:Je.DEFAULT_FAB_SIZE,icon:"mdi:power",rippleProps:{preventPropagation:!0},onClick:()=>{u?d.turnOn({target:o}):d.turnOff({target:o})}})]})}function wr(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Bi=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1uz01s95"}:{target:"e1uz01s95",label:"BackgroundImage"})("width:100%;height:100%;",e=>e.backgroundImage&&`background-image: url(${e.backgroundImage});`,' background-size:cover;background-position:center;position:absolute;background-repeat:no-repeat;inset:0;z-index:-1;&:after{background:rgba(0, 0, 0, 0.7);content:"";position:absolute;inset:0;z-index:0;}'),Li=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"e1uz01s94"}:{target:"e1uz01s94",label:"MediaPlayerWrapper"})("padding:0;background-color:var(--ha-S300);box-shadow:0px 2px 4px rgba(0, 0, 0, 0.1);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background-image,background-color,box-shadow,transform;position:relative;overflow:hidden;border-radius:1rem;width:100%;flex-shrink:1;",e=>e.layout==="card"&&`
    aspect-ratio: 1/1;
  `," &:disabled{cursor:not-allowed;opacity:0.8;}&:active{box-shadow:0px 4px 4px rgba(0, 0, 0, 0.1);}&:not(:disabled):hover{background-color:var(--ha-S400);box-shadow:0px 4px 4px rgba(0, 0, 0, 0.1);}.content{position:relative;z-index:1;}"),Hi=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1uz01s93"}:{target:"e1uz01s93",label:"Title"})(process.env.NODE_ENV==="production"?{name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)"}:{name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)",toString:wr}),qi=j.createStyled(ee.Column,process.env.NODE_ENV==="production"?{target:"e1uz01s92"}:{target:"e1uz01s92",label:"Base"})(process.env.NODE_ENV==="production"?{name:"fsms1z",styles:"padding:0.5rem 0.5rem 1rem;width:100%;background-color:rgba(0, 0, 0, 0.5)"}:{name:"fsms1z",styles:"padding:0.5rem 0.5rem 1rem;width:100%;background-color:rgba(0, 0, 0, 0.5)",toString:wr}),Wi=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"e1uz01s91"}:{target:"e1uz01s91",label:"Empty"})(),Ui=j.createStyled(Co.Marquee,process.env.NODE_ENV==="production"?{target:"e1uz01s90"}:{target:"e1uz01s90",label:"StyledMarquee"})(process.env.NODE_ENV==="production"?{name:"fs2k14",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 0.87)"}:{name:"fs2k14",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 0.87)",toString:wr});function Gi({entity:e,groupMembers:r=[],volumeLayout:o="slider",thumbnailSize:n="3rem",hideThumbnail:a=!1,showArtworkBackground:l=!0,layout:d="card",hideMute:c=!1,hideAppName:u=!1,hideEntityName:m=!1,hideGrouping:p=!1,disabled:v=!1,service:S,serviceData:g,marqueeProps:h,className:y,cssStyles:f,key:C,modalProps:w,...E}){const k=i.useEntity(e),x=i.useService("mediaPlayer"),{joinHassUrl:_}=i.useHass.getState().helpers,R=i.useHass(q=>q.globalComponentStyles),A=s.useRef(null),D=s.useRef(null),b=s.useRef(null),N=s.useRef(null),T=i.useHass(q=>q.entities),V=r.map(q=>T[q]??null).filter(q=>q!==null&&!i.isUnavailableState(q.state)),$=s.useMemo(()=>[e,...V.map(q=>q.entity_id)],[e,V]),{state:I}=k,{media_artist:z,media_title:M,media_playlist:O,app_name:L,media_duration:P,media_position:J,media_position_updated_at:H}=k.attributes,U=(k?.attributes?.group_members||[k.entity_id]).reduce((q,ue)=>{const Ee=T[ue];return Ee?[...q,Ee.attributes?.friendly_name||Ee.entity_id]:q},[]),W=`${z?z+" - ":""}${M??O??""}`,Y=L,Z=s.useMemo(()=>{const q=k.attributes.entity_picture?k.attributes.entity_picture:null;return q&&q.startsWith("/")?_(q):q},[k.attributes.entity_picture,_]),ge=i.isUnavailableState(I),F=I==="idle",B=I==="standby",G=I===i.OFF,X=I==="playing",te=I==="buffering",oe=ge||v,se=F||G||B||te||oe,[he,le]=s.useState(!1),ye=s.useCallback(q=>{if(!D.current||!N.current||se||!b.current||!P)return;const ue=D.current.getBoundingClientRect(),Pe=(q-ue.left)/ue.width*100,Ct=P*Pe/100,lo=Math.max(0,Math.floor(Ct/60)),uo=Math.max(0,Math.floor(Ct%60)),po=String(lo).padStart(2,"0"),ho=String(uo).padStart(2,"0");N.current.style.left=`${ie.clamp(Pe,5,95)}%`,b.current.style.setProperty(`--progress-${ie.snakeCase(e)}-clock`,`'${po}:${ho}'`)},[e,P,se]),ve=s.useCallback((q,ue)=>{if(!q||!ue)return 0;const Ee=ue/q*100;b.current&&b.current.style.setProperty(`--progress-${ie.snakeCase(e)}-width`,`${ie.clamp(Ee,0,100)}%`)},[e]);s.useEffect(()=>(X&&A.current===null&&H!==void 0&&J!==void 0?A.current=setInterval(()=>{const q=new Date,ue=new Date(H),Ee=(q.getTime()-ue.getTime())/1e3,Pe=J+Ee;ve(P,Pe)},1e3):!X&&A.current!==null&&(clearInterval(A.current),A.current=null),()=>{A.current!==null&&(clearInterval(A.current),A.current=null)}),[X,J,H,P,ve]);const _e=s.useCallback(q=>{if(!D.current)return;const ue=D.current.getBoundingClientRect(),Pe=(q-ue.left)/ue.width;x.mediaSeek({target:$,serviceData:{seek_position:Pe*(P??0)}})},[x,$,P]);s.useEffect(()=>{ve(P,J)},[J,ve,P]);const ze=Fe.useThrottledCallback(q=>{ye(q)},20,{trailing:!0,leading:!0}),Et=gt.useGesture({onMove:q=>{se||ze(q.event.clientX)},onClick:q=>{se||_e(q.event.clientX)}}),Nt=i.supportsFeatureFromAttributes(k.attributes,524288);if(r.length>0&&!Nt&&!k.attributes.group_members)throw new Error(`"${e}" does not support grouping, but you have provided groupMembers.`);return t.jsx(t.Fragment,{children:t.jsxs(Li,{disabled:oe,modalProps:{open:he,groupedEntities:V,allEntityIds:$,onClose:()=>le(!1),...w},entity:e,service:S,serviceData:g,disableActiveState:!0,disableRipples:!0,className:`media-player-card ${y??""}`,refCallback:q=>{q&&(b.current=q.current)},layout:d,cssStyles:`
          ${R?.mediaPlayerCard??""}
          ${f??""}
        `,...E,children:[l&&Z!==null&&t.jsx(Bi,{className:"artwork",backgroundImage:Z}),t.jsxs(ee.Column,{fullHeight:!0,fullWidth:!0,className:"column content",justifyContent:"space-between",children:[t.jsx(Wi,{className:"empty"}),d==="card"&&t.jsx(K.Row,{gap:"1rem",fullWidth:!0,className:"row",children:t.jsx(rr,{entity:e,disabled:oe,allEntityIds:$,feature:!0,size:40})}),t.jsxs(qi,{className:"base",fullWidth:!0,gap:"0.5rem",style:{paddingBottom:G?d==="slim"?"1rem":"0.5rem":"1rem"},children:[t.jsxs(K.Row,{className:"row",gap:"0.5rem",wrap:"nowrap",fullWidth:!0,children:[a===!1&&Z!==null&&t.jsx(ko.Thumbnail,{className:"thumbnail",backgroundImage:Z,size:n}),t.jsxs(ee.Column,{className:"column",gap:"0.5rem",alignItems:"flex-start",style:{width:a===!1&&Z!==null?`calc(100% - (${n} + 0.5rem))`:"100%"},children:[t.jsxs(K.Row,{className:"row",justifyContent:U.length>0&&!m?"space-between":"flex-end",fullWidth:!0,children:[U.length>0&&!m&&t.jsxs(Hi,{className:"title device-name",children:[m?"":U.join(", "),te?(m?"":" - ")+"buffering":""]}),(G||d==="slim")&&t.jsx(nr,{allEntityIds:$,entity:e,disabled:oe,onSpeakerGroupClick:()=>le(!0),hideGrouping:p})]}),W&&!G&&t.jsxs(Ui,{speed:30,pauseOnHover:!0,play:X,autoFill:!0,...h,className:"title marquee",children:[W,Y&&!u?` - ${Y}`:""]})]})]}),ge?null:t.jsxs(K.Row,{className:"row",gap:"1rem",justifyContent:"space-between",wrap:"nowrap",fullWidth:!0,children:[!G&&t.jsx(yr,{entity:e,disabled:oe,allEntityIds:$,volumeLayout:o,layout:d,hideMute:c}),d==="slim"&&t.jsx(K.Row,{gap:"0.5rem",wrap:"nowrap",children:t.jsx(rr,{entity:e,disabled:oe,allEntityIds:$,feature:!1,size:Je.DEFAULT_FAB_SIZE})}),!G&&d==="card"&&t.jsx(nr,{allEntityIds:$,entity:e,disabled:oe,onSpeakerGroupClick:()=>le(!0),hideGrouping:p})]})]})]}),t.jsx(jo.ProgressBar,{className:`${se?"disabled":""} progress-bar`,disabled:se,entity:ie.snakeCase(e),ref:D,onPointerDownCapture:q=>{q.stopPropagation()},...Et(),children:t.jsx("span",{})}),t.jsx(_o.Clock,{entity:ie.snakeCase(e),className:"clock",ref:N})]},C)})}function Vn(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"MediaPlayerCard"}),children:t.jsx(Gi,{...r,...e})})}const Ur=e=>Symbol.iterator in e,Gr=e=>"entries"in e,Yr=(e,r)=>{const o=e instanceof Map?e:new Map(e.entries()),n=r instanceof Map?r:new Map(r.entries());if(o.size!==n.size)return!1;for(const[a,l]of o)if(!n.has(a)||!Object.is(l,n.get(a)))return!1;return!0},Yi=(e,r)=>{const o=e[Symbol.iterator](),n=r[Symbol.iterator]();let a=o.next(),l=n.next();for(;!a.done&&!l.done;){if(!Object.is(a.value,l.value))return!1;a=o.next(),l=n.next()}return!!a.done&&!!l.done};function Xi(e,r){return Object.is(e,r)?!0:typeof e!="object"||e===null||typeof r!="object"||r===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(r)?!1:Ur(e)&&Ur(r)?Gr(e)&&Gr(r)?Yr(e,r):Yi(e,r):Yr({entries:()=>Object.entries(e)},{entries:()=>Object.entries(r)})}function Qi(e){const r=s.useRef(void 0);return o=>{const n=e(o);return Xi(r.current,n)?r.current:r.current=n}}function Ht(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Ki=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"eblbn6u3"}:{target:"eblbn6u3",label:"StyledCalendarCard"})(process.env.NODE_ENV==="production"?{name:"1318kic",styles:'.contents .calendar>*{flex-grow:1;background-color:var(--ha-S300);min-height:400px;--fc-neutral-bg-color:var(--ha-S300);--fc-list-event-hover-bg-color:var(--ha-S300);--fc-theme-standard-border-color:var(--ha-S500);--fc-border-color:var(--ha-S500);--fc-page-bg-color:var(--ha-S300);}a{color:inherit!important;}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--ha-S500);border-radius:0.5rem;}.fc-theme-standard td{border-bottom-left-radius:0.5rem;border-bottom-right-radius:0.5rem;}.fc-scrollgrid-section-header td{border:none;}th.fc-col-header-cell.fc-day{background-color:var(--ha-S200);color:var(--ha-S200-contrast);font-size:11px;font-weight:bold;text-transform:uppercase;}.fc-daygrid-dot-event:hover{background-color:inherit;}.fc-daygrid-day-top{text-align:center;padding-top:0.25rem;justify-content:center;}table.fc-scrollgrid-sync-table tbody tr:first-of-type .fc-daygrid-day-top{padding-top:0;}a.fc-daygrid-day-number{font-size:0.8rem;cursor:pointer;}.fc .fc-daygrid-day-number{}.fc .fc-daygrid-more-link{font-size:0.7rem;float:none;}.fc-daygrid-day-bottom{width:100%;text-align:center;&:before,&:after{display:none;}}.fc .fc-daygrid-day.fc-day-today{background:inherit;}td.fc-day-today .fc-daygrid-day-number{height:1.5rem;width:1.5rem;flex-grow:0;flex-shrink:0;display:flex;border-radius:50%;text-align:center;white-space:nowrap;background-color:var(--ha-A400);color:var(--ha-900-contrast);line-height:1.5rem;padding:0;align-items:center;justify-content:center;}.fc-event{border-radius:4px;line-height:1.7;cursor:pointer;}.fc-daygrid-block-event .fc-event-main{padding:0 1px;}.fc-day-past .fc-daygrid-day-events{opacity:0.5;}.fc-popover{background-color:var(--primary-background-color)!important;}.fc-popover-header{background-color:var(--secondary-background-color)!important;}.fc-theme-standard .fc-list-day-frame{background-color:transparent;}.fc-list.fc-view,.fc-list-event.fc-event td{border:none;}.fc-list-day.fc-day th{border-bottom:none;border-top:1px solid var(--fc-theme-standard-border-color, #ddd)!important;}.fc-list-day-text{font-size:16px;font-weight:400;}.fc-list-day-side-text{font-weight:400;font-size:16px;color:var(--primary-color);}.fc-list-day-cushion{background-color:var(--ha-S200);color:var(--ha-S200-contrast);}.fc-list-table td,.fc-list-day-frame{padding-top:12px;padding-bottom:12px;}&.narrow .fc-list-table{table-layout:fixed;tr th,tr td{&:first-of-type{box-sizing:border-box;width:30%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}&[aria-hidden="true"]{box-sizing:border-box;width:5%;}&:last-of-type{box-sizing:border-box;width:65%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}}}.fc-dayGridMonth-view{.fc-event-time,.fc-event-title{display:none;}.fc-daygrid-event-harness{margin-top:0!important;}.fc-daygrid-day-events{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;position:relative;margin-top:0;}}.fc-dayGridDay-view{.fc-event-title{&:before{content:"- ";}}th.fc-col-header-cell.fc-day{font-size:16px;font-weight:400;.fc-col-header-cell-cushion{padding:8px 14px;text-transform:none;}}}&.narrow{.fc-dayGridMonth-view .fc-scrollgrid-sync-table{overflow:hidden;}.fc .fc-col-header-cell-cushion{padding:0.4rem;}.monthly-toggle-view{display:none;}}.fc-header-toolbar,.fc .fc-toolbar{display:none;}'}:{name:"1318kic",styles:'.contents .calendar>*{flex-grow:1;background-color:var(--ha-S300);min-height:400px;--fc-neutral-bg-color:var(--ha-S300);--fc-list-event-hover-bg-color:var(--ha-S300);--fc-theme-standard-border-color:var(--ha-S500);--fc-border-color:var(--ha-S500);--fc-page-bg-color:var(--ha-S300);}a{color:inherit!important;}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--ha-S500);border-radius:0.5rem;}.fc-theme-standard td{border-bottom-left-radius:0.5rem;border-bottom-right-radius:0.5rem;}.fc-scrollgrid-section-header td{border:none;}th.fc-col-header-cell.fc-day{background-color:var(--ha-S200);color:var(--ha-S200-contrast);font-size:11px;font-weight:bold;text-transform:uppercase;}.fc-daygrid-dot-event:hover{background-color:inherit;}.fc-daygrid-day-top{text-align:center;padding-top:0.25rem;justify-content:center;}table.fc-scrollgrid-sync-table tbody tr:first-of-type .fc-daygrid-day-top{padding-top:0;}a.fc-daygrid-day-number{font-size:0.8rem;cursor:pointer;}.fc .fc-daygrid-day-number{}.fc .fc-daygrid-more-link{font-size:0.7rem;float:none;}.fc-daygrid-day-bottom{width:100%;text-align:center;&:before,&:after{display:none;}}.fc .fc-daygrid-day.fc-day-today{background:inherit;}td.fc-day-today .fc-daygrid-day-number{height:1.5rem;width:1.5rem;flex-grow:0;flex-shrink:0;display:flex;border-radius:50%;text-align:center;white-space:nowrap;background-color:var(--ha-A400);color:var(--ha-900-contrast);line-height:1.5rem;padding:0;align-items:center;justify-content:center;}.fc-event{border-radius:4px;line-height:1.7;cursor:pointer;}.fc-daygrid-block-event .fc-event-main{padding:0 1px;}.fc-day-past .fc-daygrid-day-events{opacity:0.5;}.fc-popover{background-color:var(--primary-background-color)!important;}.fc-popover-header{background-color:var(--secondary-background-color)!important;}.fc-theme-standard .fc-list-day-frame{background-color:transparent;}.fc-list.fc-view,.fc-list-event.fc-event td{border:none;}.fc-list-day.fc-day th{border-bottom:none;border-top:1px solid var(--fc-theme-standard-border-color, #ddd)!important;}.fc-list-day-text{font-size:16px;font-weight:400;}.fc-list-day-side-text{font-weight:400;font-size:16px;color:var(--primary-color);}.fc-list-day-cushion{background-color:var(--ha-S200);color:var(--ha-S200-contrast);}.fc-list-table td,.fc-list-day-frame{padding-top:12px;padding-bottom:12px;}&.narrow .fc-list-table{table-layout:fixed;tr th,tr td{&:first-of-type{box-sizing:border-box;width:30%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}&[aria-hidden="true"]{box-sizing:border-box;width:5%;}&:last-of-type{box-sizing:border-box;width:65%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}}}.fc-dayGridMonth-view{.fc-event-time,.fc-event-title{display:none;}.fc-daygrid-event-harness{margin-top:0!important;}.fc-daygrid-day-events{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;position:relative;margin-top:0;}}.fc-dayGridDay-view{.fc-event-title{&:before{content:"- ";}}th.fc-col-header-cell.fc-day{font-size:16px;font-weight:400;.fc-col-header-cell-cushion{padding:8px 14px;text-transform:none;}}}&.narrow{.fc-dayGridMonth-view .fc-scrollgrid-sync-table{overflow:hidden;}.fc .fc-col-header-cell-cushion{padding:0.4rem;}.monthly-toggle-view{display:none;}}.fc-header-toolbar,.fc .fc-toolbar{display:none;}',toString:Ht}),Ji=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eblbn6u2"}:{target:"eblbn6u2",label:"Header"})(process.env.NODE_ENV==="production"?{name:"1dvcxr3",styles:"padding:1rem"}:{name:"1dvcxr3",styles:"padding:1rem",toString:Ht}),Zi=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eblbn6u1"}:{target:"eblbn6u1",label:"EventBody"})(process.env.NODE_ENV==="production"?{name:"3jlgtg",styles:"overflow-wrap:break-word;color:var(--ha-S200-contrast);padding:1rem 0;width:100%;display:flex;flex-direction:column"}:{name:"3jlgtg",styles:"overflow-wrap:break-word;color:var(--ha-S200-contrast);padding:1rem 0;width:100%;display:flex;flex-direction:column",toString:Ht}),ec=j.createStyled(Be.Alert,process.env.NODE_ENV==="production"?{target:"eblbn6u0"}:{target:"eblbn6u0",label:"StyledAlert"})(process.env.NODE_ENV==="production"?{name:"1ubykaj",styles:"position:absolute;bottom:0;left:0;right:0;z-index:4;&:after{border-radius:0;}"}:{name:"1ubykaj",styles:"position:absolute;bottom:0;left:0;right:0;z-index:4;&:after{border-radius:0;}",toString:Ht}),Xr=e=>{if(typeof e=="string")return e;if(e?.dateTime)return e.dateTime;if(e?.date)return e.date};function tc(e){const r={month:"long",day:"numeric",year:"numeric"},o={hour:"2-digit",minute:"2-digit"},n=new Date(e),a=new Intl.DateTimeFormat("en-US",r).format(n),l=new Intl.DateTimeFormat("en-US",o).format(n),d=new Date(n.getTime()+15*6e4),c=new Intl.DateTimeFormat("en-US",o).format(d);return`${a} ${l} - ${c}`}const rc={headerToolbar:!1,plugins:[vo,yo,xo],initialView:"dayGridMonth",dayMaxEventRows:!0,height:"parent",views:{listWeek:{type:"list",duration:{days:7}}},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!0}};function nc({entities:e,className:r,timeZone:o,view:n,disableAutoView:a=!1,disableNarrow:l=!1,includeHeader:d=!0,cssStyles:c,key:u,...m}){const{callApi:p}=i.useHass.getState().helpers,v=i.useHass(W=>W.globalComponentStyles),S=i.useHass(W=>W.config),g=s.useRef(null),h=s.useRef(!1),[y,f]=s.useState(null),[C,w]=s.useState(""),[E,k]=s.useState(!1),[x,_]=s.useState(!1),{width:R,ref:A}=dr.useResizeDetector({refreshMode:"debounce",handleHeight:!1,refreshRate:500}),[D,b]=s.useState(null),N=i.useHass(Qi(W=>e.map(Y=>W.entities[Y]))),[T,V]=s.useState(n??"dayGridMonth"),$=N.filter(W=>!i.isUnavailableState(W?.state)),I=s.useCallback(async(W,Y)=>{f(null);const Z=encodeURI(`?start=${W.start.toISOString()}&end=${W.end.toISOString()}`),ge=[],F=[],B=e.map(async X=>p(`/calendars/${X}${Z}`,{method:"GET"}).then(te=>({result:te,error:te.status==="error"?te.data:null,entityId:X}),te=>({error:te,result:null,entityId:X})));(await Promise.all(B)).forEach(({result:X,error:te,entityId:oe},se)=>{const he=i.getColorByIndex(se);if(te||!X||X.status==="error"){F.push(`${oe} - ${te}`);return}(X.data??[]).forEach(le=>{const ye=Xr(le.start),ve=Xr(le.end);if(!ye||!ve)return;const _e={uid:le.uid,summary:le.summary,description:le.description,dtstart:ye,dtend:ve,recurrence_id:le.recurrence_id,rrule:le.rrule},ze={start:ye,end:ve,title:le.summary,backgroundColor:he,borderColor:he,calendar:e[se],eventData:_e};ge.push(ze)})}),F.length>0?(f(`${i.localize("components.calendar.event_retrieval_error")}: "${F.join(", ")}".`),Y([])):Y(ge),h.current=!0},[p,e]),z=s.useCallback(W=>{if(!g.current)return;const Y=g.current.getApi();Y.batchRendering(()=>{Y.removeAllEventSources(),W(Y),Y.addEventSource(I),w(Y.view.title)})},[I]),M=s.useCallback(W=>{if(g.current){const Y=g.current.getApi();g.current.requestResize(),W<400&&(!a&&Y.view.type!=="listWeek"&&z(Z=>{Z.setOption("eventDisplay","auto"),Z.changeView("listWeek"),V("listWeek")}),!x&&!l&&_(!0)),W>=400&&x&&!l&&_(!1)}},[x,a,l,z]);s.useEffect(()=>{R&&M(R)},[R,M]);const O=s.useCallback(()=>{z(W=>W.next())},[z]),L=s.useCallback(()=>{z(W=>W.prev())},[z]),P=s.useCallback(()=>{z(W=>W.today())},[z]),J=s.useCallback(W=>{if(W===T||!g.current)return;const Y=W==="dayGridMonth"?"list-item":"auto";z(Z=>{Z.setOption("eventDisplay",Y),Z.changeView(W),V(W)})},[T,z]),H=s.useCallback(W=>{const Y=$.find(Z=>Z.entity_id===W.event.extendedProps.calendar);b({...W.event.extendedProps,entity:Y??null})},[$]),U=s.useCallback(W=>{W.view.type==="dayGridMonth"&&z(Y=>{Y.gotoDate(W.date),Y.changeView("dayGridDay"),V("dayGridDay")})},[z]);return s.useEffect(()=>{if(!h.current)if(n)z(W=>{W.changeView(n)});else{const W="dayGridMonth",Y="list-item";z(Z=>{Z.setOption("eventDisplay",Y),Z.changeView(W),V(W)})}},[z,n]),t.jsxs(Ki,{disableScale:!0,disableActiveState:!0,disableRipples:!0,className:`calendar-card ${r??""} ${x?"narrow":""}`,cssStyles:`
        ${v.calendarCard??""}
        ${c??""}
      `,...m,children:[d&&t.jsxs(Ji,{className:"header",children:[t.jsxs(K.Row,{justifyContent:"space-between",children:[t.jsx(ee.Column,{children:t.jsx("h3",{className:"title",children:C})}),t.jsxs(Ve,{className:"button-group-nav",children:[t.jsx(Ne,{title:i.localize("previous"),size:35,disabled:E,onClick:()=>{L()},icon:"mdi:navigate-before"}),t.jsx(Ne,{title:i.localize("next"),size:35,disabled:E,onClick:()=>{O()},icon:"mdi:navigate-next"})]})]}),t.jsx(K.Row,{justifyContent:"flex-end",children:t.jsxs(Ve,{className:"button-group-views",children:[t.jsx(Ne,{title:i.localize("today"),size:35,disabled:E,onClick:()=>{P()},noIcon:!0,children:i.localize("today").toUpperCase()}),t.jsx(Ne,{className:"monthly-toggle-view",title:i.localize("monthly"),active:T==="dayGridMonth",size:35,disabled:E,onClick:()=>{J("dayGridMonth")},icon:"mdi:view-module"}),t.jsx(Ne,{title:i.localize("weekly"),size:35,disabled:E,onClick:()=>{J("listWeek")},icon:"mdi:view-week"}),t.jsx(Ne,{title:i.localize("daily"),size:35,disabled:E,onClick:()=>{J("dayGridDay")},icon:"mdi:view-day"})]})})]}),t.jsx("div",{className:"calendar",ref:A,children:t.jsx(bo,{dateClick:U,moreLinkClick:U,eventClick:H,editable:!1,ref:g,loading:W=>{k(W)},locale:S?.language,timeZone:o??"local",progressiveEventRendering:!0,...rc})}),E&&t.jsx(ec,{className:"loading",description:`${i.localize("loading")}...`}),D&&t.jsx(qt,{title:D.eventData.summary,id:D.eventData.uid,description:t.jsx(K.Row,{justifyContent:"flex-start",gap:"1rem",style:{textTransform:"lowercase"},children:D.entity.attributes.friendly_name}),open:!0,onClose:()=>{b(null)},children:t.jsxs(ee.Column,{justifyContent:"flex-start",alignItems:"flex-start",children:[t.jsxs(K.Row,{justifyContent:"flex-start",gap:"1rem",children:[t.jsx(be.Icon,{style:{fontSize:"1.5rem"},icon:"mdi:calendar-clock"}),t.jsx("span",{children:tc(D.eventData.dtstart)})]}),D.eventData.description&&t.jsx(Zi,{dangerouslySetInnerHTML:{__html:wo.link(D.eventData.description.replace(/\n/g,"<br/>"),{newWindow:!0,stripPrefix:!1})}})]})}),y&&t.jsx(Be.Alert,{title:i.localize("components.calendar.event_retrieval_error"),type:"error",children:y})]},u)}function oc(e){const r={xxs:12,xs:8,sm:6,md:6,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"CalendarCard"}),children:t.jsx(nc,{...r,...e})})}function sc(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ac=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"esp99v32"}:{target:"esp99v32",label:"ButtonBarParent"})("display:flex;",({fullWidth:e})=>e?`
        > .fit-content {
          flex-basis: auto;
          width: 100%;
        }
      `:"",";"),ic=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"esp99v31"}:{target:"esp99v31",label:"FitContent"})(process.env.NODE_ENV==="production"?{name:"16j8dh",styles:"display:flex;flex-basis:fit-content"}:{name:"16j8dh",styles:"display:flex;flex-basis:fit-content",toString:sc}),cc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"esp99v30"}:{target:"esp99v30",label:"ButtonBarInner"})("display:flex;flex-direction:row;flex-wrap:",({wrap:e})=>e||"wrap",";justify-content:",({justifyContent:e})=>e||"center",";align-items:",({alignItems:e})=>e||"center",";width:",({fullWidth:e})=>e?"100%":"auto",";height:",({fullHeight:e})=>e?"100%":"auto",";overflow:hidden;flex-wrap:nowrap;>*{height:100%;width:auto;display:flex;align-items:stretch;.button-bar-button{height:100%;display:flex;align-items:stretch;}}&.grouped{background-color:var(--ha-S300);border-radius:0.5rem;border:1px solid var(--ha-S500);>*{border-right:1px solid var(--ha-S500);&:last-of-type{border-right:none;}}}&.bubble{gap:",({gap:e})=>e||"0px",";>*{flex-grow:1;}.button-bar-button{background-color:var(--ha-300-a3-contrast);color:var(--ha-300);&:not(.disabled):not(:focus):hover{background-color:var(--ha-S50-a6);color:var(--ha-500);}}}");function lc({key:e,alignItems:r,fullWidth:o,fullHeight:n,gap:a,justifyContent:l,wrap:d,style:c,id:u,className:m,cssStyles:p,children:v,layoutType:S="grouped",...g}){const h=s.Children.map(v,(y,f)=>s.isValidElement(y)?s.cloneElement(y,{key:y.key||f,size:y?.props?.size??(S==="bubble"?35:30),borderRadius:S==="bubble"?"8px":"0px"}):null);return t.jsx(ac,{id:u??"",css:de.css(p??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalButtonBar;")),layoutType:S,className:`button-bar ${S} ${m??""}`,style:{...c??{}},...g,children:t.jsx(ic,{className:"fit-content",children:t.jsx(cc,{className:`button-group-inner ${S}`,alignItems:r,justifyContent:l,wrap:d,gap:a??S==="bubble"?"0.5rem":"0",fullWidth:o,fullHeight:n,children:h})})},e)}function Ve(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ButtonBar"}),children:t.jsx(lc,{...e})})}const dc=35;function Ne({key:e,children:r,active:o,className:n,size:a,cssStyles:l,borderRadius:d,hideActiveBorder:c,...u}){return t.jsx(ae,{className:`button-bar-button ${n??""} ${c?"hide-active-border":""}`,disableScale:!0,borderRadius:d??0,size:a??dc,active:o,cssStyles:`
        &.button-bar-button {
          height: auto;
          &:not(.hide-active-border) {
            border-bottom: 2px solid transparent;
            transition: border-bottom-color var(--ha-transition-duration) var(--ha-easing);
          }
          
          .contents {
            > div {
              padding: 0.4rem;
            }
          }
          &.active {
            &:not(.hide-active-border) {
              border-bottom-color: var(--ha-A400);
            }
          }
        }
        ${l??""}
      `,...u,children:r},e)}const uc=j.createStyled(K.Row,process.env.NODE_ENV==="production"?{target:"eih8kqy0"}:{target:"eih8kqy0",label:"ButtonGroupParent"})("--ha-control-button-group-thickness:",e=>e.thickness,"px;width:auto;&:not(.maintain-aspect-ratio){>*{flex:1;height:100%;width:100%;}}&.maintain-aspect-ratio{>*{flex-grow:0;}}&:not(.vertical){height:var(--ha-control-button-group-thickness);&.maintain-aspect-ratio{>*{height:100%;width:var(--ha-control-button-group-thickness);}}}&.vertical{width:var(--ha-control-button-group-thickness);&.maintain-aspect-ratio{>*{width:100%;height:var(--ha-control-button-group-thickness);}}}");function pc({key:e,orientation:r="vertical",reverse:o=!1,thickness:n=100,children:a,className:l,gap:d="1rem",maintainAspectRatio:c=!0,...u}){const m=s.Children.map(a,(S,g)=>s.isValidElement(S)?s.cloneElement(S,{key:S.key||g}):S),p=s.useMemo(()=>["button-group-parent",l,c?"maintain-aspect-ratio":"",o?"reverse":"",r==="vertical"?"vertical":""].filter(S=>!!S).join(" "),[c,l,o,r]),v=s.useMemo(()=>o?r==="vertical"?"column-reverse":"row-reverse":r==="vertical"?"column":"row",[o,r]);return t.jsx(uc,{...u,style:{...u.style||{},flexDirection:v},gap:d,thickness:n,className:p,children:m},e)}function rt(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ButtonGroup"}),children:t.jsx(pc,{...e})})}const hc=j.createStyled("button",process.env.NODE_ENV==="production"?{target:"e17qyjtk0"}:{target:"e17qyjtk0",label:"Button"})("outline:none;cursor:pointer;border:0;border-radius:",e=>e.borderRadius??.25,"rem;background-color:var(--ha-S300);color:var(--ha-S500-contrast);display:flex;flex-shrink:0;aspect-ratio:1/1;justify-content:center;align-items:center;box-shadow:0px 2px 4px rgba(0, 0, 0, 0.1);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:transform,background-color,color,box-shadow,opacity;font-size:calc(var(--ha-control-button-group-thickness) / 4);width:100%;height:100%;svg{transition:color var(--ha-transition-duration) var(--ha-easing);}&:not(:disabled):hover{background-color:var(--ha-S400);}&:disabled{cursor:not-allowed;opacity:0.8;}&.active:not(:disabled){background-color:",e=>e.activeColor??"var(--ha-A400)",";color:var(--ha-900-contrast);svg{color:var(--ha-900-contrast);}&:hover{background-color:",e=>e.activeColor??"var(--ha-A700)",";}}&:active:not(:disabled):not(.disable-scale-effect){transform:scale(0.9);}");function fc({entity:e,onClick:r,icon:o,iconProps:n,title:a,active:l,service:d,serviceData:c,key:u,showTitle:m=!1,activeColor:p,children:v,disabled:S,disableScaleEffect:g=!1,style:h,...y}){const f=i.useEntity(e??"unknown",{returnNullIfNotFound:!0}),C=i.useIcon(o??f?.attributes?.icon??(v?null:"mdi:help-circle-outline"),n),w=s.useMemo(()=>a??f?.attributes?.friendly_name??f?.entity_id??"",[f,a]),E=s.useMemo(()=>l??f?.state===i.ON,[f,l]);return t.jsx(me,{placement:"left",title:w,...y,children:t.jsxs(hc,{className:`button-group-button ${m?"has-title":""} ${E?"active":""} ${g?"disable-scale-effect":""}`,activeColor:p,disabled:S,onClick:()=>{r&&r(f),d&&f&&f.service[d](c??{})},style:h,children:[m&&t.jsxs(ee.Column,{children:[t.jsx(K.Row,{fullWidth:!0,children:C}),t.jsx(K.Row,{fullWidth:!0,style:{fontSize:"1.2rem"},children:a})]}),!m&&C,v&&v]})},u)}function Re(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ButtonGroupButton"}),children:t.jsx(fc,{...e})})}function Pn({url:e,posterUrl:r,controls:o=!0,muted:n=!1,autoPlay:a=!1,playsInline:l=!1,onStateChange:d}){const c=s.useRef(null),[u,m]=s.useState(null),[p,v]=s.useState(null),S=s.useRef(void 0),g=s.useRef(!1),h=s.useCallback(async(w,E,k)=>{const x=new E({backBufferLength:60,fragLoadingTimeOut:3e4,manifestLoadingTimeOut:3e4,levelLoadingTimeOut:3e4,maxLiveSyncPlaybackRate:2,lowLatencyMode:f()});S.current=x,x.attachMedia(w),x.on(E.Events.MEDIA_ATTACHED,()=>{v(null),m(null),x.loadSource(k)}),x.on(E.Events.FRAG_LOADED,()=>{v(null),m(null)}),x.on(E.Events.ERROR,(_,R)=>{if(R.fatal)if(R.type===E.ErrorTypes.NETWORK_ERROR){switch(R.details){case E.ErrorDetails.MANIFEST_LOAD_ERROR:{let A="Error starting stream, see logs for details";R.response!==void 0&&R.response.code!==void 0&&(R.response.code>=500?A+=" (Server failure)":R.response.code>=400?A+=" (Stream never started)":A+=" ("+R.response.code+")"),v(A);break}case E.ErrorDetails.MANIFEST_LOAD_TIMEOUT:v("Timeout while starting stream");break;default:v("Stream network error");break}x.startLoad()}else R.type===E.ErrorTypes.MEDIA_ERROR?(v("Error with media stream contents"),x.recoverMediaError()):m("Error playing stream")})},[]),y=s.useCallback(async()=>{if(!c.current||g.current)return;const w=fetch(e),E=(await Promise.resolve().then(()=>require("./hls.light-Dw1fLTC3.cjs"))).default;g.current=!0;let k=E.isSupported();if(k||(k=c.current.canPlayType("application/vnd.apple.mpegurl")!==""),!k){m("video not supported");return}const x=await(await w).text(),_=/#EXT-X-STREAM-INF:.*?(?:CODECS=".*?(hev1|hvc1)?\..*?".*?)?(?:\n|\r\n)(.+)/g,R=_.exec(x),A=_.exec(x);let D;R!==null&&A===null?D=new URL(R[2],e).href:D=e,E.isSupported()?h(c.current,E,D):C(c.current,D)},[e,h]);function f(){if(typeof window<"u"&&!("performance"in window)||performance.getEntriesByType("resource").length===0)return!1;const w=performance.getEntriesByType("resource")[0];return"nextHopProtocol"in w&&w.nextHopProtocol==="h2"}async function C(w,E){w.src=E,w.addEventListener("loadedmetadata",()=>{w.play()})}return s.useEffect(()=>{y()},[y]),u?t.jsx(Be.Alert,{type:"error",description:u}):(p&&console.error(p),t.jsx(mn.VideoPlayer,{ref:c,type:"application/vnd.apple.mpegurl",poster:r,autoPlay:a,muted:n,playsInline:l,controls:o,onVideoStateChange:d}))}function $n({entity:e,controls:r,muted:o,autoPlay:n,playsInline:a,posterUrl:l,onStateChange:d}){const c=i.useHass(x=>x.connection),u=s.useRef(null),[m,p]=s.useState(void 0),v=s.useRef(void 0),S=s.useRef(void 0),g=s.useRef(void 0),h=s.useRef([]),y=s.useRef(void 0),f=s.useRef(!1),C=s.useCallback(async()=>c?.sendMessagePromise({type:"camera/webrtc/get_client_config",entity_id:e}),[c,e]),w=()=>{if(S.current&&(S.current.getTracks().forEach(x=>{x.stop()}),S.current=void 0),u.current&&(u.current.removeAttribute("src"),u.current.load()),v.current){const x=v.current;x.close(),x.onnegotiationneeded=null,x.onicecandidate=null,x.oniceconnectionstatechange=null,x.onicegatheringstatechange=null,x.ontrack=null,x.onsignalingstatechange=null,v.current=void 0}y.current?.then(x=>x()),y.current=void 0,g.current=void 0,h.current=[]},E=s.useCallback(async x=>{!S.current||!u.current||(S.current.addTrack(x.track),u.current.srcObject=S.current)},[S]),k=s.useCallback(async()=>{if(!c||!u.current||f.current)return;f.current=!0,p(void 0);const x=await C();if(!x)return;const _=new RTCPeerConnection(x.configuration);x.dataChannel&&_.createDataChannel(x.dataChannel);const R=(N,T)=>c?.sendMessage({type:"camera/webrtc/candidate",entity_id:e,session_id:N,candidate:T}),A=async()=>{if(!_)return;const N={offerToReceiveAudio:!0,offerToReceiveVideo:!0},T=await _.createOffer(N);if(!_||(await _.setLocalDescription(T),!_))return;let V="";if(x?.getCandidatesUpfront&&(await new Promise(M=>{_.onicegatheringstatechange=O=>{O.target.iceGatheringState==="complete"&&(_.onicegatheringstatechange=null,M())}}),!_))return;for(;h.current.length;){const M=h.current.pop();M&&(V+=`a=${M}\r
`)}const $=async M=>{if(!v.current?.signalingState||["stable","closed"].includes(v.current.signalingState))return;const O=new RTCSessionDescription({type:"answer",sdp:M.answer});try{await v.current.setRemoteDescription(O)}catch(L){L instanceof Error&&p("Failed to connect WebRTC stream: "+L.message),w()}},I=async M=>{if(M.type==="session")g.current=M.session_id,h.current.forEach(O=>R(M.session_id,O.toJSON())),h.current=[];else if(M.type==="answer")$(M);else if(M.type==="candidate")try{const O=M.candidate.sdpMid||M.candidate.sdpMLineIndex!=null?new RTCIceCandidate(M.candidate):new RTCIceCandidate({candidate:M.candidate.candidate,sdpMid:"0"});await v.current?.addIceCandidate(O)}catch(O){O instanceof Error&&p(O.message),console.error(O)}else M.type==="error"&&(p("Failed to start WebRTC stream: "+M.message),w())},z=T.sdp+V;try{y.current=c.subscribeMessage(M=>I(M),{type:"camera/webrtc/offer",entity_id:e,offer:z})}catch(M){M instanceof Error&&p("Failed to start WebRTC stream: "+M.message),w()}};_.onnegotiationneeded=A;const D=N=>{N.candidate?.candidate&&(g.current?R(g.current,N.candidate.toJSON()):h.current.push(N.candidate))};_.onicecandidate=D;const b=()=>{_?.iceConnectionState==="failed"&&_.restartIce()};_.oniceconnectionstatechange=b,_.onsignalingstatechange=N=>{switch(N.target.signalingState){case"stable":console.log("WebRTC ICE Negotiation complete");break;default:console.log(`WebRTC signaling state changed: ${N.target.signalingState}`)}},S.current=new MediaStream,_.ontrack=E,_.addTransceiver("audio",{direction:"recvonly"}),_.addTransceiver("video",{direction:"recvonly"}),v.current=_},[C,E,c,e]);return s.useEffect(()=>{k()},[k]),s.useEffect(()=>{const x=u.current;return()=>{S.current&&(S.current.getTracks().forEach(_=>{_.stop()}),S.current=void 0),x&&(x.removeAttribute("src"),x.load()),v.current&&(v.current.close(),v.current=void 0)}},[]),m?t.jsx(Be.Alert,{type:"error",description:m}):t.jsx(mn.VideoPlayer,{ref:u,poster:l,autoPlay:n,muted:o,playsInline:a,controls:r,onVideoStateChange:d})}function Fn({entity:e,muted:r=!1,controls:o=!0,autoPlay:n=!1,playsInline:a=!1,onStateChange:l}){const d=i.useCamera(e),{stream:c,poster:u,mjpeg:m}=d;return m.shouldRenderMJPEG&&m.url?t.jsx("img",{src:m.url,alt:`${i.localize("camera_view")} "${d.attributes.friendly_name??d.entity_id}".`}):d.frontend_stream_types.includes(i.STREAM_TYPE_WEB_RTC)?t.jsx($n,{autoPlay:n,playsInline:a,muted:r,controls:o,entity:e,onStateChange:l,posterUrl:u.url}):d.frontend_stream_types.includes(i.STREAM_TYPE_HLS)?!u.loading&&u.url&&!c.loading&&c.url&&t.jsx(Pn,{autoPlay:n,muted:r,controls:o,playsInline:a,posterUrl:u.url,onStateChange:l,url:c.url}):null}function xt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const mc=j.createStyled(K.Row,process.env.NODE_ENV==="production"?{target:"eh4n7gh5"}:{target:"eh4n7gh5",label:"Header"})(process.env.NODE_ENV==="production"?{name:"14evq1",styles:"position:absolute;top:0;left:0;right:0;padding:0.5rem;z-index:1"}:{name:"14evq1",styles:"position:absolute;top:0;left:0;right:0;padding:0.5rem;z-index:1",toString:xt}),gc=j.createStyled(ae,process.env.NODE_ENV==="production"?{target:"eh4n7gh4"}:{target:"eh4n7gh4",label:"StateFabCard"})("box-shadow:0px 2px 4px rgba(255, 255, 255, 0.1);border-radius:10px;.icon{background-color:",e=>e.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.5)",";color:",e=>e.active?"rgba(0, 0, 0, 1)":"rgba(0, 0, 0, 0.4)",";&:not(:disabled):hover{background-color:",e=>e.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.5)",";}}"),bc=j.createStyled(xe,process.env.NODE_ENV==="production"?{target:"eh4n7gh3"}:{target:"eh4n7gh3",label:"Wrapper"})(process.env.NODE_ENV==="production"?{name:"1w0uscc",styles:"aspect-ratio:16/9"}:{name:"1w0uscc",styles:"aspect-ratio:16/9",toString:xt}),Qr=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eh4n7gh2"}:{target:"eh4n7gh2",label:"CameraName"})(process.env.NODE_ENV==="production"?{name:"1urrs02",styles:"color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);padding:0.5rem;border-radius:0.4rem"}:{name:"1urrs02",styles:"color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);padding:0.5rem;border-radius:0.4rem",toString:xt}),vc=j.createStyled(K.Row,process.env.NODE_ENV==="production"?{target:"eh4n7gh1"}:{target:"eh4n7gh1",label:"Footer"})(process.env.NODE_ENV==="production"?{name:"1v9exgy",styles:"padding:0.5rem;color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem;z-index:1"}:{name:"1v9exgy",styles:"padding:0.5rem;color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem;z-index:1",toString:xt}),xc=j.createStyled(be.Icon,process.env.NODE_ENV==="production"?{target:"eh4n7gh0"}:{target:"eh4n7gh0",label:"StyledIcon"})(process.env.NODE_ENV==="production"?{name:"1jjc3cw",styles:"opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:2rem"}:{name:"1jjc3cw",styles:"opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:2rem",toString:xt}),Dt=40;function yc({entity:e,view:r="poster",autoPlay:o=!0,muted:n=!0,controls:a=!1,playsInline:l=!0,posterUpdateInterval:d=1e4,className:c,name:u,hideName:m,headerSensors:p,hideFooter:v,hideViewControls:S,onClick:g,service:h,serviceData:y,cssStyles:f,key:C,...w}){const E=i.useHass(U=>U.globalComponentStyles),k=s.useRef(void 0),x=s.useRef(null),_=s.useRef(null),[R,A]=s.useState(!0),[D,b]=s.useState(r),N=i.useCamera(e,{stream:!1,poster:D==="poster"}),{poster:T,mjpeg:V}=N,$=i.isUnavailableState(N.state),I=N.frontend_stream_types.includes(i.STREAM_TYPE_WEB_RTC)||N.frontend_stream_types.includes(i.STREAM_TYPE_HLS),z=()=>{k.current&&(clearInterval(k.current),k.current=void 0)},M=s.useCallback(()=>{z(),k.current=setInterval(()=>T.refresh(),d)},[T,d]);s.useEffect(()=>()=>{z()},[]),s.useEffect(()=>{r==="poster"&&M()},[r,M]),s.useEffect(()=>{r&&b(r)},[r]);const O=s.useCallback(()=>{A(!1)},[]),L=s.useCallback(()=>{A(!0)},[]),P=s.useCallback(U=>{_.current!==null&&(U==="canplay"||U==="canplaythrough"?_.current.innerText="ready":U==="play"||U==="playing"?_.current.innerText="playing":_.current.innerText=U),x.current&&(x.current.style.opacity=U==="waiting"||U==="stalled"?"1":"0")},[]),J=s.useMemo(()=>{const U=[];return I&&U.push(t.jsx(Ne,{icon:"mdi:video",size:Dt,disabled:$,onClick:()=>{b("live")},active:D==="live",title:i.localize("preload_camera_stream"),tooltipPlacement:"top",rippleProps:{preventPropagation:!0}},"live")),U.push(t.jsx(Ne,{icon:"mdi:video-image",size:Dt,disabled:$,onClick:()=>{b("motion")},active:D==="motion",title:`${i.localize("motion")} ${i.localize("view")}`,tooltipPlacement:"top",rippleProps:{preventPropagation:!0}},"motion"),t.jsx(Ne,{icon:"el:picture",size:Dt,disabled:$,onClick:()=>{b("poster")},active:D==="poster",title:`${i.localize("image")} ${i.localize("view")}`,tooltipPlacement:"top",rippleProps:{preventPropagation:!0}},"poster")),U},[I,$,D]),H=s.useMemo(()=>u??N.attributes.friendly_name??N.entity_id,[u,N]);return t.jsx(t.Fragment,{children:t.jsxs(bc,{entity:e,service:h,serviceData:y,disableActiveState:!0,title:H,className:`camera-card ${c??""}`,onClick:U=>{g&&g(N,U)},cssStyles:`
          ${E.cameraCard??""}
          ${f??""}
        `,...w,children:[t.jsxs(mc,{justifyContent:"space-between",gap:"0.5rem",children:[t.jsx(K.Row,{justifyContent:"flex-start",gap:"0.5rem",children:t.jsx(gc,{active:!0,borderRadius:10,disableScale:!0,size:30,noIcon:!0,children:t.jsx("div",{ref:_,children:R||D==="live"?i.localize("loading"):N.state})})}),$&&t.jsxs(Qr,{children:[i.localize("unavailable")," ",N.entity_id]}),!m&&t.jsx(Qr,{children:H})]}),!v&&t.jsxs(vc,{justifyContent:"space-between",gap:"0.5rem",wrap:"nowrap",children:[p&&t.jsx(Ve,{layoutType:"bubble",gap:"0.5rem",children:s.Children.map(p,(U,W)=>s.isValidElement(U)?s.cloneElement(U,{key:U.key||W,size:U.props.size??Dt,rippleProps:{preventPropagation:!0,...U?.props?.rippleProps??{},key:U.key||W}}):U)}),!S&&t.jsx(Ve,{gap:"0.5rem",layoutType:"bubble",children:J})]}),D!=="live"&&(T.url||V.url)&&t.jsx(ur.PreloadImage,{onLoad:O,onLoading:L,src:D==="motion"&&V.url?V.url:T.url??"",style:{width:"100%",height:"100%",position:"absolute"},lazy:!0}),D==="live"&&t.jsxs(t.Fragment,{children:[t.jsx(xc,{ref:x,icon:"eos-icons:three-dots-loading"}),t.jsx(Fn,{autoPlay:o,muted:n,controls:a,playsInline:l,onStateChange:P,entity:e})]})]},C)})}function wc(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return t.jsx(ne.ErrorBoundary,{...re({prefix:"CameraCard"}),children:t.jsx(yc,{...r,...e})})}function Bn(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Sc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e124bvc21"}:{target:"e124bvc21",label:"Wrapper"})(process.env.NODE_ENV==="production"?{name:"1w3rsmz",styles:"--divider-color:rgba(225, 225, 225, 0.12);display:block;height:100%;width:100%;.entry-container{width:100%;}.entry{position:relative;display:flex;width:100%;line-height:1.6rem;padding:0.5rem 1rem;box-sizing:border-box;border-top:1px solid var(--divider-color);justify-content:space-between;align-items:center;}.indicator{background-color:var(--disabled-color);height:0.5rem;width:0.5rem;border-radius:0.25rem;flex-shrink:0;margin-right:0.7rem;margin-inline-start:initial;margin-inline-end:0.7rem;}.entry:hover{background-color:rgba(0, 0, 0, 0.12);}.message-relative_time{display:flex;flex-direction:column;}.secondary{font-size:0.8rem;line-height:1.7;display:flex;gap:0.25rem;}.secondary a{color:var(--ha-S300-contrast);}.date{margin:0.5rem 0;padding:0 1rem;}.icon-message{display:flex;align-items:center;}.no-entries{text-align:center;color:var(--ha-S300-contrast);width:100%;display:block;padding:0.5rem;}.message{color:var(--ha-S100-contrast);span{padding-right:0.15rem;}}.message span:first-of-type{&:first-letter{text-transform:capitalize;}}button.link{color:var(--ha-A100);text-decoration:none;background:0px 0px;border:none;padding:0px;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0px;margin-right:0.15rem;}"}:{name:"1w3rsmz",styles:"--divider-color:rgba(225, 225, 225, 0.12);display:block;height:100%;width:100%;.entry-container{width:100%;}.entry{position:relative;display:flex;width:100%;line-height:1.6rem;padding:0.5rem 1rem;box-sizing:border-box;border-top:1px solid var(--divider-color);justify-content:space-between;align-items:center;}.indicator{background-color:var(--disabled-color);height:0.5rem;width:0.5rem;border-radius:0.25rem;flex-shrink:0;margin-right:0.7rem;margin-inline-start:initial;margin-inline-end:0.7rem;}.entry:hover{background-color:rgba(0, 0, 0, 0.12);}.message-relative_time{display:flex;flex-direction:column;}.secondary{font-size:0.8rem;line-height:1.7;display:flex;gap:0.25rem;}.secondary a{color:var(--ha-S300-contrast);}.date{margin:0.5rem 0;padding:0 1rem;}.icon-message{display:flex;align-items:center;}.no-entries{text-align:center;color:var(--ha-S300-contrast);width:100%;display:block;padding:0.5rem;}.message{color:var(--ha-S100-contrast);span{padding-right:0.15rem;}}.message span:first-of-type{&:first-letter{text-transform:capitalize;}}button.link{color:var(--ha-A100);text-decoration:none;background:0px 0px;border:none;padding:0px;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0px;margin-right:0.15rem;}",toString:Bn}),Ec=["script","automation"],Nc=e=>e.context_event_type||e.context_state||e.context_message,Cc=(e,r)=>r?e.replace(r," "):e,kc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e124bvc20"}:{target:"e124bvc20",label:"Header"})(process.env.NODE_ENV==="production"?{name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"}:{name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem",toString:Bn});function _c({entity:e,hideIndicator:r=!1,hideHeader:o=!1,options:n,className:a,cssStyles:l,id:d,style:c,...u}){const m=i.useLogs(e,n),{joinHassUrl:p}=i.useHass.getState().helpers,v=i.useHass(b=>b.entities),S=i.useHass(b=>b.services),g=i.useHass(b=>b.config?.language),h=i.useDevice(e),y=s.useCallback(async b=>{b&&h&&h.device_id&&typeof window<"u"&&window.open(p(`config/devices/device/${h.device_id}`),"_blank")},[h,p]),f=s.useCallback(()=>{typeof window>"u"||window.open(p(`/logbook?entity_id=${e}`),"_blank")},[e,p]),C=s.useCallback((b,N)=>{const T=b&&b in v,V=N||T&&v[b].attributes.friendly_name||b;return T?t.jsx("button",{className:"link entity-name",onClick:()=>y(b),children:V}):t.jsx("span",{className:"entity-name",children:V})},[v,y]),w=s.useCallback(b=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hourCycle:"h12"}).format(b),[]),E=s.useCallback((b,N,T)=>{if(b.indexOf(".")!==-1){const V=b.split(" ");for(let $=0,I=V.length;$<I;$++)if(V[$]in v){const z=V[$];if(N.includes(z))return null;N.push(z);const M=V.splice($);return M.shift(),t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"triggered-by-state",children:V.join(" ")}),C(z,v[z].attributes.friendly_name),t.jsx("span",{className:"message-suffix",children:M.join(" ")})]})}}if(T&&T in v){const V=v[T].attributes.friendly_name;if(V&&b.endsWith(V))return N.includes(T)?null:(N.push(T),b=b.substring(0,b.length-V.length),t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"message-entity",children:b}),C(T,V)]}))}return t.jsx("span",{className:"message-entity",children:b})},[v,C]),k=s.useCallback(b=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:void 0}).format(b),[]),x=s.useCallback(b=>{const N={backgroundColor:b.state===i.ON?"var(--ha-A400)":"var(--ha-S300-contrast)"};return t.jsx("div",{className:"indicator",style:N})},[]),_=s.useCallback((b,N)=>!b.context_entity_id||N.includes(b.context_entity_id)?"":t.jsxs(t.Fragment,{children:["(",C(b.context_entity_id,b.context_entity_id_name),")"]}),[C]),R=s.useCallback((b,N)=>{if(b.context_state){const T=b.context_entity_id&&b.context_entity_id in v?i.createHistoricState(v[b.context_entity_id],b.context_state):void 0;return t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"triggered-by",children:i.localize("triggered_by_state_of")}),C(b.context_entity_id,b.context_entity_id_name),t.jsx("span",{children:T?i.localizeStateMessage(b.context_state,T,i.computeDomain(b.context_entity_id)):b.context_state})]})}if(b.context_event_type==="call_service")return t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"triggered-by",children:i.localize("triggered_by_action")}),b.context_domain&&b.context_service?t.jsxs("span",{className:"service-trigger-details",children:[b.context_domain,":"," ",S&&S[b.context_domain]?.[b.context_service]?.name||b.context_service]}):null]});if(!b.context_message||N.includes(b.context_entity_id))return null;if(b.context_event_type==="automation_triggered"||b.context_event_type==="script_started"){const T=b.context_source?b.context_source:b.context_message.replace("triggered by ",""),V=i.localizeTriggerSource(T);return t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"triggered-by",children:i.localize(b.context_event_type==="automation_triggered"?"triggered_by_automation":"triggered_by_script")}),C(b.context_entity_id,b.context_entity_id_name),b.context_message?E(V,N,void 0):null]})}return t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"triggered-by",children:i.localize("triggered_by")}),t.jsx("span",{className:"trigger-name",children:b.context_name}),E(b.context_message,N,b.context_entity_id),_(b,N)]})},[E,C,_,v,S]),A=s.useCallback((b,N,T,V)=>{if(b.entity_id&&b.state)return t.jsx("span",{className:"message-state",children:V?i.localizeStateMessage(b.state,V,T):b.state});const $=Nc(b);let I=b.message;if(Ec.includes(T)&&b.source){if($)return null;I=b.source}return I?E($?Cc(I,b.context_entity_id):I,N,void 0):null},[E]),D=s.useCallback((b,N)=>{if(!b||N===void 0)return null;const T=m[N-1],V=[],$=b.entity_id?v[b.entity_id]:void 0,I=$?i.createHistoricState($,b.state):void 0,z=b.entity_id?i.computeDomain(b.entity_id):b.domain,M=new Date(b.when*1e3),O=i.timeAgo(M,g);return t.jsxs("div",{className:"entry-container",children:[N===0||b?.when&&T?.when&&new Date(b.when*1e3).toDateString()!==new Date(T.when*1e3).toDateString()?t.jsx("h4",{className:"date",children:k(new Date(b.when*1e3))}):null,t.jsx("div",{className:`entry ${b.entity_id?"":"no-entity"}`,children:t.jsxs("div",{className:"icon-message",children:[r?"":x(b),t.jsxs("div",{className:"message-relative_time",children:[t.jsxs("div",{className:"message",children:[A(b,V,z,I),R(b,V)]}),t.jsxs("div",{className:"secondary",children:[t.jsx("span",{children:w(new Date(b.when*1e3))}),"-",t.jsx("span",{className:"relative-time",children:O})]})]})]})})]},N)},[R,x,A,v,k,w,m,r,g]);return t.jsx(Sc,{id:d??"",css:de.css(l??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalLogBookRenderer;")),className:`logbook-renderer ${a??""}`,style:{...c??{}},...u,children:m.length?t.jsxs(kc,{children:[!o&&t.jsxs(K.Row,{fullWidth:!0,justifyContent:"space-between",children:[t.jsx("h3",{children:i.localize("activity")}),t.jsx("button",{className:"link",onClick:f,children:i.localize("show_more")})]}),m.map((b,N)=>D(b,N))]}):t.jsx("span",{className:"no-entries",children:i.localize("no_activity_found")})})}function Ln(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"LogBookRenderer"}),children:t.jsx(_c,{...e})})}function ct(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const jc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"epo8zwv6"}:{target:"epo8zwv6",label:"ModalContainer"})("position:absolute;z-index:1;top:50%;left:50%;display:flex;width:var(--ha-modal-width);margin-left:calc(var(--ha-modal-width) / -2);transform:translateY(-50%);color:var(--ha-S50-contrast);max-height:calc(100% - 4rem);overflow:hidden;display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;background-color:var(--ha-S200);z-index:var(--ha-modal-z-index);opacity:0;transition:opacity var(--ha-transition-duration) var(--ha-easing);box-shadow:0px 0px 10px hsla(var(--ha-h), calc(var(--ha-50-s) * 0.8), 3%, 0.6);",ce.mq(["xxs","xs"],`
    max-width: 95vw;
    margin-left: calc(95vw / -2);
  `),";"),Dc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"epo8zwv5"}:{target:"epo8zwv5",label:"ModalInner"})(process.env.NODE_ENV==="production"?{name:"mxrytp",styles:"display:flex;padding:0rem 1rem 2rem;align-items:flex-start;flex-direction:column"}:{name:"mxrytp",styles:"display:flex;padding:0rem 1rem 2rem;align-items:flex-start;flex-direction:column",toString:ct}),Oc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"epo8zwv4"}:{target:"epo8zwv4",label:"ModalOverflow"})(process.env.NODE_ENV==="production"?{name:"1myx6oy",styles:"overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;margin-top:5rem;justify-content:flex-start;align-items:stretch;width:100%"}:{name:"1myx6oy",styles:"overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;margin-top:5rem;justify-content:flex-start;align-items:stretch;width:100%",toString:ct}),Rc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"epo8zwv3"}:{target:"epo8zwv3",label:"ModalHeader"})(process.env.NODE_ENV==="production"?{name:"uk2h7t",styles:"display:flex;align-items:center;justify-content:space-between;padding:1rem;flex-wrap:nowrap;position:absolute;top:0;left:0;right:0"}:{name:"uk2h7t",styles:"display:flex;align-items:center;justify-content:space-between;padding:1rem;flex-wrap:nowrap;position:absolute;top:0;left:0;right:0",toString:ct}),Ic=j.createStyled("h4",process.env.NODE_ENV==="production"?{target:"epo8zwv2"}:{target:"epo8zwv2",label:"Title"})(process.env.NODE_ENV==="production"?{name:"v9z3ep",styles:"margin:0;font-size:1.5rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;>span{margin:0;font-size:0.9rem;color:var(--ha-S500-contrast);display:flex;}"}:{name:"v9z3ep",styles:"margin:0;font-size:1.5rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;>span{margin:0;font-size:0.9rem;color:var(--ha-S500-contrast);display:flex;}",toString:ct}),Ac=j.createStyled("h4",process.env.NODE_ENV==="production"?{target:"epo8zwv1"}:{target:"epo8zwv1",label:"Description"})(process.env.NODE_ENV==="production"?{name:"1klwqgm",styles:"margin:0;font-size:0.9rem;color:var(--ha-S500-contrast)"}:{name:"1klwqgm",styles:"margin:0;font-size:0.9rem;color:var(--ha-S500-contrast)",toString:ct}),Tc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"epo8zwv0"}:{target:"epo8zwv0",label:"ModalBackdrop"})(process.env.NODE_ENV==="production"?{name:"xpyti3",styles:"position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;background:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.3);z-index:var(--ha-modal-z-index);backdrop-filter:blur(2em) brightness(0.75);opacity:0;transition:opacity var(--ha-transition-duration) var(--ha-easing)"}:{name:"xpyti3",styles:"position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;background:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.3);z-index:var(--ha-modal-z-index);backdrop-filter:blur(2em) brightness(0.75);opacity:0;transition:opacity var(--ha-transition-duration) var(--ha-easing)",toString:ct});function zc({open:e,id:r,title:o,description:n,children:a,onClose:l,backdropProps:d,style:c,className:u,cssStyles:m,headerActions:p,autocloseSeconds:v=void 0,animationDuration:S=.25,...g}){const h=s.useId(),y=r??h,f=i.useHass(D=>D.globalComponentStyles),w=i.useHass(D=>D.windowContext)??window,E=i.useHass(D=>D.portalRoot),[k]=pr.useKeyPress(D=>D.key==="Escape"),x=s.useRef(null),_=s.useRef(null),R=s.useRef(null),A=s.useCallback(()=>{x.current&&clearTimeout(x.current),l&&e&&l()},[e,l]);return s.useEffect(()=>{const D=()=>{x.current&&clearTimeout(x.current)};if(D(),v&&e)return x.current=setTimeout(A,v*1e3),D},[e,v,A]),s.useEffect(()=>{k&&A()},[k,A,e]),s.useEffect(()=>{setTimeout(()=>{_.current&&(_.current.style.opacity=e?"1":"0"),R.current&&(R.current.style.opacity=e?"1":"0")},25)},[e,S]),mt.createPortal(t.jsx(t.Fragment,{children:e&&t.jsxs(s.Fragment,{children:[t.jsx(Tc,{ref:R,className:"modal-backdrop",id:`${y}-backdrop`,onClick:()=>{e&&l()},css:de.css("transition-duration:",S,"s;"+(process.env.NODE_ENV==="production"?"":";label:InternalModal;")),...d},`${y}-backdrop`),de.createElement(jc,{...g,ref:_,style:{borderRadius:"16px",...c},css:de.css(f.modal??""," ",m??""," transition-duration:",S,"s;"+(process.env.NODE_ENV==="production"?"":";label:InternalModal;")),key:`${y}-container`,className:`modal-container ${u??""}`},t.jsxs(Rc,{className:"modal-header",children:[t.jsxs(ee.Column,{alignItems:"flex-start",className:"modal-column",style:{flexShrink:1,maxWidth:"70%"},children:[o&&t.jsx(Ic,{className:"modal-title",children:o}),n&&t.jsx(Ac,{className:"modal-description",children:n})]}),t.jsxs(K.Row,{gap:"0.5rem",wrap:"nowrap",style:{flexShrink:0},children:[p&&p(),t.jsx(ae,{onClick:()=>{A()},className:"modal-close-button",tooltipPlacement:"left",title:i.localize("close"),icon:"mdi:close",disableRipples:!0,disableScale:!0})]})]}),t.jsx(Oc,{className:"modal-overflow",children:t.jsx(Dc,{className:"modal-inner",style:{transformOrigin:"top"},children:a})}))]},`${y}-fragment`)}),E??w.document.body)}const qt=s.memo(function(r){return t.jsx(ne.ErrorBoundary,{...re({prefix:"Modal"}),children:t.jsx(zc,{...r})})}),Mc=e=>ie.snakeCase(e.substring(0,e.indexOf(".")));function Wt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Vc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ej2a6e63"}:{target:"ej2a6e63",label:"Separator"})(process.env.NODE_ENV==="production"?{name:"1xfvk1j",styles:"height:30px;width:1px;background-color:var(--ha-S400)"}:{name:"1xfvk1j",styles:"height:30px;width:1px;background-color:var(--ha-S400)",toString:Wt}),Pc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ej2a6e62"}:{target:"ej2a6e62",label:"State"})(process.env.NODE_ENV==="production"?{name:"1m3iohm",styles:"font-weight:400;font-size:36px;line-height:44px;user-select:none;&:first-letter{text-transform:capitalize;}"}:{name:"1m3iohm",styles:"font-weight:400;font-size:36px;line-height:44px;user-select:none;&:first-letter{text-transform:capitalize;}",toString:Wt}),$c=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ej2a6e61"}:{target:"ej2a6e61",label:"Updated"})(process.env.NODE_ENV==="production"?{name:"e8crij",styles:"font-style:normal;font-weight:500;font-size:16px;line-height:24px;letter-spacing:0.1px;padding:4px 0px;margin-bottom:20px;user-select:none;-webkit-tap-highlight-color:transparent;margin-bottom:2rem"}:{name:"e8crij",styles:"font-style:normal;font-weight:500;font-size:16px;line-height:24px;letter-spacing:0.1px;padding:4px 0px;margin-bottom:20px;user-select:none;-webkit-tap-highlight-color:transparent;margin-bottom:2rem",toString:Wt}),Fc=j.createStyled(be.Icon,process.env.NODE_ENV==="production"?{target:"ej2a6e60"}:{target:"ej2a6e60",label:"StyledIcon"})(process.env.NODE_ENV==="production"?{name:"a07gmx",styles:"font-size:2rem"}:{name:"a07gmx",styles:"font-size:2rem",toString:Wt});function Bc(e){return{cover:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/Cover/index.js")),alarm_control_panel:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/AlarmControlPanel/index.js")),camera:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/Camera/index.js")),light:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/Light/index.js")),media_player:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/MediaPlayer/index.js")),person:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/Person/index.js")),switch:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/Switch/index.js")),vacuum:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/Vacuum/index.js")),weather:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/Weather/index.js")),climate:()=>Promise.resolve().then(()=>require("./cjs/Shared/Modal/ModalByEntityDomain/Climate/index.js"))}[e]??null}function Sr({entity:e,hideState:r,hideUpdated:o,hideAttributes:n,headerActionsPosition:a="start",headerActions:l,hideLogbook:d=!1,hideDefaultLayout:c=!1,children:u,...m}){const{joinHassUrl:p}=i.useHass.getState().helpers,[v,S]=s.useState(!1),g=i.useEntity(e),h=i.useDevice(e),y=s.useCallback(()=>{typeof window>"u"||h&&h.device_id&&window.open(p(`config/devices/device/${h.device_id}`),"_blank")},[h,p]),[f,C]=s.useMemo(()=>{const{open:A,id:D,title:b,description:N,onClose:T,backdropProps:V,stateTitle:$,...I}=m;return[{open:A,id:D,title:b,description:N,onClose:T,backdropProps:V,stateTitle:$},I]},[m]),w=Mc(e),E=s.useCallback(A=>{_.current&&(_.current.innerText=A)},[]),k=s.useMemo(()=>{const A=Bc(w);return A?s.lazy(A):null},[w]),x=s.useMemo(()=>{if(!k||c)return null;const A=t.jsx(ee.Column,{fullWidth:!0,fullHeight:!0,children:t.jsx(Fc,{icon:"eos-icons:three-dots-loading",className:"preloader-loading-icon"})});return w==="person"?t.jsx(s.Suspense,{fallback:A,children:t.jsx(k,{entity:e,mapHeight:f.open?300:0,...C})}):t.jsx(s.Suspense,{fallback:A,children:t.jsx(k,{entity:e,onStateChange:E,...C,entity:e})})},[e,c,k,C,E,w,f.open]),_=s.useRef(null),R=s.useMemo(()=>f.stateTitle??ie.startCase(ie.lowerCase(`${g.state}${g.attributes.unit_of_measurement??""}`)),[g,f.stateTitle]);return t.jsx(qt,{...f,headerActions:()=>t.jsxs(t.Fragment,{children:[!d&&v&&t.jsx(ae,{title:i.localize("device"),tooltipPlacement:"left",icon:"mdi:arrow-back",size:30,onClick:()=>S(!1)}),a==="start"&&l&&l(),!d&&!v&&t.jsx(ae,{title:i.localize("activity"),tooltipPlacement:"left",icon:"mdi:graph-box",size:30,onClick:()=>S(!0)}),a==="middle"&&l&&l(),h&&h.device_id&&t.jsx(ae,{title:i.localize("open_device_settings"),tooltipPlacement:"left",icon:"mdi:cog",size:30,onClick:y}),a==="end"&&l&&l(),(!d||h&&h.device_id)&&t.jsx(Vc,{})]}),children:v?t.jsx(t.Fragment,{children:t.jsx(Ln,{entity:e})}):t.jsxs(t.Fragment,{children:[(!o||!r)&&t.jsxs(ee.Column,{fullWidth:!0,children:[!r&&t.jsx(Pc,{className:"state",ref:_,children:R}),!o&&t.jsx($c,{className:"last-updated",children:g.custom.relativeTime})]}),u??null,x,!n&&t.jsx(io,{entity:e})]})})}function Er(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Lc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ec44kzx3"}:{target:"ec44kzx3",label:"VacuumSize"})(process.env.NODE_ENV==="production"?{name:"19ja2ow",styles:"height:100%;max-height:45vh;min-height:300px;margin-bottom:2rem;position:relative"}:{name:"19ja2ow",styles:"height:100%;max-height:45vh;min-height:300px;margin-bottom:2rem;position:relative",toString:Er}),Kr=j.createStyled(ee.Column,process.env.NODE_ENV==="production"?{target:"ec44kzx2"}:{target:"ec44kzx2",label:"ModeColumn"})(process.env.NODE_ENV==="production"?{name:"16ht9uo",styles:"font-size:0.8rem"}:{name:"16ht9uo",styles:"font-size:0.8rem",toString:Er}),Hc=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"ec44kzx1"}:{target:"ec44kzx1",label:"Push"})(process.env.NODE_ENV==="production"?{name:"1dvcxr3",styles:"padding:1rem"}:{name:"1dvcxr3",styles:"padding:1rem",toString:Er}),qc=de.keyframes`
  from {
    transform:rotate(0deg);
  }
  to {
    transform:rotate(360deg);
  }
`,Wc=j.createStyled(ae,process.env.NODE_ENV==="production"?{target:"ec44kzx0"}:{target:"ec44kzx0",label:"FanMode"})("animation-name:",qc,";animation-duration:",e=>{const r=(e.speed||"").toLowerCase().trim(),o=r.includes("silent"),n=r.includes("standard"),a=r.includes("medium"),l=r.includes("turbo");return o?"4s":n?"2.5s":a?"1.8s":l?"0.7s":"2s"},";animation-iteration-count:infinite;animation-timing-function:linear;");function Hn({entity:e,shortcuts:r,onLocate:o,hideToolbar:n=!1,buttonGroupProps:a,...l}){const d=i.useEntity(e),c=at();if(n)return null;const u=gn.getToolbarActions({entity:d,shortcuts:r,onLocate:o});return t.jsx(K.Row,{gap:"0.5rem",...l,children:t.jsx(rt,{wrap:"nowrap",alignItems:"center",justifyContent:"center",orientation:"horizontal",thickness:(c.xxs,80),maintainAspectRatio:!0,...a,children:u.map((m,p)=>t.jsx(Re,{iconProps:{color:m?.active?"var(--ha-300)":void 0},rippleProps:{preventPropagation:!0},onClick:(v,S)=>m?.onClick?.(d,S),...m},p))})})}function Uc({entity:e,hideCurrentBatteryLevel:r=!1,hideFanModes:o=!1,hideToolbar:n=!1,customImage:a,shortcuts:l,buttonGroupProps:d,...c}){const u=i.useEntity(e),m=u.state==="docked",{battery_level:p,fan_speed:v,fan_speed_list:S}=u.attributes||{},[g,h]=s.useState(v);pr.useDebounce(()=>{typeof g=="string"&&u.service.setFanSpeed({serviceData:{fan_speed:g}})},200,[g]);const y=S??[],f=!o&&!m&&y.length>0,C=!r&&typeof p=="number";return t.jsx(ee.Column,{fullHeight:!0,fullWidth:!0,wrap:"nowrap",...c,children:t.jsx(Lc,{children:t.jsxs(ee.Column,{gap:"0.5rem",children:[t.jsx(bn.VacuumImage,{src:a,className:u.state}),(C||f)&&t.jsxs(K.Row,{style:{padding:"1rem 0"},children:[f&&t.jsxs(Kr,{gap:"0.5rem",children:[t.jsx(Wc,{size:40,disabled:m,title:g,speed:m?void 0:g,active:!m,icon:"mdi:fan",onClick:()=>{const w=y.findIndex(k=>k.toLowerCase()===(g??"").toLowerCase()),E=y[w+1]?y[w+1]:y[0];h(E),u.service.setFanSpeed({serviceData:{fan_speed:E}})}}),t.jsx("div",{children:i.localize("fan_speed")}),g]}),C&&f&&t.jsx(t.Fragment,{children:t.jsx(Hc,{})}),C&&t.jsxs(Kr,{gap:"0.5rem",children:[t.jsx(ae,{size:40,disabled:m,title:`${p}%`,icon:i.batteryIconByLevel(p)}),t.jsx("div",{children:i.localize("battery_level")}),`${p}%`]})]}),t.jsx(Hn,{entity:e,hideToolbar:n,shortcuts:l,buttonGroupProps:d})]})})})}const Gc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"exkg1b33"}:{target:"exkg1b33",label:"Slider"})(e=>{const r=[70,70,70];let o=`rgb(${r.join(", ")})`;return e.disabled||(typeof e.sliderColor=="string"?o=e.sliderColor:o=`rgb(${(e.sliderColor||r).join(",")})`),`
      
      touch-action: none;
      --ha-slider-control-thickness: ${e.thickness||40}px;
      --ha-slider-control-border-radius: ${e.borderRadius||10}px;
      --ha-slider-control-handle-size: 4px;
      --ha-slider-control-handle-margin: calc(var(--ha-slider-control-thickness) / 8);
      --ha-slider-control-slider-size: ${e.showHandle?"calc(100% - 2 * var(--ha-slider-control-handle-margin) - var(--ha-slider-control-handle-size))":"100%"};
      
      border-radius: var(--ha-slider-control-border-radius);
      outline: 0px;
      &:focus-visible {
        box-shadow: 0 0 0 2px ${o};
      }
      &:not([vertical]) {
        width: 100%;
        height: var(--ha-slider-control-thickness);
        max-width: 420px;
        min-width: 320px;
      }
      &[vertical] {
        width: var(--ha-slider-control-thickness);
        height: 45vh;
        max-height: 320px;
        min-height: 200px;
        ${ce.mq(["xxs"],`
          min-height: 0;
          height: 35vh;
          max-height: 100%;
        `)}
      }
      .slider {
        position: relative;
        height: 100%;
        width: 100%;
        border-radius: var(--ha-slider-control-border-radius);
        transform: translateZ(0px);
        overflow: hidden;
        cursor: pointer;
      }
      .slider * {
        pointer-events: none;
      }
      .slider-track-background {
        position: absolute;
        top: 0px;
        left: 0px;
        height: 100%;
        width: 100%;
        background: ${o};
        opacity: 0.2;
      }
      .slider-track-bar {
        position: absolute;
        height: 100%;
        width: 100%;
        background-color: ${o};
        transition: transform 180ms ease-in-out, background-color 180ms ease-in-out;                
        &:after {
          display: ${e.showHandle?"block":"none"};
          content: "";
          position: absolute;
          margin: auto;
          border-radius: var(--ha-slider-control-handle-size);
          background-color: white;
        }
      }
      .slider-track-cursor {
        position: absolute;
        background-color: ${o};
        border-radius: var(--ha-slider-control-handle-size);
        transition:
          left 180ms ease-in-out,
          bottom 180ms ease-in-out;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }
      &.horizontal {
        .slider-track-bar {
          top: 0;
          left: 0;
          width: calc(var(--value, 0) * 100%);
          height: 100%;
          transition: width 180ms ease-in-out, background-color 180ms ease-in-out;
          border-radius: 0 var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius) 0;
          overflow: hidden;
          &:after {
            top: 0;
            bottom: 0;
            right: var(--ha-slider-control-handle-margin);
            height: 50%;
            width: var(--ha-slider-control-handle-size);
            opacity: calc(var(--value, 0));
            transition: opacity 120ms ease-in-out;
          }
          &.end {
            right: 0;
            left: initial;
            width: calc(var(--value, 0) * 100%);
            border-radius: var(--ha-slider-control-border-radius) 0 0 var(--ha-slider-control-border-radius);
            &:after {
              right: initial;
              left: var(--ha-slider-control-handle-margin);
            }
          }
        }
        .slider-track-cursor {
          top: 0;
          bottom: 0;
          left: calc(var(--value, 0) * (100% - calc(var(--ha-slider-control-thickness) / 4)));
          width: calc(var(--ha-slider-control-thickness) / 4);
          right: 0;
          height: calc(var(--ha-slider-control-thickness) / 4);
          &:after {
            height: 50%;
            width: var(--ha-slider-control-handle-size);
          }
        }
      }
      &.vertical {
        .slider-track-bar {
          bottom: 0;
          left: 0;
          width: 100%;
          height: calc(var(--value, 0) * 100%);
          transition: height 180ms ease-in-out, background-color 180ms ease-in-out;
          border-radius: var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius) 0 0;
          overflow: hidden;
          &:after {
            top: var(--ha-slider-control-handle-margin);
            right: 0;
            left: 0;
            bottom: initial;
            width: 50%;
            height: var(--ha-slider-control-handle-size);
            opacity: calc(var(--value, 0));
            transition: opacity 120ms ease-in-out;
          }
          &.end {
            top: 0;
            bottom: initial;
            height: calc(var(--value, 0) * 100%);
            border-radius: 0 0 var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius);
            &:after {
              top: initial;
              bottom: var(--ha-slider-control-handle-margin);
            }
          }
        }
        .slider-track-cursor {
          top: initial;
          right: 0;
          left: 0;
          bottom: calc(var(--value, 0) * (100% - calc(var(--ha-slider-control-thickness) / 4)));
          height: calc(var(--ha-slider-control-thickness) / 4);
          width: 100%;
          &:after {
            width: 50%;
            height: var(--ha-slider-control-handle-size);
          }
        }
      }
      &[dragging] .slider-track-bar,
      &[dragging] .slider-track-cursor {
        transition: none;
      }
      &.disabled {
        cursor: not-allowed;
        > * {
          cursor: not-allowed;
        }
      }
    `},";"),Yc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"exkg1b32"}:{target:"exkg1b32",label:"SliderHolder"})(),Xc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"exkg1b31"}:{target:"exkg1b31",label:"SliderTrackBackground"})(),Qc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"exkg1b30"}:{target:"exkg1b30",label:"SliderTrackBar"})();function Kc({vertical:e=!0,disabled:r=!1,showHandle:o=!0,min:n=1,max:a=100,step:l=1,value:d,mode:c="start",thickness:u,borderRadius:m,sliderColor:p=[70,70,70],onChangeApplied:v,onChange:S,clampValueToBaseline:g=!0,cssStyles:h,className:y,...f}){const C=s.useRef(null),w=s.useRef(null),E=s.useRef(null),k=s.useRef(d),x=s.useRef(void 0),_=s.useCallback(I=>Math.min(Math.max(I,n),a),[n,a]),R=s.useCallback(I=>{const M=(_(I)-n)/(a-n);if(!g)return M;const O=n>0?.09:0;return M<=0?O:O+M*(1-O)},[_,g,n,a]),A=s.useCallback(I=>(a-n)*I+n,[n,a]),D=s.useCallback(I=>Math.round(I/l)*l,[l]),b=s.useCallback(I=>{x.current&&clearTimeout(x.current),!(I===d||typeof v!="function")&&(x.current=setTimeout(()=>{v(I)},100))},[v,d]),N=s.useCallback((I,z)=>{const[M,O]=I;if(e){const J=z.getBoundingClientRect().top,H=z.clientHeight;return Math.max(Math.min(1,1-(O-J)/H),0)}const L=z.getBoundingClientRect().left,P=z.clientWidth;return Math.max(Math.min(1,(M-L)/P),0)},[e]),T=s.useCallback(I=>{C.current&&(k.current=_(I),C.current.style.setProperty("--value",r?c==="start"?`${n}`:c==="end"?`${a}`:"0":`${R(I)}`))},[R,_,r,n,a,c]);s.useEffect(()=>{T(d)},[d,T]),s.useEffect(()=>{E.current&&(e?E.current.setAttribute("vertical",""):E.current.removeAttribute("vertical"))},[e]);const V=function(I){E.current&&(I?E.current.setAttribute("dragging",""):E.current.removeAttribute("dragging"))},$=gt.useGesture({onDrag:I=>{if(r)return;const z=N(I.values,I.target);V(I.dragging===!0),T(A(z)),typeof S=="function"&&S(k.current)},onDragStart:()=>{r||(V(!0),T(k.current))},onDragEnd:I=>{if(r)return;V(!1);const z=N(I.values,I.target);T(D(A(z))),b(k.current)},onClick:I=>{if(r)return;const z=I.event.clientX,M=I.event.clientY,O=N([z,M],I.event.target);T(D(A(O))),b(k.current)}},{drag:{filterTaps:!0}});return t.jsx(Gc,{ref:E,className:`${y??""} slider-host ${r?"disabled":""} ${e?"vertical":"horizontal"}`,css:de.css(h??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalControlSlider;")),showHandle:o&&!r,sliderColor:p,vertical:e,thickness:u,borderRadius:m,disabled:r,...$(),...f,children:t.jsxs(Yc,{ref:w,className:"slider",children:[t.jsx(Xc,{className:"slider-track-background"}),c==="cursor"?k.current!=null?t.jsx("div",{className:"slider-track-cursor",ref:C}):null:t.jsx(Qc,{className:`slider-track-bar ${c}`,ref:C})]})})}function At(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ControlSlider"}),children:t.jsx(Kc,{...e})})}function Jc(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Zc=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ermlq5d2"}:{target:"ermlq5d2",label:"Switch"})(process.env.NODE_ENV==="production"?{name:"4i4k5",styles:'display:block;--ha-control-switch-on-color:var(--ha-A400);--ha-control-switch-off-color:rgb(70, 70, 70);--ha-control-switch-background-opacity:0.2;--ha-control-switch-thickness:100px;--ha-control-switch-border-radius:12px;--ha-control-switch-padding:4px;--mdc-icon-size:20px;box-sizing:border-box;user-select:none;cursor:pointer;border-radius:var(--ha-control-switch-border-radius);outline:none;transition:box-shadow 180ms ease-in-out;-webkit-tap-highlight-color:transparent;&:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-off-color);}&[checked="true"]:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-on-color);}.switch{box-sizing:border-box;position:relative;height:100%;width:100%;border-radius:var(--ha-control-switch-border-radius);overflow:hidden;padding:var(--ha-control-switch-padding);display:flex;}.switch .background{position:absolute;top:0;left:0;height:100%;width:100%;background-color:var(--ha-control-switch-off-color);transition:background-color 180ms ease-in-out;opacity:var(--ha-control-switch-background-opacity);}.switch .button{width:50%;height:100%;background:lightgrey;border-radius:calc(var(--ha-control-switch-border-radius) - var(--ha-control-switch-padding));transition:transform 180ms ease-in-out,background-color 180ms ease-in-out;background-color:var(--ha-control-switch-off-color);color:white;display:flex;align-items:center;justify-content:center;}&[checked="true"] .switch .background{background-color:var(--ha-control-switch-on-color);}&[checked="true"] .switch .button{transform:translateX(100%);background-color:var(--ha-control-switch-on-color);}&[reversed="true"] .switch{flex-direction:row-reverse;}&[reversed="true"][checked="true"] .switch .button{transform:translateX(-100%);}&[vertical="false"]{height:var(--ha-control-switch-thickness);max-width:420px;min-width:320px;}&[vertical="true"]{width:var(--ha-control-switch-thickness);height:45vh;max-height:320px;min-height:200px;}&[vertical="true"][checked="true"] .switch .button{transform:translateY(100%);}&[vertical="true"] .switch .button{width:100%;height:50%;}&[vertical="true"][reversed="true"] .switch{flex-direction:column-reverse;}&[vertical="true"][reversed="true"][checked="true"] .switch .button{transform:translateY(-100%);}&[disabled="true"]{opacity:0.5;cursor:not-allowed;}'}:{name:"4i4k5",styles:'display:block;--ha-control-switch-on-color:var(--ha-A400);--ha-control-switch-off-color:rgb(70, 70, 70);--ha-control-switch-background-opacity:0.2;--ha-control-switch-thickness:100px;--ha-control-switch-border-radius:12px;--ha-control-switch-padding:4px;--mdc-icon-size:20px;box-sizing:border-box;user-select:none;cursor:pointer;border-radius:var(--ha-control-switch-border-radius);outline:none;transition:box-shadow 180ms ease-in-out;-webkit-tap-highlight-color:transparent;&:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-off-color);}&[checked="true"]:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-on-color);}.switch{box-sizing:border-box;position:relative;height:100%;width:100%;border-radius:var(--ha-control-switch-border-radius);overflow:hidden;padding:var(--ha-control-switch-padding);display:flex;}.switch .background{position:absolute;top:0;left:0;height:100%;width:100%;background-color:var(--ha-control-switch-off-color);transition:background-color 180ms ease-in-out;opacity:var(--ha-control-switch-background-opacity);}.switch .button{width:50%;height:100%;background:lightgrey;border-radius:calc(var(--ha-control-switch-border-radius) - var(--ha-control-switch-padding));transition:transform 180ms ease-in-out,background-color 180ms ease-in-out;background-color:var(--ha-control-switch-off-color);color:white;display:flex;align-items:center;justify-content:center;}&[checked="true"] .switch .background{background-color:var(--ha-control-switch-on-color);}&[checked="true"] .switch .button{transform:translateX(100%);background-color:var(--ha-control-switch-on-color);}&[reversed="true"] .switch{flex-direction:row-reverse;}&[reversed="true"][checked="true"] .switch .button{transform:translateX(-100%);}&[vertical="false"]{height:var(--ha-control-switch-thickness);max-width:420px;min-width:320px;}&[vertical="true"]{width:var(--ha-control-switch-thickness);height:45vh;max-height:320px;min-height:200px;}&[vertical="true"][checked="true"] .switch .button{transform:translateY(100%);}&[vertical="true"] .switch .button{width:100%;height:50%;}&[vertical="true"][reversed="true"] .switch{flex-direction:column-reverse;}&[vertical="true"][reversed="true"][checked="true"] .switch .button{transform:translateY(-100%);}&[disabled="true"]{opacity:0.5;cursor:not-allowed;}',toString:Jc}),el=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ermlq5d1"}:{target:"ermlq5d1",label:"Background"})(),tl=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"ermlq5d0"}:{target:"ermlq5d0",label:"Button"})(),rl=({disabled:e=!1,vertical:r=!0,reversed:o=!1,thickness:n=100,checked:a=!1,onIcon:l,offIcon:d,onChange:c,className:u,cssStyles:m,id:p,style:v,color:S,...g})=>{const[h,y]=s.useState(a),f=s.useRef(null),C=i.useIcon(typeof l=="string"?l:"mdi:power"),w=i.useIcon(typeof d=="string"?d:"mdi:power-off"),E=s.useCallback(()=>{e||(y(!h),c&&c(!h))},[e,h,c]);return s.useEffect(()=>{f.current&&(f.current.setAttribute("role","switch"),f.current.hasAttribute("tabindex")||f.current.setAttribute("tabindex","0"))},[]),s.useEffect(()=>{f.current&&f.current.setAttribute("aria-checked",h?"true":"false")},[h]),s.useEffect(()=>{y(a)},[a]),s.useEffect(()=>{f.current&&(f.current.style.setProperty("--ha-control-switch-thickness",`${n}px`),f.current.setAttribute("vertical",r?"true":"false"),f.current.setAttribute("reversed",o?"true":"false"),f.current.setAttribute("disabled",e?"true":"false"),f.current.setAttribute("checked",h?"true":"false"),f.current.style.setProperty("--ha-control-switch-on-color",S??"var(--ha-A400)"))},[h,r,e,o,n,S]),t.jsx(Zc,{ref:f,onClick:E,id:p??"",css:de.css(m??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalControlToggle;")),className:`control-switch ${u??""}`,style:{...v??{}},...g,children:t.jsxs("div",{className:"switch",children:[t.jsx(el,{className:`${h?"checked":""} background`}),t.jsx(tl,{"aria-hidden":"true",className:"button",children:h?C:w})]})})};function qn(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ControlToggle"}),children:t.jsx(rl,{...e})})}function nl(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const ol=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1xk40gk0"}:{target:"e1xk40gk0",label:"Wrapper"})(process.env.NODE_ENV==="production"?{name:"1j3utj8",styles:'--ha-control-slider-track-bg:#464646;--ha-control-slider-track-bg-opacity:0.3;--ha-control-slider-clear:black;touch-action:none;width:320px;display:block;&:after{display:block;content:"";position:absolute;top:-10%;left:-10%;right:-10%;bottom:-10%;background:radial-gradient(50% 50% at 50% 50%, var(--ha-control-slider-color, transparent) 0%, transparent 100%);opacity:0.15;pointer-events:none;}svg{width:100%;display:block;}.slider{outline:none;}.interaction{display:flex;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:calc(24px + 2 * 12px);cursor:pointer;}.display{pointer-events:none;}:host([disabled]) #interaction,:host([readonly]) #interaction{cursor:initial;}.background{fill:none;stroke:var(--ha-control-slider-track-bg);opacity:var(--ha-control-slider-track-bg-opacity);transition:stroke 180ms ease-in-out,opacity 180ms ease-in-out;stroke-linecap:round;stroke-width:24px;}.arc{fill:none;stroke-linecap:round;stroke-width:24px;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target{fill:none;stroke-linecap:round;stroke-width:18px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target-border{fill:none;stroke-linecap:round;stroke-width:24px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.current{fill:none;stroke-linecap:round;stroke-width:8px;stroke:var(--ha-500-contrast);opacity:0.5;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.arc-current{stroke:var(--ha-control-slider-clear);}.arc-clear{stroke:var(--ha-control-slider-clear);}.arc-colored{opacity:0.5;}.arc-active{outline:none;}.arc-active:focus-visible{stroke-width:28px;}.pressed .arc,.pressed .target,.pressed .target-border,.pressed .current{transition:stroke-width 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.inactive .arc,.inactive .arc-current{opacity:0;}.value{stroke:var(--ha-control-slider-color);}.low{stroke:var(--ha-control-slider-low-color);}.high{stroke:var(--ha-control-slider-high-color);}'}:{name:"1j3utj8",styles:'--ha-control-slider-track-bg:#464646;--ha-control-slider-track-bg-opacity:0.3;--ha-control-slider-clear:black;touch-action:none;width:320px;display:block;&:after{display:block;content:"";position:absolute;top:-10%;left:-10%;right:-10%;bottom:-10%;background:radial-gradient(50% 50% at 50% 50%, var(--ha-control-slider-color, transparent) 0%, transparent 100%);opacity:0.15;pointer-events:none;}svg{width:100%;display:block;}.slider{outline:none;}.interaction{display:flex;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:calc(24px + 2 * 12px);cursor:pointer;}.display{pointer-events:none;}:host([disabled]) #interaction,:host([readonly]) #interaction{cursor:initial;}.background{fill:none;stroke:var(--ha-control-slider-track-bg);opacity:var(--ha-control-slider-track-bg-opacity);transition:stroke 180ms ease-in-out,opacity 180ms ease-in-out;stroke-linecap:round;stroke-width:24px;}.arc{fill:none;stroke-linecap:round;stroke-width:24px;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target{fill:none;stroke-linecap:round;stroke-width:18px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target-border{fill:none;stroke-linecap:round;stroke-width:24px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.current{fill:none;stroke-linecap:round;stroke-width:8px;stroke:var(--ha-500-contrast);opacity:0.5;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.arc-current{stroke:var(--ha-control-slider-clear);}.arc-clear{stroke:var(--ha-control-slider-clear);}.arc-colored{opacity:0.5;}.arc-active{outline:none;}.arc-active:focus-visible{stroke-width:28px;}.pressed .arc,.pressed .target,.pressed .target-border,.pressed .current{transition:stroke-width 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.inactive .arc,.inactive .arc-current{opacity:0;}.value{stroke:var(--ha-control-slider-color);}.low{stroke:var(--ha-control-slider-low-color);}.high{stroke:var(--ha-control-slider-high-color);}',toString:nl}),Qe=270,Jr=360-Qe/2-90,Jt=145;function sl(e,r){const o=Math.sqrt(e*e+r*r),n=Math.atan2(r,e);return[o,n]}function al(e){return e/(2*Math.PI)*360}function il({step:e=1,inactive:r,label:o,readonly:n=!1,value:a,low:l,high:d,min:c=0,max:u=100,dual:m,disabled:p=!1,mode:v,current:S,colors:g={color:"tomato",lowColor:"blue",highColor:"tomato"},onChange:h,onChangeApplied:y,...f}){const C=s.useRef(null),w=s.useRef(null),E=s.useRef(void 0),k=s.useRef(void 0),[x,_]=s.useState(a),[R,A]=s.useState(l),[D,b]=s.useState(d),N=s.useMemo(()=>Rr.svgArc({x:0,y:0,start:0,end:Qe,r:Jt}),[]),T=m?R:x,V=D;s.useEffect(()=>{ie.isNumber(a)&&_(a),ie.isNumber(l)&&A(l),ie.isNumber(d)&&A(d)},[a,l,d]);const $=s.useCallback(F=>{switch(E.current){case"high":b(F);break;case"low":A(F);break;case"value":_(F);break}},[]);s.useEffect(()=>{C.current&&(g.color&&C.current.style.setProperty("--ha-control-slider-color",g.color),g.lowColor&&C.current.style.setProperty("--ha-control-slider-low-color",g.lowColor),g.highColor&&C.current.style.setProperty("--ha-control-slider-high-color",g.highColor))},[g]);const I=s.useCallback(F=>(ie.clamp(F,c,u)-c)/(u-c),[u,c]),z=s.useCallback(F=>(u-c)*F+c,[u,c]),M=s.useCallback(F=>Math.round(F/e)*e,[e]),O=s.useCallback((F,B)=>{const G=I(F),X=I(B),te=Jt*2*Math.PI*Qe/360,oe=Math.max((X-G)*te,0),se=G*te-.5,he=`${oe} ${te-oe}`,le=`-${se}`;return[he,le]},[I]),L=s.useCallback(F=>O(F,F),[O]),P=S?L(S):void 0,J=s.useCallback(F=>{const B=E.current==="high"?Math.min(R??u):c,G=E.current==="low"?Math.max(D??c):u;return Math.min(Math.max(F,B),G)},[R,u,c,D]),H=s.useCallback((F,B,G)=>{if(p)return null;const X=Rr.svgArc({x:0,y:0,start:0,end:Qe,r:Jt}),te=G==="end"?u:c,oe=S??te,se=B??te,he=G==="end"?se<=oe:G==="start"?oe<=se:!1,le=B!=null,ye=le?he?G==="end"?O(se,oe):O(oe,se):L(se):void 0,ve=G==="full"?O(c,u):G==="end"?O(se,te):O(te,se),_e=le?L(se):void 0,ze=S!=null&&S<=u&&S>=c&&(he||G==="full")?L(S):void 0;return t.jsxs("g",{className:`${r?"inactive":""}`,children:[t.jsx("path",{className:"arc arc-clear",d:X,strokeDasharray:ve[0],strokeDashoffset:ve[1]}),t.jsx("path",{className:`arc arc-colored ${F}`,d:X,strokeDasharray:ve[0],strokeDashoffset:ve[1]}),ye?t.jsx("path",{d:X,className:`arc arc-active ${F}`,strokeDasharray:ye[0],strokeDashoffset:ye[1],role:"slider",tabIndex:0,"aria-valuemin":c,"aria-valuemax":u,"aria-valuenow":x!=null?M(x):void 0,"aria-disabled":p,"aria-readonly":n,"aria-label":o}):null,ze?t.jsx("path",{className:"current arc-current",d:X,strokeDasharray:ze[0],strokeDashoffset:ze[1]}):null,_e?t.jsxs(t.Fragment,{children:[t.jsx("path",{className:`target-border ${F}`,d:X,strokeDasharray:_e[0],strokeDashoffset:_e[1]}),t.jsx("path",{className:"target",d:X,strokeDasharray:_e[0],strokeDashoffset:_e[1]})]}):null]})},[M,L,O,S,p,r,o,x,u,c,n]),U=s.useCallback(F=>{if(!C.current)return 0;const B=C.current.getBoundingClientRect(),G=2*(F[0]-B.left-B.width/2)/B.width,X=2*(F[1]-B.top-B.height/2)/B.height,[,te]=sl(G,X),oe=(360-Qe)/2,se=(al(te)+oe-Jr+360)%360-oe;return Math.max(Math.min(se/Qe,1),0)},[]),W=s.useCallback(F=>{if(!m)return"value";const B=Math.max(R??c,c),G=Math.min(D??u,u);if(B>=F)return"low";if(G<=F)return"high";const X=Math.abs(F-B),te=Math.abs(F-G);return X<=te?"low":"high"},[m,D,R,u,c]),Y=Fe.useDebouncedCallback((F,B)=>{typeof y=="function"&&y(F,B)},100,{trailing:!0,leading:!0}),Z=Fe.useThrottledCallback((F,B)=>{typeof h=="function"&&h(F,B)},20,{trailing:!0,leading:!0}),ge=gt.useGesture({onDrag:F=>{if(p||n)return;const{first:B,last:G}=F;if(!B&&!G){const X=F.values,[te,oe]=X,se=U([te,oe]),he=z(se),le=J(he);$(le);const ye=M(le),ve=W(he);Z(ye,ve)}},onDragStart:F=>{if(p||n)return;const B=F.values,[G,X]=B,te=U([G,X]),oe=z(te);E.current=W(oe),k.current=E.current,w.current&&w.current.focus()},onDragEnd:F=>{if(p)return;const B=F.values,[G,X]=B,te=U([G,X]),oe=z(te),se=J(oe),he=M(se);$(he),E.current=W(oe),Z(he,E.current),Y(he,E.current),E.current=void 0},onPointerDown:F=>{if(F.event.stopPropagation(),F.event.preventDefault(),p||n)return;const B=U([F.event.clientX,F.event.clientY]),G=z(B);E.current=W(G);const X=J(G),te=M(X);$(X),Z(te,E.current)},onPointerUp:F=>{if(p||n||(F.event.stopPropagation(),F.event.preventDefault(),p||n))return;const B=U([F.event.clientX,F.event.clientY]),G=z(B);E.current=W(G);const X=J(G),te=M(X);Z(te,E.current),Y(te,E.current),E.current=void 0}},{drag:{filterTaps:!0}});return t.jsx(ol,{className:"control-slider-circular",ref:C,...ge(),...f,children:t.jsx("svg",{ref:w,viewBox:"0 0 320 320",overflow:"visible",className:`slider ${E.current?"pressed":""}`,tabIndex:k.current?0:-1,children:t.jsxs("g",{className:"container",transform:`translate(160 160) rotate(${Jr})`,children:[t.jsx("g",{className:"interaction",children:t.jsx("path",{d:N})}),t.jsxs("g",{className:"display",children:[t.jsx("path",{className:"background",d:N}),P?t.jsx("path",{className:"current",d:N,strokeDasharray:P[0],strokeDashoffset:P[1]}):null,T!=null||v==="full"?H(m?"low":"value",T,!m&&v||"start"):null,m&&V!=null?H("high",V,"end"):null]})]})})})}function Ze(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ControlSliderCircular"}),children:t.jsx(il,{...e})})}function Ut(){return typeof window<"u"}function lt(e){return Wn(e)?(e.nodeName||"").toLowerCase():"#document"}function Ce(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Te(e){var r;return(r=(Wn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function Wn(e){return Ut()?e instanceof Node||e instanceof Ce(e).Node:!1}function Se(e){return Ut()?e instanceof Element||e instanceof Ce(e).Element:!1}function Ae(e){return Ut()?e instanceof HTMLElement||e instanceof Ce(e).HTMLElement:!1}function Zr(e){return!Ut()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ce(e).ShadowRoot}const cl=new Set(["inline","contents"]);function yt(e){const{overflow:r,overflowX:o,overflowY:n,display:a}=ke(e);return/auto|scroll|overlay|hidden|clip/.test(r+n+o)&&!cl.has(a)}const ll=new Set(["table","td","th"]);function dl(e){return ll.has(lt(e))}const ul=[":popover-open",":modal"];function Gt(e){return ul.some(r=>{try{return e.matches(r)}catch{return!1}})}const pl=["transform","translate","scale","rotate","perspective"],hl=["transform","translate","scale","rotate","perspective","filter"],fl=["paint","layout","strict","content"];function Nr(e){const r=Cr(),o=Se(e)?ke(e):e;return pl.some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!r&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!r&&(o.filter?o.filter!=="none":!1)||hl.some(n=>(o.willChange||"").includes(n))||fl.some(n=>(o.contain||"").includes(n))}function ml(e){let r=Le(e);for(;Ae(r)&&!nt(r);){if(Nr(r))return r;if(Gt(r))return null;r=Le(r)}return null}function Cr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gl=new Set(["html","body","#document"]);function nt(e){return gl.has(lt(e))}function ke(e){return Ce(e).getComputedStyle(e)}function Yt(e){return Se(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Le(e){if(lt(e)==="html")return e;const r=e.assignedSlot||e.parentNode||Zr(e)&&e.host||Te(e);return Zr(r)?r.host:r}function Un(e){const r=Le(e);return nt(r)?e.ownerDocument?e.ownerDocument.body:e.body:Ae(r)&&yt(r)?r:Un(r)}function ht(e,r,o){var n;r===void 0&&(r=[]),o===void 0&&(o=!0);const a=Un(e),l=a===((n=e.ownerDocument)==null?void 0:n.body),d=Ce(a);if(l){const c=or(d);return r.concat(d,d.visualViewport||[],yt(a)?a:[],c&&o?ht(c):[])}return r.concat(a,ht(a,[],o))}function or(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const ot=Math.min,Ge=Math.max,Tt=Math.round,Ot=Math.floor,Ie=e=>({x:e,y:e});function sr(e,r,o){return Ge(e,ot(r,o))}function st(e,r){return typeof e=="function"?e(r):e}function wt(e){return e.split("-")[0]}function kr(e){return e.split("-")[1]}function _r(e){return e==="x"?"y":"x"}function Gn(e){return e==="y"?"height":"width"}const bl=new Set(["top","bottom"]);function St(e){return bl.has(wt(e))?"y":"x"}function Yn(e){return _r(St(e))}function vl(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xn(e){return typeof e!="number"?vl(e):{top:e,right:e,bottom:e,left:e}}function zt(e){const{x:r,y:o,width:n,height:a}=e;return{width:n,height:a,top:o,left:r,right:r+n,bottom:o+a,x:r,y:o}}var xl=typeof document<"u",yl=function(){},Mt=xl?s.useLayoutEffect:yl;const wl={...Q},Sl=wl.useInsertionEffect,El=Sl||(e=>e());function Nl(e){const r=Q.useRef(()=>{if(process.env.NODE_ENV!=="production")throw new Error("Cannot call an event handler while rendering.")});return El(()=>{r.current=e}),Q.useCallback(function(){for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return r.current==null?void 0:r.current(...n)},[])}function en(e,r,o){let{reference:n,floating:a}=e;const l=St(r),d=Yn(r),c=Gn(d),u=wt(r),m=l==="y",p=n.x+n.width/2-a.width/2,v=n.y+n.height/2-a.height/2,S=n[c]/2-a[c]/2;let g;switch(u){case"top":g={x:p,y:n.y-a.height};break;case"bottom":g={x:p,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:v};break;case"left":g={x:n.x-a.width,y:v};break;default:g={x:n.x,y:n.y}}switch(kr(r)){case"start":g[d]-=S*(o&&m?-1:1);break;case"end":g[d]+=S*(o&&m?-1:1);break}return g}const Cl=async(e,r,o)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:d}=o,c=l.filter(Boolean),u=await(d.isRTL==null?void 0:d.isRTL(r));let m=await d.getElementRects({reference:e,floating:r,strategy:a}),{x:p,y:v}=en(m,n,u),S=n,g={},h=0;for(let y=0;y<c.length;y++){const{name:f,fn:C}=c[y],{x:w,y:E,data:k,reset:x}=await C({x:p,y:v,initialPlacement:n,placement:S,strategy:a,middlewareData:g,rects:m,platform:d,elements:{reference:e,floating:r}});p=w??p,v=E??v,g={...g,[f]:{...g[f],...k}},x&&h<=50&&(h++,typeof x=="object"&&(x.placement&&(S=x.placement),x.rects&&(m=x.rects===!0?await d.getElementRects({reference:e,floating:r,strategy:a}):x.rects),{x:p,y:v}=en(m,S,u)),y=-1)}return{x:p,y:v,placement:S,strategy:a,middlewareData:g}};async function kl(e,r){var o;r===void 0&&(r={});const{x:n,y:a,platform:l,rects:d,elements:c,strategy:u}=e,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:S=!1,padding:g=0}=st(r,e),h=Xn(g),f=c[S?v==="floating"?"reference":"floating":v],C=zt(await l.getClippingRect({element:(o=await(l.isElement==null?void 0:l.isElement(f)))==null||o?f:f.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:m,rootBoundary:p,strategy:u})),w=v==="floating"?{x:n,y:a,width:d.floating.width,height:d.floating.height}:d.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),k=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},x=zt(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:E,strategy:u}):w);return{top:(C.top-x.top+h.top)/k.y,bottom:(x.bottom-C.bottom+h.bottom)/k.y,left:(C.left-x.left+h.left)/k.x,right:(x.right-C.right+h.right)/k.x}}const _l=e=>({name:"arrow",options:e,async fn(r){const{x:o,y:n,placement:a,rects:l,platform:d,elements:c,middlewareData:u}=r,{element:m,padding:p=0}=st(e,r)||{};if(m==null)return{};const v=Xn(p),S={x:o,y:n},g=Yn(a),h=Gn(g),y=await d.getDimensions(m),f=g==="y",C=f?"top":"left",w=f?"bottom":"right",E=f?"clientHeight":"clientWidth",k=l.reference[h]+l.reference[g]-S[g]-l.floating[h],x=S[g]-l.reference[g],_=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m));let R=_?_[E]:0;(!R||!await(d.isElement==null?void 0:d.isElement(_)))&&(R=c.floating[E]||l.floating[h]);const A=k/2-x/2,D=R/2-y[h]/2-1,b=ot(v[C],D),N=ot(v[w],D),T=b,V=R-y[h]-N,$=R/2-y[h]/2+A,I=sr(T,$,V),z=!u.arrow&&kr(a)!=null&&$!==I&&l.reference[h]/2-($<T?b:N)-y[h]/2<0,M=z?$<T?$-T:$-V:0;return{[g]:S[g]+M,data:{[g]:I,centerOffset:$-I-M,...z&&{alignmentOffset:M}},reset:z}}}),Qn=new Set(["left","top"]);async function jl(e,r){const{placement:o,platform:n,elements:a}=e,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),d=wt(o),c=kr(o),u=St(o)==="y",m=Qn.has(d)?-1:1,p=l&&u?-1:1,v=st(r,e);let{mainAxis:S,crossAxis:g,alignmentAxis:h}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof h=="number"&&(g=c==="end"?h*-1:h),u?{x:g*p,y:S*m}:{x:S*m,y:g*p}}const Dl=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var o,n;const{x:a,y:l,placement:d,middlewareData:c}=r,u=await jl(r,e);return d===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+u.x,y:l+u.y,data:{...u,placement:d}}}}},Ol=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:o,y:n,placement:a}=r,{mainAxis:l=!0,crossAxis:d=!1,limiter:c={fn:f=>{let{x:C,y:w}=f;return{x:C,y:w}}},...u}=st(e,r),m={x:o,y:n},p=await kl(r,u),v=St(wt(a)),S=_r(v);let g=m[S],h=m[v];if(l){const f=S==="y"?"top":"left",C=S==="y"?"bottom":"right",w=g+p[f],E=g-p[C];g=sr(w,g,E)}if(d){const f=v==="y"?"top":"left",C=v==="y"?"bottom":"right",w=h+p[f],E=h-p[C];h=sr(w,h,E)}const y=c.fn({...r,[S]:g,[v]:h});return{...y,data:{x:y.x-o,y:y.y-n,enabled:{[S]:l,[v]:d}}}}}},Rl=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:o,y:n,placement:a,rects:l,middlewareData:d}=r,{offset:c=0,mainAxis:u=!0,crossAxis:m=!0}=st(e,r),p={x:o,y:n},v=St(a),S=_r(v);let g=p[S],h=p[v];const y=st(c,r),f=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const E=S==="y"?"height":"width",k=l.reference[S]-l.floating[E]+f.mainAxis,x=l.reference[S]+l.reference[E]-f.mainAxis;g<k?g=k:g>x&&(g=x)}if(m){var C,w;const E=S==="y"?"width":"height",k=Qn.has(wt(a)),x=l.reference[v]-l.floating[E]+(k&&((C=d.offset)==null?void 0:C[v])||0)+(k?0:f.crossAxis),_=l.reference[v]+l.reference[E]+(k?0:((w=d.offset)==null?void 0:w[v])||0)-(k?f.crossAxis:0);h<x?h=x:h>_&&(h=_)}return{[S]:g,[v]:h}}}};function Kn(e){const r=ke(e);let o=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const a=Ae(e),l=a?e.offsetWidth:o,d=a?e.offsetHeight:n,c=Tt(o)!==l||Tt(n)!==d;return c&&(o=l,n=d),{width:o,height:n,$:c}}function jr(e){return Se(e)?e:e.contextElement}function et(e){const r=jr(e);if(!Ae(r))return Ie(1);const o=r.getBoundingClientRect(),{width:n,height:a,$:l}=Kn(r);let d=(l?Tt(o.width):o.width)/n,c=(l?Tt(o.height):o.height)/a;return(!d||!Number.isFinite(d))&&(d=1),(!c||!Number.isFinite(c))&&(c=1),{x:d,y:c}}const Il=Ie(0);function Jn(e){const r=Ce(e);return!Cr()||!r.visualViewport?Il:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function Al(e,r,o){return r===void 0&&(r=!1),!o||r&&o!==Ce(e)?!1:r}function Ye(e,r,o,n){r===void 0&&(r=!1),o===void 0&&(o=!1);const a=e.getBoundingClientRect(),l=jr(e);let d=Ie(1);r&&(n?Se(n)&&(d=et(n)):d=et(e));const c=Al(l,o,n)?Jn(l):Ie(0);let u=(a.left+c.x)/d.x,m=(a.top+c.y)/d.y,p=a.width/d.x,v=a.height/d.y;if(l){const S=Ce(l),g=n&&Se(n)?Ce(n):n;let h=S,y=or(h);for(;y&&n&&g!==h;){const f=et(y),C=y.getBoundingClientRect(),w=ke(y),E=C.left+(y.clientLeft+parseFloat(w.paddingLeft))*f.x,k=C.top+(y.clientTop+parseFloat(w.paddingTop))*f.y;u*=f.x,m*=f.y,p*=f.x,v*=f.y,u+=E,m+=k,h=Ce(y),y=or(h)}}return zt({width:p,height:v,x:u,y:m})}function Xt(e,r){const o=Yt(e).scrollLeft;return r?r.left+o:Ye(Te(e)).left+o}function Zn(e,r){const o=e.getBoundingClientRect(),n=o.left+r.scrollLeft-Xt(e,o),a=o.top+r.scrollTop;return{x:n,y:a}}function Tl(e){let{elements:r,rect:o,offsetParent:n,strategy:a}=e;const l=a==="fixed",d=Te(n),c=r?Gt(r.floating):!1;if(n===d||c&&l)return o;let u={scrollLeft:0,scrollTop:0},m=Ie(1);const p=Ie(0),v=Ae(n);if((v||!v&&!l)&&((lt(n)!=="body"||yt(d))&&(u=Yt(n)),Ae(n))){const g=Ye(n);m=et(n),p.x=g.x+n.clientLeft,p.y=g.y+n.clientTop}const S=d&&!v&&!l?Zn(d,u):Ie(0);return{width:o.width*m.x,height:o.height*m.y,x:o.x*m.x-u.scrollLeft*m.x+p.x+S.x,y:o.y*m.y-u.scrollTop*m.y+p.y+S.y}}function zl(e){return Array.from(e.getClientRects())}function Ml(e){const r=Te(e),o=Yt(e),n=e.ownerDocument.body,a=Ge(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),l=Ge(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let d=-o.scrollLeft+Xt(e);const c=-o.scrollTop;return ke(n).direction==="rtl"&&(d+=Ge(r.clientWidth,n.clientWidth)-a),{width:a,height:l,x:d,y:c}}const tn=25;function Vl(e,r){const o=Ce(e),n=Te(e),a=o.visualViewport;let l=n.clientWidth,d=n.clientHeight,c=0,u=0;if(a){l=a.width,d=a.height;const p=Cr();(!p||p&&r==="fixed")&&(c=a.offsetLeft,u=a.offsetTop)}const m=Xt(n);if(m<=0){const p=n.ownerDocument,v=p.body,S=getComputedStyle(v),g=p.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,h=Math.abs(n.clientWidth-v.clientWidth-g);h<=tn&&(l-=h)}else m<=tn&&(l+=m);return{width:l,height:d,x:c,y:u}}const Pl=new Set(["absolute","fixed"]);function $l(e,r){const o=Ye(e,!0,r==="fixed"),n=o.top+e.clientTop,a=o.left+e.clientLeft,l=Ae(e)?et(e):Ie(1),d=e.clientWidth*l.x,c=e.clientHeight*l.y,u=a*l.x,m=n*l.y;return{width:d,height:c,x:u,y:m}}function rn(e,r,o){let n;if(r==="viewport")n=Vl(e,o);else if(r==="document")n=Ml(Te(e));else if(Se(r))n=$l(r,o);else{const a=Jn(e);n={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return zt(n)}function eo(e,r){const o=Le(e);return o===r||!Se(o)||nt(o)?!1:ke(o).position==="fixed"||eo(o,r)}function Fl(e,r){const o=r.get(e);if(o)return o;let n=ht(e,[],!1).filter(c=>Se(c)&&lt(c)!=="body"),a=null;const l=ke(e).position==="fixed";let d=l?Le(e):e;for(;Se(d)&&!nt(d);){const c=ke(d),u=Nr(d);!u&&c.position==="fixed"&&(a=null),(l?!u&&!a:!u&&c.position==="static"&&!!a&&Pl.has(a.position)||yt(d)&&!u&&eo(e,d))?n=n.filter(p=>p!==d):a=c,d=Le(d)}return r.set(e,n),n}function Bl(e){let{element:r,boundary:o,rootBoundary:n,strategy:a}=e;const d=[...o==="clippingAncestors"?Gt(r)?[]:Fl(r,this._c):[].concat(o),n],c=d[0],u=d.reduce((m,p)=>{const v=rn(r,p,a);return m.top=Ge(v.top,m.top),m.right=ot(v.right,m.right),m.bottom=ot(v.bottom,m.bottom),m.left=Ge(v.left,m.left),m},rn(r,c,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Ll(e){const{width:r,height:o}=Kn(e);return{width:r,height:o}}function Hl(e,r,o){const n=Ae(r),a=Te(r),l=o==="fixed",d=Ye(e,!0,l,r);let c={scrollLeft:0,scrollTop:0};const u=Ie(0);function m(){u.x=Xt(a)}if(n||!n&&!l)if((lt(r)!=="body"||yt(a))&&(c=Yt(r)),n){const g=Ye(r,!0,l,r);u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}else a&&m();l&&!n&&a&&m();const p=a&&!n&&!l?Zn(a,c):Ie(0),v=d.left+c.scrollLeft-u.x-p.x,S=d.top+c.scrollTop-u.y-p.y;return{x:v,y:S,width:d.width,height:d.height}}function Zt(e){return ke(e).position==="static"}function nn(e,r){if(!Ae(e)||ke(e).position==="fixed")return null;if(r)return r(e);let o=e.offsetParent;return Te(e)===o&&(o=o.ownerDocument.body),o}function to(e,r){const o=Ce(e);if(Gt(e))return o;if(!Ae(e)){let a=Le(e);for(;a&&!nt(a);){if(Se(a)&&!Zt(a))return a;a=Le(a)}return o}let n=nn(e,r);for(;n&&dl(n)&&Zt(n);)n=nn(n,r);return n&&nt(n)&&Zt(n)&&!Nr(n)?o:n||ml(e)||o}const ql=async function(e){const r=this.getOffsetParent||to,o=this.getDimensions,n=await o(e.floating);return{reference:Hl(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Wl(e){return ke(e).direction==="rtl"}const Ul={convertOffsetParentRelativeRectToViewportRelativeRect:Tl,getDocumentElement:Te,getClippingRect:Bl,getOffsetParent:to,getElementRects:ql,getClientRects:zl,getDimensions:Ll,getScale:et,isElement:Se,isRTL:Wl};function ro(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function Gl(e,r){let o=null,n;const a=Te(e);function l(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function d(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),l();const m=e.getBoundingClientRect(),{left:p,top:v,width:S,height:g}=m;if(c||r(),!S||!g)return;const h=Ot(v),y=Ot(a.clientWidth-(p+S)),f=Ot(a.clientHeight-(v+g)),C=Ot(p),E={rootMargin:-h+"px "+-y+"px "+-f+"px "+-C+"px",threshold:Ge(0,ot(1,u))||1};let k=!0;function x(_){const R=_[0].intersectionRatio;if(R!==u){if(!k)return d();R?d(!1,R):n=setTimeout(()=>{d(!1,1e-7)},1e3)}R===1&&!ro(m,e.getBoundingClientRect())&&d(),k=!1}try{o=new IntersectionObserver(x,{...E,root:a.ownerDocument})}catch{o=new IntersectionObserver(x,E)}o.observe(e)}return d(!0),l}function Yl(e,r,o,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,m=jr(e),p=a||l?[...m?ht(m):[],...ht(r)]:[];p.forEach(C=>{a&&C.addEventListener("scroll",o,{passive:!0}),l&&C.addEventListener("resize",o)});const v=m&&c?Gl(m,o):null;let S=-1,g=null;d&&(g=new ResizeObserver(C=>{let[w]=C;w&&w.target===m&&g&&(g.unobserve(r),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(r)})),o()}),m&&!u&&g.observe(m),g.observe(r));let h,y=u?Ye(e):null;u&&f();function f(){const C=Ye(e);y&&!ro(y,C)&&o(),y=C,h=requestAnimationFrame(f)}return o(),()=>{var C;p.forEach(w=>{a&&w.removeEventListener("scroll",o),l&&w.removeEventListener("resize",o)}),v?.(),(C=g)==null||C.disconnect(),g=null,u&&cancelAnimationFrame(h)}}const Xl=Dl,Ql=Ol,on=_l,Kl=Rl,Jl=(e,r,o)=>{const n=new Map,a={platform:Ul,...o},l={...a.platform,_c:n};return Cl(e,r,{...a,platform:l})};var Zl=typeof document<"u",ed=function(){},It=Zl?s.useLayoutEffect:ed;function Vt(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let o,n,a;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==r.length)return!1;for(n=o;n--!==0;)if(!Vt(e[n],r[n]))return!1;return!0}if(a=Object.keys(e),o=a.length,o!==Object.keys(r).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(r,a[n]))return!1;for(n=o;n--!==0;){const l=a[n];if(!(l==="_owner"&&e.$$typeof)&&!Vt(e[l],r[l]))return!1}return!0}return e!==e&&r!==r}function no(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sn(e,r){const o=no(e);return Math.round(r*o)/o}function er(e){const r=Q.useRef(e);return It(()=>{r.current=e}),r}function td(e){e===void 0&&(e={});const{placement:r="bottom",strategy:o="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:d}={},transform:c=!0,whileElementsMounted:u,open:m}=e,[p,v]=Q.useState({x:0,y:0,strategy:o,placement:r,middlewareData:{},isPositioned:!1}),[S,g]=Q.useState(n);Vt(S,n)||g(n);const[h,y]=Q.useState(null),[f,C]=Q.useState(null),w=Q.useCallback(O=>{O!==_.current&&(_.current=O,y(O))},[]),E=Q.useCallback(O=>{O!==R.current&&(R.current=O,C(O))},[]),k=l||h,x=d||f,_=Q.useRef(null),R=Q.useRef(null),A=Q.useRef(p),D=u!=null,b=er(u),N=er(a),T=er(m),V=Q.useCallback(()=>{if(!_.current||!R.current)return;const O={placement:r,strategy:o,middleware:S};N.current&&(O.platform=N.current),Jl(_.current,R.current,O).then(L=>{const P={...L,isPositioned:T.current!==!1};$.current&&!Vt(A.current,P)&&(A.current=P,Oo.flushSync(()=>{v(P)}))})},[S,r,o,N,T]);It(()=>{m===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,v(O=>({...O,isPositioned:!1})))},[m]);const $=Q.useRef(!1);It(()=>($.current=!0,()=>{$.current=!1}),[]),It(()=>{if(k&&(_.current=k),x&&(R.current=x),k&&x){if(b.current)return b.current(k,x,V);V()}},[k,x,V,b,D]);const I=Q.useMemo(()=>({reference:_,floating:R,setReference:w,setFloating:E}),[w,E]),z=Q.useMemo(()=>({reference:k,floating:x}),[k,x]),M=Q.useMemo(()=>{const O={position:o,left:0,top:0};if(!z.floating)return O;const L=sn(z.floating,p.x),P=sn(z.floating,p.y);return c?{...O,transform:"translate("+L+"px, "+P+"px)",...no(z.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:L,top:P}},[o,c,z.floating,p.x,p.y]);return Q.useMemo(()=>({...p,update:V,refs:I,elements:z,floatingStyles:M}),[p,V,I,z,M])}const rd=e=>{function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:n,padding:a}=typeof e=="function"?e(o):e;return n&&r(n)?n.current!=null?on({element:n.current,padding:a}).fn(o):{}:n?on({element:n,padding:a}).fn(o):{}}}},nd=(e,r)=>({...Xl(e),options:[e,r]}),od=(e,r)=>({...Ql(e),options:[e,r]}),sd=(e,r)=>({...Kl(e),options:[e,r]}),ad=(e,r)=>({...rd(e),options:[e,r]}),id={...Q};let an=!1,cd=0;const cn=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+cd++;function ld(){const[e,r]=Q.useState(()=>an?cn():void 0);return Mt(()=>{e==null&&r(cn())},[]),Q.useEffect(()=>{an=!0},[]),e}const dd=id.useId,oo=dd||ld;let ft;process.env.NODE_ENV!=="production"&&(ft=new Set);function ud(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];const a="Floating UI: "+o.join(" ");if(!((e=ft)!=null&&e.has(a))){var l;(l=ft)==null||l.add(a),console.warn(a)}}function pd(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];const a="Floating UI: "+o.join(" ");if(!((e=ft)!=null&&e.has(a))){var l;(l=ft)==null||l.add(a),console.error(a)}}const hd=Q.forwardRef(function(r,o){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:l,shift:d}},width:c=14,height:u=7,tipRadius:m=0,strokeWidth:p=0,staticOffset:v,stroke:S,d:g,style:{transform:h,...y}={},...f}=r;process.env.NODE_ENV!=="production"&&(o||ud("The `ref` prop is required for `FloatingArrow`."));const C=oo(),[w,E]=Q.useState(!1);if(Mt(()=>{if(!a)return;ke(a).direction==="rtl"&&E(!0)},[a]),!a)return null;const[k,x]=n.split("-"),_=k==="top"||k==="bottom";let R=v;(_&&d!=null&&d.x||!_&&d!=null&&d.y)&&(R=null);const A=p*2,D=A/2,b=c/2*(m/-8+1),N=u/2*m/4,T=!!g,V=R&&x==="end"?"bottom":"top";let $=R&&x==="end"?"right":"left";R&&w&&($=x==="end"?"left":"right");const I=l?.x!=null?R||l.x:"",z=l?.y!=null?R||l.y:"",M=g||"M0,0"+(" H"+c)+(" L"+(c-b)+","+(u-N))+(" Q"+c/2+","+u+" "+b+","+(u-N))+" Z",O={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[k];return dt.jsxs("svg",{...f,"aria-hidden":!0,ref:o,width:T?c:c+A,height:c,viewBox:"0 0 "+c+" "+(u>c?u:c),style:{position:"absolute",pointerEvents:"none",[$]:I,[V]:z,[k]:_||T?"100%":"calc(100% - "+A/2+"px)",transform:[O,h].filter(L=>!!L).join(" "),...y},children:[A>0&&dt.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:S,strokeWidth:A+(g?0:1),d:M}),dt.jsx("path",{stroke:A&&!g?f.fill:"none",d:M}),dt.jsx("clipPath",{id:C,children:dt.jsx("rect",{x:-D,y:D*(T?-1:1),width:c+A,height:c})})]})});function fd(){const e=new Map;return{emit(r,o){var n;(n=e.get(r))==null||n.forEach(a=>a(o))},on(r,o){e.has(r)||e.set(r,new Set),e.get(r).add(o)},off(r,o){var n;(n=e.get(r))==null||n.delete(o)}}}const md=Q.createContext(null),gd=Q.createContext(null),bd=()=>{var e;return((e=Q.useContext(md))==null?void 0:e.id)||null},vd=()=>Q.useContext(gd);function xd(e){const{open:r=!1,onOpenChange:o,elements:n}=e,a=oo(),l=Q.useRef({}),[d]=Q.useState(()=>fd()),c=bd()!=null;if(process.env.NODE_ENV!=="production"){const g=n.reference;g&&!Se(g)&&pd("Cannot pass a virtual element to the `elements.reference` option,","as it must be a real DOM element. Use `refs.setPositionReference()`","instead.")}const[u,m]=Q.useState(n.reference),p=Nl((g,h,y)=>{l.current.openEvent=g?h:void 0,d.emit("openchange",{open:g,event:h,reason:y,nested:c}),o?.(g,h,y)}),v=Q.useMemo(()=>({setPositionReference:m}),[]),S=Q.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return Q.useMemo(()=>({dataRef:l,open:r,onOpenChange:p,elements:S,events:d,floatingId:a,refs:v}),[r,p,S,d,a,v])}function yd(e){e===void 0&&(e={});const{nodeId:r}=e,o=xd({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,a=n.elements,[l,d]=Q.useState(null),[c,u]=Q.useState(null),p=a?.domReference||l,v=Q.useRef(null),S=vd();Mt(()=>{p&&(v.current=p)},[p]);const g=td({...e,elements:{...a,...c&&{reference:c}}}),h=Q.useCallback(E=>{const k=Se(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;u(k),g.refs.setReference(k)},[g.refs]),y=Q.useCallback(E=>{(Se(E)||E===null)&&(v.current=E,d(E)),(Se(g.refs.reference.current)||g.refs.reference.current===null||E!==null&&!Se(E))&&g.refs.setReference(E)},[g.refs]),f=Q.useMemo(()=>({...g.refs,setReference:y,setPositionReference:h,domReference:v}),[g.refs,y,h]),C=Q.useMemo(()=>({...g.elements,domReference:p}),[g.elements,p]),w=Q.useMemo(()=>({...g,...n,refs:f,elements:C,nodeId:r}),[g,f,C,r,n]);return Mt(()=>{n.dataRef.current.floatingContext=w;const E=S?.nodesRef.current.find(k=>k.id===r);E&&(E.context=w)}),Q.useMemo(()=>({...g,context:w,refs:f,elements:C}),[g,f,C,w])}function Qt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const wd=j.createStyled(be.Icon,process.env.NODE_ENV==="production"?{target:"e1uo8o83"}:{target:"e1uo8o83",label:"StyledIcon"})(process.env.NODE_ENV==="production"?{name:"1ci31f3",styles:"font-size:1rem;color:var(--ha-S400-contrast);margin-right:0.5rem"}:{name:"1ci31f3",styles:"font-size:1rem;color:var(--ha-S400-contrast);margin-right:0.5rem",toString:Qt}),Sd=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1uo8o82"}:{target:"e1uo8o82",label:"MenuPopup"})(process.env.NODE_ENV==="production"?{name:"ofx7pc",styles:"z-index:50;display:flex;min-width:180px;flex-direction:column;overscroll-behavior:contain;border-radius:0.5rem;border-width:1px;border-style:solid;border-color:var(--ha-S500);background-color:var(--ha-S400);padding:0.5rem;color:var(--ha-S400-contrast);box-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1),0 4px 6px -4px rgb(0 0 0 / 0.1);outline:none!important;max-height:max-content;max-height:300px;overflow-y:scroll"}:{name:"ofx7pc",styles:"z-index:50;display:flex;min-width:180px;flex-direction:column;overscroll-behavior:contain;border-radius:0.5rem;border-width:1px;border-style:solid;border-color:var(--ha-S500);background-color:var(--ha-S400);padding:0.5rem;color:var(--ha-S400-contrast);box-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1),0 4px 6px -4px rgb(0 0 0 / 0.1);outline:none!important;max-height:max-content;max-height:300px;overflow-y:scroll",toString:Qt}),Ed=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1uo8o81"}:{target:"e1uo8o81",label:"Parent"})(process.env.NODE_ENV==="production"?{name:"bjn8wh",styles:"position:relative"}:{name:"bjn8wh",styles:"position:relative",toString:Qt}),Nd=j.createStyled("a",process.env.NODE_ENV==="production"?{target:"e1uo8o80"}:{target:"e1uo8o80",label:"MenuItem"})(process.env.NODE_ENV==="production"?{name:"iku8lo",styles:"display:flex;scroll-margin:0.5rem;align-items:center;gap:0.5rem;border-radius:0.25rem;padding:0.8rem 0.5rem;outline:none!important;background-color:transparent;cursor:pointer;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:active,&:focus,&:hover{background-color:var(--ha-S600);}&.active{background-color:var(--ha-S700);}"}:{name:"iku8lo",styles:"display:flex;scroll-margin:0.5rem;align-items:center;gap:0.5rem;border-radius:0.25rem;padding:0.8rem 0.5rem;outline:none!important;background-color:transparent;cursor:pointer;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:active,&:focus,&:hover{background-color:var(--ha-S600);}&.active{background-color:var(--ha-S700);}",toString:Qt});function Ke({children:e,placement:r="bottom",items:o=[],disabled:n=!1,cssStyles:a,...l}){const[d,c]=s.useState(!1),u=i.useHass(C=>C.globalComponentStyles),m=s.useRef(null),{refs:p,floatingStyles:v,context:S}=yd({whileElementsMounted:Yl,placement:r,middleware:[od({limiter:sd({offset:10})}),nd(20),ad({element:m})]}),{width:g,ref:h}=dr.useResizeDetector({refreshMode:"debounce",handleHeight:!1,refreshRate:500}),y=s.useRef(null),f=s.useCallback(C=>{const w=y.current&&y.current.contains(C.target),E=h.current&&h.current.contains(C.target);!w&&!E&&c(!1)},[h]);return s.useEffect(()=>(d?document.addEventListener("mousedown",f):document.removeEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}),[f,d]),t.jsxs(Ed,{...l,ref:h,"aria-disabled":n,"aria-controls":"listbox","aria-expanded":d,role:"combobox",css:de.css(u.menu??""," ",a??"",";"+(process.env.NODE_ENV==="production"?"":";label:Menu;")),children:[s.Children.map(e,C=>s.isValidElement(C)?s.cloneElement(C,{...C.props,role:"option",ref:p.setReference,onClick:()=>{n||(c(!d),C.props.onClick?.())}}):C),d&&t.jsxs("div",{ref:p.setFloating,style:v,role:"listbox",children:[t.jsx(hd,{ref:m,context:S,style:{fill:"var(--ha-S400)"}}),t.jsx(Sd,{triggerWidth:g??0,className:"menu",children:o.map(({onClick:C,active:w,label:E,icon:k,...x},_)=>de.createElement(Nd,{...x,key:_,"aria-disabled":n,role:"option",onClick:()=>{C?.(),c(!1)},className:`menu-item ${w?"active":""}`},t.jsxs(K.Row,{fullWidth:!0,justifyContent:"flex-start",children:[k&&t.jsx(wd,{icon:k}),E]})))})]})]})}const tt=400,ln=tt*(typeof window>"u"?1:window.devicePixelRatio),Cd=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"emae8tc0"}:{target:"emae8tc0",label:"Picker"})(()=>`
    display: block;
    outline: none;
    height: 45vh;
    max-height: 320px;
    min-height: 200px;
    ${ce.mq(["xxs"],`
      min-height: 0;
      height: 35vh;
      max-height: 100%;
    `)}
    touch-action: none;
    .container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
    }
    canvas {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
      transition: box-shadow 180ms ease-in-out;
      cursor: pointer;
    }
    :host(:focus-visible) canvas {
      box-shadow: 0 0 0 2px rgb(255, 160, 0);
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    circle {
      fill: black;
      stroke: white;
      stroke-width: 2;
      filter: url(#marker-shadow);
    }
    &[pressed="touch"] {
      circle {
        transform: translate(0px, -${tt/16}px) scale(2.5),
      }
    }
    .cursor {
      --cx: ((var(--value-x, 0) + 1) * ${tt}) / 2;
      --cy: ((var(--value-y, 0) + 1) * ${tt}) / 2;
      transform: translate(calc(var(--cx) * 1px), calc(var(--cy) * 1px));
    }
    &[pressed] {
      circle {
        transform: translate(0px, 0px) scale(1.5);
      }
    }
    &:not([pressed]) circle {
      transition: transform 100ms ease-in-out, fill 100ms ease-in-out;
    }
    &:not([pressed]) {
      .cursor {
        transition: transform 200ms ease-in-out, opacity 200ms ease-in-out;
      }
    }
    .container.disabled {
      .cursor {
        opacity: 0;
      }
      cursor: not-allowed;
      > * {
        cursor: not-allowed;
      }
    }
    `,";"),ar=.9;function kd(e,r){const o=Math.sqrt(e*e+r*r),n=Math.atan2(r,e);return[o,n]}function _d(e,r){const o=Math.cos(r)*e,n=Math.sin(r)*e;return[o,n]}function jd(e,r,o){e.clearRect(0,0,e.canvas.width,e.canvas.height);const n=e.canvas.width/2,a=Math.max(r,2e3),l=Math.min(o,4e4);for(let d=-n;d<n;d+=1){const c=n*Math.sqrt(1-(d/n)**2),u=(d/(n*ar)+1)/2,m=Math.max(Math.min(a+u*(l-a),l),a),p=i.rgb2hex(i.temperature2rgb(m));e.fillStyle=p,e.fillRect(n-c,n+d-.5,2*c,2),e.fill()}}function Dd({disabled:e=!1,entity:r,onChangeApplied:o,onChange:n,className:a,cssStyles:l,...d}){const c=i.useEntity(r),u=i.useLightTemperature(c),m=s.useRef(null),p=s.useRef(null),v=s.useRef(null),S=s.useRef(null),g=s.useRef(void 0),h=s.useRef([0,0]),y=c.attributes.min_color_temp_kelvin||2e3,f=c.attributes.max_color_temp_kelvin||1e4,C=c.state===i.ON,w=i.lightSupportsColorMode(c,i.LIGHT_COLOR_MODES.COLOR_TEMP),E=s.useCallback(I=>{const z=i.temperature2rgb(I??Math.round((f+y)/2)),M=i.rgb2hex(z),O=i.rgb2hs(z);return{rgb:z,hex:M,hs:O}},[f,y]),k=s.useCallback(I=>{const{hex:z}=E(I);v.current&&(v.current.style.fill=z),S.current&&(S.current.style.fill=z,S.current.style.visibility=h.current?"":"hidden")},[E]),x=s.useCallback(()=>{if(!m.current)return;const I=m.current.getContext("2d");jd(I,y,f)},[y,f]),_=function(I){p.current&&(I!==""?p.current.setAttribute("pressed",I):p.current.removeAttribute("pressed"))},R=s.useCallback(([,I])=>{const z=(I/ar+1)/2,M=Math.max(Math.min(y+z*(f-y),f),y);return Math.round(M)},[y,f]),A=s.useCallback(I=>{if(!(!p.current||!I))return h.current=I,p.current.style.setProperty("--value-x",e?"0":`${I[0]}`),p.current.style.setProperty("--value-y",e?"0":`${I[1]}`),b.current=R(h.current),k(b.current),()=>{p.current&&(p.current.style.removeProperty("--value-x"),p.current.style.removeProperty("--value-y"))}},[e,k,R]),D=s.useCallback(I=>u===y?[0,-1]:u===f?[0,1]:[0,(2*(((I||0)-y)/(f-y))-1)*ar],[u,y,f]),b=s.useRef(R(D(u)));s.useEffect(()=>{k(b.current)},[k]),s.useEffect(()=>{const I=h.current[0];h.current=[I,D(u)[1]],A(h.current)},[A,u,D]);const N=s.useCallback((I,z)=>{const[M,O]=I,L=z.getBoundingClientRect(),P=L.left,J=L.top,H=z.clientWidth,U=z.clientHeight,W=2*(M-P)/H-1,Y=2*(O-J)/U-1,[Z,ge]=kd(W,Y),[F,B]=_d(Math.min(1,Z),ge);return[F,B]},[]),T=s.useCallback(I=>{g.current&&clearTimeout(g.current),I!==u&&(g.current=setTimeout(()=>{if(typeof o=="function"){const z=E(I);o(I,z)}c.service.turnOn({serviceData:{color_temp_kelvin:I}})},100))},[o,c,u,E]);s.useEffect(()=>{w&&x()},[x,w]);function V(){return t.jsxs("filter",{id:"marker-shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",children:[t.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodOpacity:"0.3",floodColor:"rgba(0, 0, 0, 1)"}),t.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"3",floodOpacity:"0.15",floodColor:"rgba(0, 0, 0, 1)"})]})}const $=gt.useGesture({onDrag:I=>{if(!e&&(A(N(I.xy,I.target)),typeof n=="function")){const z=E(b.current);n(b.current,z)}},onDragStart:I=>{e||(_(I.type),A(h.current))},onDragEnd:I=>{e||(_(""),A(N(I.xy,I.target)),T(b.current))},onClick:I=>{const z=I.event.clientX,M=I.event.clientY;A(N([z,M],I.event.target)),T(b.current)}},{drag:{filterTaps:!0}});return w?t.jsx(Cd,{css:de.css(l??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalColorTempPicker;")),className:`${a??""} color-temp-picker`,ref:p,...$(),...d,children:t.jsxs("div",{className:`container ${e?"disabled":""}`,children:[t.jsx("canvas",{ref:m,width:ln,height:ln}),t.jsxs("svg",{id:"interaction",viewBox:`0 0 ${tt} ${tt}`,overflow:"visible","aria-hidden":"true",children:[t.jsx("defs",{children:V()}),t.jsx("g",{ref:v,className:"cursor",style:{visibility:typeof u>"u"||!C?"hidden":"visible"},children:t.jsx("circle",{ref:S,cx:"0",cy:"0",r:"16"})})]})]})}):null}function so(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ColorTempPicker"}),children:t.jsx(Dd,{...e})})}const Ue=400;function dn(e,r){const o=Math.sqrt(e*e+r*r),n=Math.atan2(r,e);return[o,n]}function un(e,r){const o=Math.cos(r)*e,n=Math.sin(r)*e;return[o,n]}function Od(e){return e/(2*Math.PI)*360}function ir(e){return e/360*2*Math.PI}function cr(e,r,o,n,a,l){return r!=null?i.rgbw2rgb([...e,r]):o!=null&&n!==null?i.rgbww2rgb([...e,o,n],a,l):e}function Rd(e,r=255,o,n,a,l,d){const c=e.canvas.width/2;e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath();const u=e.canvas.width/2,m=e.canvas.width/2;for(let p=0;p<360;p+=1){const v=ir(p-.5),S=ir(p+1.5);e.beginPath(),e.moveTo(u,m),e.arc(u,m,c,v,S),e.closePath();const g=e.createRadialGradient(u,m,0,u,m,c),h=i.rgb2hex(cr(i.hsv2rgb([p,0,r]),o,n,a,l,d)),y=i.rgb2hex(cr(i.hsv2rgb([p,1,r]),o,n,a,l,d));g.addColorStop(0,h),g.addColorStop(1,y),e.fillStyle=g,e.fill()}}const Id=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e13gc1280"}:{target:"e13gc1280",label:"ColorPickerWrapper"})(()=>{const e=`calc((var(--value-x, 0) + 1) * (${Ue} / 2) * 1px), calc((var(--value-y, 0) + 1) * (${Ue} / 2) * 1px)`;return`
    touch-action: none;
    display: block;
    outline: none;
    height: 45vh;
    max-height: 320px;
    min-height: 200px;
    ${ce.mq(["xxs"],`
      min-height: 0;
      height: 35vh;
      max-height: 100%;
    `)}
    .container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
    }
    canvas {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
      cursor: pointer;
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    .cursor {
      will-change: transform;
      transform: translate(${e});
    }
    circle {
      fill: black;
      stroke: white;
      stroke-width: 2;
      filter: url(#marker-shadow);
    }
    &:not([pressed]) circle {
      transition:
        transform 100ms ease-in-out,
        fill 100ms ease-in-out;
      translate(0px, 0px) scale(1);
    }
    &:not([pressed]) .cursor {
      transition: opacity 200ms ease-in-out, transform 200ms ease-in-out;
    }
    &[pressed="pointerdown"] circle {
      translate(0px, -${Ue/16}px) scale(1.5);
    }
    .container.disabled {
      .cursor {
        opacity: 0;
      }
      cursor: not-allowed;
      > * {
        cursor: not-allowed;
      }
    }
  `},";");function Ad({disabled:e=!1,entity:r,onChange:o,onChangeApplied:n,className:a,cssStyles:l}){const d=i.useEntity(r),c=i.useLightColor(d),u=s.useRef(null),m=s.useRef(null),p=s.useRef(null),v=s.useRef(void 0),S=s.useRef(null),g=s.useRef(void 0),h=s.useRef(void 0),y=s.useRef(void 0),f=s.useMemo(()=>typeof window>"u"?Ue:Ue*window.devicePixelRatio,[]),C=d.attributes.min_color_temp_kelvin,w=d.attributes.max_color_temp_kelvin,E=d.state===i.ON,k=i.lightSupportsColor(d),x=s.useCallback(()=>{if(!m.current)return;const O=m.current.getContext("2d");Rd(O,c.colorBrightness,c.white,c.coolWhite,c.warmWhite,C,w)},[c.colorBrightness,c.white,c.coolWhite,c.warmWhite,C,w]);s.useEffect(()=>{k&&x()},[x,k]);const _=s.useCallback(O=>{const L=ir(O[0]),P=Math.min(O[1],1),[J,H]=un(P,L);return[J,H]},[]),R=s.useCallback((O,L)=>{const[P,J]=dn(O,L),U=(Math.round(Od(J))%360+360)%360,W=Math.round(Math.min(P,1)*100)/100;return[U,W]},[]),A=s.useCallback((O,L)=>{const[P,J]=O,H=L.getBoundingClientRect(),U=H.left,W=H.top,Y=L.clientWidth,Z=L.clientHeight,ge=2*(P-U)/Y-1,F=2*(J-W)/Z-1,[B,G]=dn(ge,F),[X,te]=un(Math.min(1,B),G);return[X,te]},[]),D=s.useCallback(()=>{if(c.hs===void 0){h.current=void 0,y.current=void 0;return}h.current=_(c.hs),y.current=c.hs},[_,c.hs]);s.useEffect(()=>{k&&D()},[c.hs,D,k]);const b=function(O,L){g.current=L,u.current&&(O?u.current.setAttribute("pressed",""):u.current.removeAttribute("pressed"))},N=s.useCallback(()=>{const O=y.current!==void 0?cr(i.hsv2rgb([y.current[0],y.current[1],c.colorBrightness??255]),c.white,c.coolWhite,c.warmWhite):[255,255,255];v.current=i.rgb2hex(O),S.current&&(S.current.style.fill=v.current,S.current.style.visibility=h.current?"":"hidden"),p.current&&(p.current.style.fill=v.current)},[c.colorBrightness,c.white,c.coolWhite,c.warmWhite]),T=s.useCallback(O=>{!u.current||!O||(h.current=O,u.current.style.setProperty("--value-x",e?"0":`${O[0]}`),u.current.style.setProperty("--value-y",e?"0":`${O[1]}`),y.current=R(...h.current),N(),typeof o=="function"&&o({hex:v.current,rgb:i.hex2rgb(v.current),hs:y.current}))},[e,R,o,N]);s.useEffect(()=>{const O=u.current;return()=>{O&&(O.style.removeProperty("--value-x"),O.style.removeProperty("--value-y"))}},[]),s.useEffect(()=>{!k||c.hs===void 0||(h.current=_(c.hs),T(h.current))},[c.hs,k,T,_]);const V=s.useCallback((O,L)=>{d.service.turnOn({serviceData:{...O,...L}})},[d]),$=s.useCallback(O=>{if(i.lightSupportsColorMode(d,i.LIGHT_COLOR_MODES.RGBWW)){const L=d.attributes.rgbww_color?[...d.attributes.rgbww_color]:[0,0,0,0,0],P=O.concat(L.slice(3));V({rgbww_color:P})}else if(i.lightSupportsColorMode(d,i.LIGHT_COLOR_MODES.RGBW)){const L=d.attributes.rgbw_color?[...d.attributes.rgbw_color]:[0,0,0,0],P=O.concat(L.slice(3));V({rgbw_color:P})}},[d,V]),I=s.useCallback((O,L,P=!1)=>{if(O.every(H=>H===0)&&(O[0]=255,O[1]=255,O[2]=255),L!==void 0&&L!==255){let H=L/255;P&&(H=1/H),O[0]=Math.min(255,Math.round(O[0]*H)),O[1]=Math.min(255,Math.round(O[1]*H)),O[2]=Math.min(255,Math.round(O[2]*H))}return O},[]),z=s.useCallback(O=>{if(!O)return;const L=[O[0],O[1]*100],P=i.hs2rgb(O);if(i.lightSupportsColorMode(d,i.LIGHT_COLOR_MODES.RGBWW)||i.lightSupportsColorMode(d,i.LIGHT_COLOR_MODES.RGBW))$(c.colorBrightness?I(P,c.colorBrightness*255/100):P);else if(i.lightSupportsColorMode(d,i.LIGHT_COLOR_MODES.RGB))if(c.brightnessAdjusted){const J=c.brightnessAdjusted/255*100,H=Math.round((d.attributes.brightness||0)*J/255),U=I(P,c.brightnessAdjusted,!0);V({rgb_color:U},{brightness_pct:H})}else V({rgb_color:P});else V({hs_color:L})},[d,$,c.colorBrightness,c.brightnessAdjusted,I,V]),M=gt.useGesture({onDrag:O=>{e||(h.current=A(O.values,O.target),T(h.current))},onDragStart:O=>{e||(b(!0,O.type),T(h.current))},onDragEnd:O=>{e||(b(!1,O.type),h.current=A(O.values,O.target),T(h.current),typeof n=="function"&&n({hex:v.current,rgb:i.hex2rgb(v.current),hs:y.current}),z(y.current))},onClick:O=>{if(e)return;b(!1,void 0);const L=O.event.clientX,P=O.event.clientY;h.current=A([L,P],O.event.target),T(h.current),typeof n=="function"&&n({hex:v.current,rgb:i.hex2rgb(v.current),hs:y.current}),z(y.current)}},{drag:{filterTaps:!0}});return k?t.jsx(Id,{css:de.css(l??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalColorPicker;")),className:`${a??""} color-picker`,ref:u,...M(),children:t.jsxs("div",{className:`container ${e?"disabled":""}`,children:[t.jsx("canvas",{ref:m,width:f,height:f}),t.jsxs("svg",{id:"interaction",viewBox:`0 0 ${Ue} ${Ue}`,overflow:"visible",children:[t.jsx("defs",{children:t.jsxs("filter",{id:"marker-shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",children:[t.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodOpacity:"0.3",floodColor:"rgba(0, 0, 0, 1)"}),t.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"3",floodOpacity:"0.15",floodColor:"rgba(0, 0, 0, 1)"})]})}),t.jsx("g",{ref:p,className:"cursor",style:{visibility:E?"visible":"hidden"},children:t.jsx("circle",{ref:S,cx:"0",cy:"0",r:"16"})})]})]})}):null}function ao(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ColorPicker"}),children:t.jsx(Ad,{...e})})}function Dr(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Td=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"elgr7fr2"}:{target:"elgr7fr2",label:"Key"})(process.env.NODE_ENV==="production"?{name:"1ff36h2",styles:"flex-grow:1"}:{name:"1ff36h2",styles:"flex-grow:1",toString:Dr}),zd=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"elgr7fr1"}:{target:"elgr7fr1",label:"Value"})(process.env.NODE_ENV==="production"?{name:"1qhvysv",styles:"max-width:60%;overflow-wrap:break-word;text-align:right"}:{name:"1qhvysv",styles:"max-width:60%;overflow-wrap:break-word;text-align:right",toString:Dr}),Md=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"elgr7fr0"}:{target:"elgr7fr0",label:"Entry"})(process.env.NODE_ENV==="production"?{name:"177lhik",styles:"display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-bottom:0.5rem;border-bottom:1px solid var(--ha-S400)"}:{name:"177lhik",styles:"display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-bottom:0.5rem;border-bottom:1px solid var(--ha-S400)",toString:Dr});function Vd({entity:e,title:r,...o}){const n=i.useEntity(e),a=s.useMemo(()=>[...Object.entries(n.attributes),["state",n.state]],[n]);return t.jsx(mr,{collapsed:!0,cssStyles:`
    background-color: var(--ha-S300);
    color: var(--ha-S300-contrast);
    margin: 1rem 0;
  `,layout:"column",alignItems:"flex-start",title:r??i.localize("show_attributes"),...o,children:a.map(([l,d])=>t.jsxs(Md,{children:[t.jsx(Td,{children:l}),t.jsx(zd,{children:Array.isArray(d)?d.join(", "):typeof d=="object"||typeof d=="boolean"?JSON.stringify(d):d})]},l))})}function io(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"EntityAttributes"}),children:t.jsx(Vd,{...e})})}const Pd=Ro(e=>No(e));function $d({children:e,options:r}){return t.jsx(de.CacheProvider,{value:Pd(r),children:e})}const lr={errorColor:[219,68,55],warningColor:[255,166,0],successColor:[67,160,71],infoColor:[3,155,229]},Kt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Fd=(e,r)=>{const[o,n,a]=e.map(l=>{const d=l/255*r;return d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)});return .2126*o+.7152*n+.0722*a},Bd=(e,r)=>Fd(e,r)>.3?"rgba(0, 0, 0, 1)":"rgba(255, 255, 255, 1)",Ld=(e=lr)=>Object.entries(e).map(([r,o])=>Kt.map(n=>{const a=n<1?`-a${n*10}`:"",l=`--ha-${r.replace(/([A-Z])/g,"-$1").toLowerCase().replace("-color","")}-color${a}`,d=`${l}-contrast`,c=`rgba(${o.join(", ")}, ${n})`,u=Bd([...o],n);return`${l}: ${c};
${d}: ${u};`}).join(`
`)).join(`
`),pn=(e,r,o,n)=>e.map((a,l)=>{const d=r==="Light",c=d?`calc(((var(--ha-s) - var(--mtc-light-s)) * var(--mtc-s-${a}) + var(--mtc-light-s)) * 1%)`:`calc(((1 - var(--mtc-s-${a})) * 100 + var(--mtc-s-${a}) * var(--ha-s)) * 1%)`,u=d?`calc(((var(--ha-l) - var(--mtc-light-l)) * var(--mtc-l-${a}) + var(--mtc-light-l)) * 1%)`:`calc(((1 - var(--mtc-l-${a})) * var(--ha-l) * var(--ha-l) / 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%)`,m=y=>d?`hsla(0, 0%, calc(((((1 - var(--mtc-l-${a})) * 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${y})`:`hsla(0, 0%, calc(((((1 - var(--mtc-l-${a})) * var(--ha-l) * var(--ha-l) / 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${y})`,p=n?pe.DEFAULT_START_LIGHT:pe.DEFAULT_START_DARK,v=d?0:pe.LIGHT.length+1,S=n?p+pe.DIFF*(l+v):p-pe.DIFF*(l+v),g=`
      --ha-${a}-h: var(--ha-h);
      --ha-${a}-s: ${c};
      --ha-${a}-l: ${u};
      `,h=Kt.map(y=>{const f=y<1?`-a${y*10}`:"";return`
        --ha-${a}${f}: hsla(var(--ha-${a}-h), var(--ha-${a}-s), var(--ha-${a}-l), ${y});
        --ha-${a}${f}-contrast: ${m(y)};
        --ha-S${a}${f}: hsla(var(--ha-h), calc(var(--ha-${a}-s) * ${o}), ${S}%, ${y});
        --ha-S${a}${f}-contrast: hsla(var(--ha-h), calc(var(--ha-${a}-s) * ${o}), calc(((100% - ${S}%) + ${v} * 10%)), ${y});`}).join("");return`
        ${g}
        ${h}
        `}).join(""),Hd=(e,r,o)=>e.map((n,a)=>{const l=pe.LIGHT.length+1+pe.DARK.length,d=o?pe.DEFAULT_START_LIGHT:pe.DEFAULT_START_DARK,c=o?d+pe.DIFF*(l+a):d-pe.DIFF*(l+a),u=`
        --ha-${n}-h: calc(var(--ha-h) * var(--mtc-h-${n}));
        --ha-${n}-s: calc(var(--mtc-s-${n}) * 100%);
        --ha-${n}-l: calc(var(--mtc-l-${n}) * 100%);
      `,m=Kt.map(p=>{const v=p<1?`-a${p*10}`:"";return`
          --ha-${n}${v}: hsla(var(--ha-${n}-h), var(--ha-${n}-s), var(--ha-${n}-l), ${p});
          --ha-S${n}${v}: hsla(var(--ha-h), calc(var(--ha-${n}-s) * ${r}), ${c}%, ${p});
          --ha-S${n}${v}-contrast: hsla(var(--ha-${n}-s), calc(var(--ha-${n}-s) * ${r}), calc(((100% - ${c}%))), ${p});`}).join("");return`
        ${u}
        ${m}
        `}).join(""),qd=(e,r,o)=>{const n=pn(pe.LIGHT,"Light",e,o),a=pn(pe.DARK,"Dark",e,o),l=Hd(pe.ACCENT,e,o),d=o?pe.DEFAULT_START_LIGHT:pe.DEFAULT_START_DARK,c=o?d+pe.DIFF*5:d-pe.DIFF*5,u=Kt.map(m=>{const p=m<1?`-a${m*10}`:"";return`
      --ha-500${p}-contrast: hsla(0, 0%, calc(((var(--ha-l) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${m});
      --ha-S500${p}: hsla(var(--ha-h), calc(var(--ha-500-s) * ${e}), ${c}%, ${m});
      --ha-S500${p}-contrast: hsla(var(--ha-h), calc(var(--ha-500-s) * ${e}), calc(((100% - ${c}%))), ${m});
    `}).join("");return`
    ${Ld(r)}
    ${n}
    --ha-500-h: var(--ha-h);
    --ha-500-s: calc(var(--ha-s) * 1%);
    --ha-500-l: calc(var(--ha-l) * 1%);
    --ha-500: var(--ha);
    ${u}
    ${a}
    ${l}
  `};function Wd(e){const{xlg:r,...o}=e;return o}const Ud=s.memo(function({theme:r,darkMode:o,tint:n,hue:a,saturation:l,lightness:d,contrastThreshold:c,breakpoints:u,globalStyles:m,globalComponentStyles:p,emotionCache:v,infoColors:S=lr,children:g}){const h=We.useThemeStore(R=>R.theme),y=We.useThemeStore(R=>R.setTheme),f=We.useThemeStore(R=>R.setBreakpoints),C=i.useHass(R=>R.setGlobalComponentStyles),w=We.useThemeStore(R=>R.breakpoints),E=at(),x=i.useHass(R=>R.windowContext)??window;s.useEffect(()=>{p&&C(p)},[C,p]),s.useEffect(()=>{y({hue:a,lightness:d,tint:n,saturation:l,darkMode:o,contrastThreshold:c})},[c,o,a,d,l,n,y]);const _=h.darkMode?"dark":"light";return s.useEffect(()=>{typeof u<"u"&&(ie.isEqual(u,Wd(w))||f(u))},[f,u,w]),s.useEffect(()=>{Object.entries(E).forEach(([R,A])=>{const D=`bp-${R}`,b=v?.container??null;let N=b?b.ownerDocument?.body??null:x.document.body;N||(console.error("No valid <body> element found. Falling back to document.body. Ensure that emotionCache.container is a node within a document."),N=x.document.body),A?N.classList.add(D):N.classList.remove(D)})},[E,x,v]),t.jsxs($d,{options:v??{key:"hakit",container:x.document.head},children:[t.jsx(de.Global,{styles:de.css(":root{",Eo.convertToCssVars(ie.merge(So.theme,r))," --is-dark-theme:",h.darkMode?"1":"0",";color-scheme:",_,";--ha-easing:cubic-bezier(0.25, 0.46, 0.45, 0.94);--ha-transition-duration:0.25s;--ha-area-card-expanded-offset:0;--ha-background-opaque:",h.darkMode?"hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.9)":"hsla(var(--ha-h), calc(var(--ha-s) * 1%), 20%, 0.7)",";}:root{--ha-h:",h.hue,";--ha-s:",h.saturation,";--ha-l:",h.lightness,";--ha-contrast-threshold:",h.contrastThreshold,"%;--ha-so:calc(var(--ha-s) * 1%);--ha:hsla(var(--ha-h), calc(var(--ha-s) * 1%), calc(var(--ha-l) * 1%), 100%);--mtc-h-A100:1;--mtc-h-A200:1;--mtc-h-A400:1;--mtc-h-A700:1.01;--mtc-s-50:0.91;--mtc-s-100:0.98;--mtc-s-200:0.96;--mtc-s-300:0.95;--mtc-s-400:0.96;--mtc-s-600:1;--mtc-s-700:0.99;--mtc-s-800:0.89;--mtc-s-900:0.86;--mtc-s-A100:0.89;--mtc-s-A200:0.98;--mtc-s-A400:0.97;--mtc-s-A700:0.95;--mtc-l-50:0.12;--mtc-l-100:0.3;--mtc-l-200:0.5;--mtc-l-300:0.7;--mtc-l-400:0.86;--mtc-l-600:0.87;--mtc-l-700:0.66;--mtc-l-800:0.45;--mtc-l-900:0.16;--mtc-l-A100:0.76;--mtc-l-A200:0.64;--mtc-l-A400:0.49;--mtc-l-A700:0.44;--mtc-light-h:0;--mtc-light-s:0;--mtc-light-l:100;",qd(h.tint??pe.DEFAULT_THEME_OPTIONS.tint,{...lr,...S},h.darkMode??pe.DEFAULT_THEME_OPTIONS.darkMode),";}*{box-sizing:border-box;scrollbar-width:thin;scrollbar-color:var(--ha-S500) var(--ha-S200);font-family:var(--ha-font-family);::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0.5);}&::-webkit-scrollbar{width:12px;height:12px;}&::-webkit-scrollbar-track{background:var(--ha-S200);}&::-webkit-scrollbar-thumb{background-color:var(--ha-S500);border-radius:20px;border:3px solid var(--ha-S200);}}html,body{height:100%;width:100%;margin:0;padding:0;}body{-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:transparent;-webkit-overflow-scrolling:touch;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth;background-color:var(--ha-S100);font-family:var(--ha-font-family);font-size:var(--ha-font-size);color:var(--ha-S100-contrast);overflow-x:hidden;overflow-y:var(--ha-hide-body-overflow-y, inherit);}",ce.generateColumnBreakpoints(w)," ",m??"",";"+(process.env.NODE_ENV==="production"?"":";label:InternalThemeProvider;"))}),g&&g]})});function Gd(e){return t.jsx(ne.ErrorBoundary,{...re({prefix:"ThemeProvider"}),children:t.jsx(Ud,{...e})})}function Or(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Oe=j.createStyled("span",process.env.NODE_ENV==="production"?{target:"eix6b722"}:{target:"eix6b722",label:"Title"})(process.env.NODE_ENV==="production"?{name:"1p8r5zz",styles:"font-size:0.9rem;color:var(--ha-S100-contrast)"}:{name:"1p8r5zz",styles:"font-size:0.9rem;color:var(--ha-S100-contrast)",toString:Or}),Me=j.createStyled(K.Row,process.env.NODE_ENV==="production"?{target:"eix6b721"}:{target:"eix6b721",label:"Pallette"})(process.env.NODE_ENV==="production"?{name:"1ygc31c",styles:"font-size:0.8rem;width:3.5rem;height:3.5rem"}:{name:"1ygc31c",styles:"font-size:0.8rem;width:3.5rem;height:3.5rem",toString:Or}),pt=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"eix6b720"}:{target:"eix6b720",label:"RangeSliderBox"})(process.env.NODE_ENV==="production"?{name:"ve2mh7",styles:"padding:0.5rem;width:100%;background-color:var(--ha-S100);border-radius:0.5rem"}:{name:"ve2mh7",styles:"padding:0.5rem;width:100%;background-color:var(--ha-S100);border-radius:0.5rem",toString:Or});function co(){const e=We.useThemeStore(x=>x.theme),r=We.useThemeStore(x=>x.setTheme),{hue:o,saturation:n,lightness:a,tint:l,contrastThreshold:d,darkMode:c}=e,[u,m]=s.useState(o),[p,v]=s.useState(a),[S,g]=s.useState(l),[h,y]=s.useState(n),[f,C]=s.useState(c),[w,E]=s.useState(d),k=Fe.useDebouncedCallback(x=>{r(x)},50,{trailing:!0,leading:!0});return s.useEffect(()=>{k({hue:u,saturation:h,lightness:p,tint:S,contrastThreshold:w,darkMode:f})},[w,d,f,c,u,o,p,a,k,h,n,S,l]),t.jsxs(ee.Column,{fullWidth:!0,gap:"1rem",wrap:"nowrap",style:{padding:"1rem 0"},children:[t.jsxs(K.Row,{fullWidth:!0,gap:"1rem",wrap:"nowrap",children:[t.jsx(pt,{children:t.jsx(qe,{label:"Shade Tint",description:"Will change the hue tint for the shade colors",min:0,max:1,step:.05,value:S,onChangeComplete:x=>{g(x)}})}),t.jsx(pt,{children:t.jsx(qe,{label:"Contrast Threshold",description:"Changes output calculation for text color",min:0,max:100,step:1,value:w,onChangeComplete:x=>{E(x)}})})]}),t.jsxs(K.Row,{fullWidth:!0,gap:"1rem",wrap:"nowrap",children:[t.jsx(pt,{children:t.jsx(qe,{label:"Saturation",description:"Control the saturation of the color",min:0,max:100,value:h,onChangeComplete:x=>{y(x)}})}),t.jsx(pt,{children:t.jsx(qe,{label:"Lightness",description:"Control how bright the primary colors are",min:0,max:100,value:p,onChangeComplete:x=>{v(x)}})})]}),t.jsx(pt,{children:t.jsx(qe,{label:"Hue",description:"Change the overall hue of the colors",min:0,max:360,value:u,onChangeComplete:x=>{m(x)}})}),t.jsxs(K.Row,{justifyContent:"flex-start",fullWidth:!0,gap:"1rem",children:[t.jsx(Oe,{children:"Dark / Light mode"}),t.jsx(ae,{tooltipPlacement:"right",title:f?"Change to light mode":"Change to dark mode",icon:f?"ph:moon":"ph:sun",onClick:()=>{C(!f)}})]}),t.jsx(K.Row,{justifyContent:"flex-start",fullWidth:!0,children:t.jsx(Be.Alert,{children:"Hover over the pallette's below to see the respective css variables."})}),t.jsxs(K.Row,{wrap:"nowrap",fullWidth:!0,justifyContent:"flex-start",children:[pe.LIGHT.map((x,_)=>t.jsxs(ee.Column,{gap:"1rem",children:[t.jsx(Oe,{children:_===0?"Primary":t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsxs("span",{children:["background-color: var(--ha-",x,");"]}),t.jsxs("span",{children:["color: var(--ha-",x,"-contrast);"]})]}),children:t.jsx(Me,{style:{color:`var(--ha-${x}-contrast)`,backgroundColor:`var(--ha-${x})`},children:x})}),t.jsx(Oe,{children:_===0?"Shade":t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsxs("span",{children:["background-color: var(--ha-S",x,");"]}),t.jsxs("span",{children:["color: var(--ha-S",x,"-contrast);"]})]}),children:t.jsxs(Me,{style:{color:`var(--ha-S${x}-contrast)`,backgroundColor:`var(--ha-S${x})`},children:["S",x]})})]},x)),t.jsxs(ee.Column,{gap:"1rem",children:[t.jsx(Oe,{children:t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsx("span",{children:"background-color: var(--ha-500);"}),t.jsx("span",{children:"color: var(--ha-500-contrast);"})]}),children:t.jsx(Me,{style:{transform:"scale(1.1)",transformOrigin:"bottom",color:"var(--ha-500-contrast)",backgroundColor:"var(--ha-500)"},children:"500"})}),t.jsx(Oe,{children:t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsx("span",{children:"background-color: var(--ha-S500);"}),t.jsx("span",{children:"color: var(--ha-S500-contrast);"})]}),children:t.jsx(Me,{style:{transform:"scale(1.1)",transformOrigin:"top",color:"var(--ha-S500-contrast)",backgroundColor:"var(--ha-S500)"},children:"S500"})})]}),pe.DARK.map(x=>t.jsxs(ee.Column,{gap:"1rem",children:[t.jsx(Oe,{children:t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsxs("span",{children:["background-color: var(--ha-",x,");"]}),t.jsxs("span",{children:["color: var(--ha-",x,"-contrast);"]})]}),children:t.jsx(Me,{style:{color:`var(--ha-${x}-contrast)`,backgroundColor:`var(--ha-${x})`},children:x})}),t.jsx(Oe,{children:t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsxs("span",{children:["background-color: var(--ha-S",x,");"]}),t.jsxs("span",{children:["color: var(--ha-S",x,"-contrast);"]})]}),children:t.jsxs(Me,{style:{color:`var(--ha-S${x}-contrast)`,backgroundColor:`var(--ha-S${x})`},children:["S",x]})})]},x))]}),t.jsx(K.Row,{fullWidth:!0,justifyContent:"flex-start",children:pe.ACCENT.map((x,_)=>t.jsxs(ee.Column,{gap:"1rem",children:[t.jsx(Oe,{children:_===0?"Accent":t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsxs("span",{children:["background-color: var(--ha-",x,");"]}),t.jsxs("span",{children:["color: var(--ha-",x,"-contrast);"]})]}),children:t.jsx(Me,{style:{color:`var(--ha-${x}-contrast)`,backgroundColor:`var(--ha-${x})`},children:x})}),t.jsx(Oe,{children:_===0?"Shade":t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsxs("span",{children:["background-color: var(--ha-S",x,");"]}),t.jsxs("span",{children:["color: var(--ha-S",x,"-contrast);"]})]}),children:t.jsxs(Me,{style:{color:`var(--ha-S${x}-contrast)`,backgroundColor:`var(--ha-S${x})`},children:["S",x]})})]},x))}),["info","success","error","warning"].map((x,_)=>t.jsx(K.Row,{fullWidth:!0,justifyContent:"flex-start",children:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1].map((R,A)=>{const D=R===1?"":`-a${A+1}`;return t.jsxs(ee.Column,{gap:"1rem",children:[t.jsx(Oe,{children:A===0?ie.capitalize(x):t.jsx(t.Fragment,{children:"Â "})}),t.jsx(me,{placement:"top",title:t.jsxs(ee.Column,{alignItems:"flex-start",children:[t.jsxs("span",{children:["background-color: var(--ha-",x,"-color",D,");"]}),t.jsxs("span",{children:["color: var(--ha-",x,"-color",D,"-contrast);"]})]}),children:t.jsxs(Me,{style:{color:`var(--ha-${x}-color${D}-contrast)`,backgroundColor:`var(--ha-${x}-color${D})`},children:[D,R===1?R:""]})})]},`${R}-${x}-${_}`)})},_))]})}function Yd(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}const Xd=j.createStyled("div",process.env.NODE_ENV==="production"?{target:"e1f4ouvq0"}:{target:"e1f4ouvq0",label:"ThemeControlsBox"})(process.env.NODE_ENV==="production"?{name:"a3s68x",styles:"position:fixed;top:1rem;right:1rem;z-index:1"}:{name:"a3s68x",styles:"position:fixed;top:1rem;right:1rem;z-index:1",toString:Yd});function Qd(){const[e,r]=s.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Xd,{children:t.jsx(ae,{onClick:()=>r(!0),tooltipPlacement:"left",title:i.localize("theme"),icon:"mdi:color"})}),t.jsx(qt,{description:"This interface showcases how the colors will behave and provides easy to access css variables",open:e,title:i.localize("theme"),onClose:()=>{r(!1)},children:t.jsx(co,{})})]})}exports.AlarmControls=si;exports.AlternateControls=nr;exports.AreaCard=ia;exports.ButtonBar=Ve;exports.ButtonBarButton=Ne;exports.ButtonCard=fr;exports.ButtonGroup=rt;exports.ButtonGroupButton=Re;exports.CalendarCard=oc;exports.CameraCard=wc;exports.CameraStream=Fn;exports.CardBase=xe;exports.ClimateCard=Ni;exports.ClimateControlSlider=In;exports.ClimateControls=qa;exports.ClimateHumiditySlider=An;exports.ColorPicker=ao;exports.ColorTempPicker=so;exports.ControlSlider=At;exports.ControlSliderCircular=Ze;exports.ControlToggle=qn;exports.CoverControls=ci;exports.EntitiesCard=ji;exports.EntitiesCardRow=zi;exports.EntityAttributes=io;exports.Fab=je;exports.FabCard=ae;exports.FamilyCard=Na;exports.FeatureEntity=He;exports.GarbageCollectionCard=Xs;exports.Group=mr;exports.HlsPlayer=Pn;exports.LightControls=Qa;exports.LogBookRenderer=Ln;exports.MapMarker=Mn;exports.MediaPlayerCard=Vn;exports.MediaPlayerControls=mi;exports.Menu=Ke;exports.Modal=qt;exports.ModalByEntityDomain=Sr;exports.PersonCard=Da;exports.PersonControls=xi;exports.PictureCard=ga;exports.PlaybackControls=rr;exports.RangeSlider=qe;exports.RelatedEntity=Vo;exports.Ripples=Sn;exports.SidebarCard=Va;exports.ThemeControls=co;exports.ThemeControlsModal=Qd;exports.ThemeProvider=Gd;exports.TimeCard=_n;exports.Tooltip=me;exports.TriggerCard=fs;exports.UserAvatar=br;exports.VacuumCard=ua;exports.VacuumControls=Uc;exports.VacuumToolbar=Hn;exports.VolumeControls=yr;exports.WeatherCard=Nn;exports.WeatherCardDetail=Cn;exports.WebRTCPlayer=$n;exports.fallback=re;exports.useBreakpoint=at;
//# sourceMappingURL=ThemeControlsModal-_0fTWRao.cjs.map
