{"version":3,"file":"svg-arc.js","sources":["../../../../src/Shared/ControlSliderCircular/svg-arc.ts"],"sourcesContent":["type Vector = [number, number];\ntype Matrix = [Vector, Vector];\n\nconst rotateVector = ([[a, b], [c, d]]: Matrix, [x, y]: Vector): Vector => [a * x + b * y, c * x + d * y];\nconst createRotateMatrix = (x: number): Matrix => [\n  [Math.cos(x), -Math.sin(x)],\n  [Math.sin(x), Math.cos(x)],\n];\nconst addVector = ([a1, a2]: Vector, [b1, b2]: Vector): Vector => [a1 + b1, a2 + b2];\n\nexport const toRadian = (angle: number) => (angle / 180) * Math.PI;\n\ntype ArcOptions = {\n  x: number;\n  y: number;\n  r: number;\n  start: number;\n  end: number;\n  rotate?: number;\n};\n\nexport const svgArc = (options: ArcOptions) => {\n  const { x, y, r, start, end, rotate = 0 } = options;\n  const cx = x;\n  const cy = y;\n  const rx = r;\n  const ry = r;\n  const t1 = toRadian(start);\n  const t2 = toRadian(end);\n  const delta = (t2 - t1) % (2 * Math.PI);\n  const phi = toRadian(rotate);\n\n  const rotMatrix = createRotateMatrix(phi);\n  const [sX, sY] = addVector(rotateVector(rotMatrix, [rx * Math.cos(t1), ry * Math.sin(t1)]), [cx, cy]);\n  const [eX, eY] = addVector(rotateVector(rotMatrix, [rx * Math.cos(t1 + delta), ry * Math.sin(t1 + delta)]), [cx, cy]);\n  const fA = delta > Math.PI ? 1 : 0;\n  const fS = delta > 0 ? 1 : 0;\n\n  return [\"M\", sX, sY, \"A\", rx, ry, (phi / (2 * Math.PI)) * 360, fA, fS, eX, eY].join(\" \");\n};\n"],"names":["rotateVector","a","b","c","d","x","y","createRotateMatrix","Math","cos","sin","addVector","a1","a2","b1","b2","toRadian","angle","PI","svgArc","options","r","start","end","rotate","cx","cy","rx","ry","t1","delta","phi","rotMatrix","sX","sY","eX","eY","fA","fS","join"],"mappings":"gFAGA,MAAMA,EAAeA,CAAC,CAAC,CAACC,EAAGC,CAAC,EAAG,CAACC,EAAGC,CAAC,CAAC,EAAW,CAACC,EAAGC,CAAC,IAAsB,CAACL,EAAII,EAAIH,EAAII,EAAGH,EAAIE,EAAID,EAAIE,CAAC,EAClGC,EAAsBF,GAAsB,CAChD,CAACG,KAAKC,IAAIJ,CAAC,EAAG,CAACG,KAAKE,IAAIL,CAAC,CAAC,EAC1B,CAACG,KAAKE,IAAIL,CAAC,EAAGG,KAAKC,IAAIJ,CAAC,CAAC,CAAC,EAEtBM,EAAYA,CAAC,CAACC,EAAIC,CAAE,EAAW,CAACC,EAAIC,CAAE,IAAsB,CAACH,EAAKE,EAAID,EAAKE,CAAE,EAEtEC,EAAYC,GAAmBA,EAAQ,IAAOT,KAAKU,GAWnDC,EAAUC,GAAwB,CAC7C,KAAM,CAAEf,EAAAA,EAAGC,EAAAA,EAAGe,EAAAA,EAAGC,MAAAA,EAAOC,IAAAA,EAAKC,OAAAA,EAAS,CAAA,EAAMJ,EACtCK,EAAKpB,EACLqB,EAAKpB,EACLqB,EAAKN,EACLO,EAAKP,EACLQ,EAAKb,EAASM,CAAK,EAEnBQ,GADKd,EAASO,CAAG,EACHM,IAAO,EAAIrB,KAAKU,IAC9Ba,EAAMf,EAASQ,CAAM,EAErBQ,EAAYzB,EAAmBwB,CAAG,EAClC,CAACE,EAAIC,CAAE,EAAIvB,EAAUX,EAAagC,EAAW,CAACL,EAAKnB,KAAKC,IAAIoB,CAAE,EAAGD,EAAKpB,KAAKE,IAAImB,CAAE,CAAC,CAAC,EAAG,CAACJ,EAAIC,CAAE,CAAC,EAC9F,CAACS,EAAIC,CAAE,EAAIzB,EAAUX,EAAagC,EAAW,CAACL,EAAKnB,KAAKC,IAAIoB,EAAKC,CAAK,EAAGF,EAAKpB,KAAKE,IAAImB,EAAKC,CAAK,CAAC,CAAC,EAAG,CAACL,EAAIC,CAAE,CAAC,EAC9GW,EAAKP,EAAQtB,KAAKU,GAAK,EAAI,EAC3BoB,EAAKR,EAAQ,EAAI,EAAI,EAE3B,MAAO,CAAC,IAAKG,EAAIC,EAAI,IAAKP,EAAIC,EAAKG,GAAO,EAAIvB,KAAKU,IAAO,IAAKmB,EAAIC,EAAIH,EAAIC,CAAE,EAAEG,KAAK,GAAG,CACzF"}