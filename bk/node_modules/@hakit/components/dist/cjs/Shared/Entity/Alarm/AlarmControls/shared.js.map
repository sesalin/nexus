{"version":3,"file":"shared.js","sources":["../../../../../../src/Shared/Entity/Alarm/AlarmControls/shared.ts"],"sourcesContent":["import { localize, HassEntityWithService, AlarmMode, AlarmPanelCardConfigState, supportsFeatureFromAttributes } from \"@hakit/core\";\nimport { AlarmControlPanelEntityFeature, AlarmConfig } from \"./types\";\n\nexport const ALARM_MODES: Record<AlarmMode, AlarmConfig> = {\n  armed_home: {\n    feature: AlarmControlPanelEntityFeature.ARM_HOME,\n    service: \"alarm_arm_home\",\n    icon: \"mdi:home\",\n  },\n  armed_away: {\n    feature: AlarmControlPanelEntityFeature.ARM_AWAY,\n    service: \"alarm_arm_away\",\n    icon: \"mdi:lock\",\n  },\n  armed_night: {\n    feature: AlarmControlPanelEntityFeature.ARM_NIGHT,\n    service: \"alarm_arm_night\",\n    icon: \"mdi:moon-waning-crescent\",\n  },\n  armed_vacation: {\n    feature: AlarmControlPanelEntityFeature.ARM_VACATION,\n    service: \"alarm_arm_vacation\",\n    icon: \"mdi:airplane\",\n  },\n  armed_custom_bypass: {\n    feature: AlarmControlPanelEntityFeature.ARM_CUSTOM_BYPASS,\n    service: \"alarm_arm_custom_bypass\",\n    icon: \"mdi:shield\",\n  },\n  disarmed: {\n    service: \"alarm_disarm\",\n    icon: \"mdi:shield-off\",\n  },\n  triggered: {\n    feature: AlarmControlPanelEntityFeature.TRIGGER,\n    service: \"\",\n    icon: \"mdi:alert\",\n  },\n  pending: {\n    feature: AlarmControlPanelEntityFeature.TRIGGER,\n    service: \"\",\n    icon: \"mdi:clock\",\n  },\n  arming: {\n    feature: AlarmControlPanelEntityFeature.TRIGGER,\n    service: \"\",\n    icon: \"mdi:clock\",\n  },\n};\n\nexport const _getActionColor = (state: AlarmMode, customActionColor?: (state: AlarmMode) => string | undefined): string => {\n  const customColor = customActionColor?.(state);\n  if (customColor) return customColor;\n  switch (state) {\n    case \"disarmed\":\n      return \"var(--ha-error-color)\";\n    case \"armed_away\":\n      return \"var(--ha-success-color)\";\n    case \"armed_home\":\n      return \"var(--ha-success-color)\";\n    case \"armed_custom_bypass\":\n      return \"var(--ha-success-color)\";\n    case \"armed_night\":\n      return \"var(--ha-success-color)\";\n    case \"armed_vacation\":\n      return \"var(--ha-success-color)\";\n    default:\n      return \"var(--ha-warning-color)\";\n  }\n};\n\nexport const DEFAULT_STATES: AlarmPanelCardConfigState[] = [\"arm_home\", \"arm_away\"];\n\nexport const ALARM_MODE_STATE_MAP: Record<AlarmPanelCardConfigState | \"disarm\" | \"triggered\" | \"pending\" | \"arming\", AlarmMode> = {\n  arm_home: \"armed_home\",\n  arm_away: \"armed_away\",\n  arm_night: \"armed_night\",\n  arm_vacation: \"armed_vacation\",\n  arm_custom_bypass: \"armed_custom_bypass\",\n  disarm: \"disarmed\",\n  triggered: \"triggered\",\n  pending: \"pending\",\n  arming: \"arming\",\n};\n\nexport const _getActionLabel = (\n  state: AlarmPanelCardConfigState | \"disarm\",\n  labelMap?: Record<AlarmPanelCardConfigState | \"disarm\", string>,\n): string => {\n  return labelMap?.[state] ?? localize(state === \"arm_custom_bypass\" ? \"custom_bypass\" : state);\n};\n\nexport const filterSupportedAlarmStates = (\n  entity: HassEntityWithService<\"alarm_control_panel\"> | undefined,\n  states: AlarmPanelCardConfigState[],\n): AlarmPanelCardConfigState[] =>\n  states.filter((s) => entity && supportsFeatureFromAttributes(entity.attributes, ALARM_MODES[ALARM_MODE_STATE_MAP[s]].feature || 0));\n"],"names":["ALARM_MODES","armed_home","feature","AlarmControlPanelEntityFeature","ARM_HOME","service","icon","armed_away","ARM_AWAY","armed_night","ARM_NIGHT","armed_vacation","ARM_VACATION","armed_custom_bypass","ARM_CUSTOM_BYPASS","disarmed","triggered","TRIGGER","pending","arming","_getActionColor","state","customActionColor","customColor","DEFAULT_STATES","ALARM_MODE_STATE_MAP","arm_home","arm_away","arm_night","arm_vacation","arm_custom_bypass","disarm","_getActionLabel","labelMap","localize","filterSupportedAlarmStates","entity","states","filter","supportsFeatureFromAttributes","attributes","s"],"mappings":"uIAGaA,EAA8C,CACzDC,WAAY,CACVC,QAASC,EAAAA,+BAA+BC,SACxCC,QAAS,iBACTC,KAAM,UAAA,EAERC,WAAY,CACVL,QAASC,EAAAA,+BAA+BK,SACxCH,QAAS,iBACTC,KAAM,UAAA,EAERG,YAAa,CACXP,QAASC,EAAAA,+BAA+BO,UACxCL,QAAS,kBACTC,KAAM,0BAAA,EAERK,eAAgB,CACdT,QAASC,EAAAA,+BAA+BS,aACxCP,QAAS,qBACTC,KAAM,cAAA,EAERO,oBAAqB,CACnBX,QAASC,EAAAA,+BAA+BW,kBACxCT,QAAS,0BACTC,KAAM,YAAA,EAERS,SAAU,CACRV,QAAS,eACTC,KAAM,gBAAA,EAERU,UAAW,CACTd,QAASC,EAAAA,+BAA+Bc,QACxCZ,QAAS,GACTC,KAAM,WAAA,EAERY,QAAS,CACPhB,QAASC,EAAAA,+BAA+Bc,QACxCZ,QAAS,GACTC,KAAM,WAAA,EAERa,OAAQ,CACNjB,QAASC,EAAAA,+BAA+Bc,QACxCZ,QAAS,GACTC,KAAM,WAAA,CAEV,EAEac,EAAkBA,CAACC,EAAkBC,IAAyE,CACzH,MAAMC,EAAcD,IAAoBD,CAAK,EAC7C,GAAIE,EAAa,OAAOA,EACxB,OAAQF,EAAAA,CACN,IAAK,WACH,MAAO,wBACT,IAAK,aACH,MAAO,0BACT,IAAK,aACH,MAAO,0BACT,IAAK,sBACH,MAAO,0BACT,IAAK,cACH,MAAO,0BACT,IAAK,iBACH,MAAO,0BACT,QACE,MAAO,yBAAA,CAEb,EAEaG,EAA8C,CAAC,WAAY,UAAU,EAErEC,EAAqH,CAChIC,SAAU,aACVC,SAAU,aACVC,UAAW,cACXC,aAAc,iBACdC,kBAAmB,sBACnBC,OAAQ,WACRf,UAAW,YACXE,QAAS,UACTC,OAAQ,QACV,EAEaa,EAAkBA,CAC7BX,EACAY,IAEOA,IAAWZ,CAAK,GAAKa,EAAAA,SAASb,IAAU,oBAAsB,gBAAkBA,CAAK,EAGjFc,EAA6BA,CACxCC,EACAC,IAEAA,EAAOC,UAAcF,GAAUG,EAAAA,8BAA8BH,EAAOI,WAAYxC,EAAYyB,EAAqBgB,CAAC,CAAC,EAAEvC,SAAW,CAAC,CAAC"}