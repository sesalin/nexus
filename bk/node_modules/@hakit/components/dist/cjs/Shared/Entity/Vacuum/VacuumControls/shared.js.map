{"version":3,"file":"shared.js","sources":["../../../../../../src/Shared/Entity/Vacuum/VacuumControls/shared.ts"],"sourcesContent":["import { localize, type EntityName, type DomainService, type HassEntityWithService, type VacuumEntityState } from \"@hakit/core\";\nimport { ButtonBarButtonProps, VacuumControlsProps } from \"@components\";\n\ntype VacuumData<T> = {\n  [key in VacuumEntityState | DomainService<\"vacuum\">]: T;\n};\nexport const icons: VacuumData<string> = {\n  start: \"mdi:play\",\n  pause: \"mdi:pause\",\n  stop: \"mdi:stop\",\n  on: \"mdi:play\",\n  off: \"mdi:stop\",\n  paused: \"mdi:pause\",\n  returning: \"mdi:home-map-marker\",\n  returnToBase: \"mdi:home-map-marker\",\n  cleanSpot: \"mdi:map-marker\",\n  locate: \"mdi:map-marker\",\n  cleaning: \"mdi:play\",\n  docked: \"mdi:home-map-marker\",\n  idle: \"mdi:play\",\n  error: \"mdi:alert\",\n  unknown: \"mdi:alert\",\n};\n\nexport const getToolbarActions = ({\n  entity: entity,\n  shortcuts = [],\n  onLocate,\n}: {\n  entity: HassEntityWithService<\"vacuum\">;\n  shortcuts: VacuumControlsProps[\"shortcuts\"];\n  onLocate?: () => void;\n}): Partial<ButtonBarButtonProps<EntityName>>[] => {\n  const _shortcuts = shortcuts as Partial<ButtonBarButtonProps<EntityName>>[];\n\n  switch (entity.state) {\n    case \"on\":\n    case \"auto\":\n    case \"spot\":\n    case \"edge\":\n    case \"single_room\":\n    case \"mowing\":\n    case \"edgecut\":\n    case \"cleaning\": {\n      return [\n        {\n          title: localize(\"pause\"),\n          icon: icons[\"pause\"],\n          onClick: () => entity.service.pause(),\n        },\n        {\n          title: localize(\"stop\"),\n          icon: icons[\"stop\"],\n          onClick: () => entity.service.stop(),\n        },\n        {\n          title: localize(\"return_home\"),\n          icon: icons[\"returning\"],\n          onClick: () => entity.service.returnToBase(),\n        },\n        ..._shortcuts,\n      ];\n    }\n\n    case \"paused\": {\n      return [\n        {\n          title: localize(\"start\"),\n          icon: icons[\"on\"],\n          onClick: () => entity.service.start(),\n        },\n        {\n          title: localize(\"stop\"),\n          icon: icons[\"stop\"],\n          onClick: () => entity.service.stop(),\n        },\n        {\n          title: localize(\"return_home\"),\n          icon: icons[\"returning\"],\n          onClick: () => entity.service.returnToBase(),\n        },\n        ..._shortcuts,\n      ];\n    }\n\n    case \"returning\": {\n      return [\n        {\n          title: localize(\"start\"),\n          icon: icons[\"on\"],\n          onClick: () => entity.service.start(),\n        },\n        {\n          title: localize(\"pause\"),\n          icon: icons[\"pause\"],\n          onClick: () => entity.service.pause(),\n        },\n        ..._shortcuts,\n      ];\n    }\n    case \"docked\":\n    case \"idle\":\n    default: {\n      const actions = [\n        {\n          title: localize(\"start\"),\n          icon: icons[\"on\"],\n          onClick: () => entity.service.start(),\n        },\n        {\n          title: localize(\"locate\"),\n          icon: icons[\"cleanSpot\"],\n          onClick: () => {\n            entity.service.locate();\n            if (typeof onLocate === \"function\") {\n              onLocate();\n            }\n          },\n        },\n      ];\n      if (entity.state === \"idle\") {\n        actions.push({\n          title: localize(\"return_home\"),\n          icon: icons[\"returning\"],\n          onClick: () => entity.service.returnToBase(),\n        });\n      }\n      return [...actions, ..._shortcuts];\n    }\n  }\n};\n"],"names":["icons","start","pause","stop","on","off","paused","returning","returnToBase","cleanSpot","locate","cleaning","docked","idle","error","unknown","getToolbarActions","entity","shortcuts","onLocate","_shortcuts","state","title","localize","icon","onClick","service","actions","push"],"mappings":"+GAMaA,EAA4B,CACvCC,MAAO,WACPC,MAAO,YACPC,KAAM,WACNC,GAAI,WACJC,IAAK,WACLC,OAAQ,YACRC,UAAW,sBACXC,aAAc,sBACdC,UAAW,iBACXC,OAAQ,iBACRC,SAAU,WACVC,OAAQ,sBACRC,KAAM,WACNC,MAAO,YACPC,QAAS,WACX,EAEaC,EAAoBA,CAAC,CAChCC,OAAAA,EACAC,UAAAA,EAAY,CAAA,EACZC,SAAAA,CAKF,IAAmD,CACjD,MAAMC,EAAaF,EAEnB,OAAQD,EAAOI,MAAAA,CACb,IAAK,KACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,cACL,IAAK,SACL,IAAK,UACL,IAAK,WACH,MAAO,CACL,CACEC,MAAOC,EAAAA,SAAS,OAAO,EACvBC,KAAMxB,EAAM,MACZyB,QAASA,IAAMR,EAAOS,QAAQxB,MAAAA,CAAM,EAEtC,CACEoB,MAAOC,EAAAA,SAAS,MAAM,EACtBC,KAAMxB,EAAM,KACZyB,QAASA,IAAMR,EAAOS,QAAQvB,KAAAA,CAAK,EAErC,CACEmB,MAAOC,EAAAA,SAAS,aAAa,EAC7BC,KAAMxB,EAAM,UACZyB,QAASA,IAAMR,EAAOS,QAAQlB,aAAAA,CAAa,EAE7C,GAAGY,CAAU,EAIjB,IAAK,SACH,MAAO,CACL,CACEE,MAAOC,EAAAA,SAAS,OAAO,EACvBC,KAAMxB,EAAM,GACZyB,QAASA,IAAMR,EAAOS,QAAQzB,MAAAA,CAAM,EAEtC,CACEqB,MAAOC,EAAAA,SAAS,MAAM,EACtBC,KAAMxB,EAAM,KACZyB,QAASA,IAAMR,EAAOS,QAAQvB,KAAAA,CAAK,EAErC,CACEmB,MAAOC,EAAAA,SAAS,aAAa,EAC7BC,KAAMxB,EAAM,UACZyB,QAASA,IAAMR,EAAOS,QAAQlB,aAAAA,CAAa,EAE7C,GAAGY,CAAU,EAIjB,IAAK,YACH,MAAO,CACL,CACEE,MAAOC,EAAAA,SAAS,OAAO,EACvBC,KAAMxB,EAAM,GACZyB,QAASA,IAAMR,EAAOS,QAAQzB,MAAAA,CAAM,EAEtC,CACEqB,MAAOC,EAAAA,SAAS,OAAO,EACvBC,KAAMxB,EAAM,MACZyB,QAASA,IAAMR,EAAOS,QAAQxB,MAAAA,CAAM,EAEtC,GAAGkB,CAAU,EAGjB,IAAK,SACL,IAAK,OACL,QAAS,CACP,MAAMO,EAAU,CACd,CACEL,MAAOC,EAAAA,SAAS,OAAO,EACvBC,KAAMxB,EAAM,GACZyB,QAASA,IAAMR,EAAOS,QAAQzB,MAAAA,CAAM,EAEtC,CACEqB,MAAOC,EAAAA,SAAS,QAAQ,EACxBC,KAAMxB,EAAM,UACZyB,QAASA,IAAM,CACbR,EAAOS,QAAQhB,OAAAA,EACX,OAAOS,GAAa,YACtBA,EAAAA,CAEJ,CAAA,CACD,EAEH,OAAIF,EAAOI,QAAU,QACnBM,EAAQC,KAAK,CACXN,MAAOC,EAAAA,SAAS,aAAa,EAC7BC,KAAMxB,EAAM,UACZyB,QAASA,IAAMR,EAAOS,QAAQlB,aAAAA,CAAa,CAC5C,EAEI,CAAC,GAAGmB,EAAS,GAAGP,CAAU,CACnC,CAAA,CAEJ"}