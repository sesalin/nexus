{"version":3,"file":"index.js","sources":["../../../../../../src/Shared/Modal/ModalByEntityDomain/Camera/index.tsx"],"sourcesContent":["import { type CameraStreamProps, CameraStream } from \"../../../../Cards/CameraCard/stream\";\nimport { Row } from \"../../../Row\";\nimport { isUnavailableState, localize, useEntity, type EntityName, type FilterByDomain } from \"@hakit/core\";\nimport { useEffect } from \"react\";\nexport interface ModalCameraControlsProps extends CameraStreamProps {\n  entity: FilterByDomain<EntityName, \"camera\">;\n  onStateChange: (state: string) => void;\n}\n\nexport function ModalCameraControls({ entity, onStateChange, ...props }: ModalCameraControlsProps) {\n  const _entity = useEntity(entity);\n  const isUnavailable = isUnavailableState(_entity.state);\n  useEffect(() => {\n    onStateChange(\"loading\");\n  }, [onStateChange]);\n  return (\n    <Row fullWidth>\n      <CameraStream\n        entity={entity}\n        {...props}\n        onStateChange={(value) => {\n          let title = localize(\"loading\");\n          switch (value) {\n            case \"playing\":\n            case \"play\":\n              title = localize(\"play\");\n              break;\n            case \"loadeddata\":\n            case \"waiting\":\n              title = localize(\"loading\");\n              break;\n            case \"pause\":\n              title = localize(\"pause\");\n              break;\n            case \"stalled\":\n              title = localize(\"buffering\");\n              break;\n            case \"canplaythrough\":\n            case \"canplay\":\n              title = localize(\"nothing_playing\");\n              break;\n          }\n          onStateChange(isUnavailable ? localize(\"unavailable\") : title);\n        }}\n      />\n    </Row>\n  );\n}\nexport default ModalCameraControls;\n"],"names":["ModalCameraControls","entity","onStateChange","props","_entity","useEntity","isUnavailable","isUnavailableState","state","useEffect","jsx","Row","CameraStream","value","title","localize"],"mappings":"4UASO,SAASA,EAAoB,CAAEC,OAAAA,EAAQC,cAAAA,EAAe,GAAGC,CAAgC,EAAG,CACjG,MAAMC,EAAUC,EAAAA,UAAUJ,CAAM,EAC1BK,EAAgBC,EAAAA,mBAAmBH,EAAQI,KAAK,EACtDC,OAAAA,EAAAA,UAAU,IAAM,CACdP,EAAc,SAAS,CACzB,EAAG,CAACA,CAAa,CAAC,EAEhBQ,EAAAA,IAACC,EAAAA,IAAA,CAAI,UAAS,GACZ,SAAAD,EAAAA,IAACE,EAAAA,cACC,OAAAX,EACA,GAAIE,EACJ,cAAgBU,GAAU,CACxB,IAAIC,EAAQC,EAAAA,SAAS,SAAS,EAC9B,OAAQF,EAAAA,CACN,IAAK,UACL,IAAK,OACHC,EAAQC,EAAAA,SAAS,MAAM,EACvB,MACF,IAAK,aACL,IAAK,UACHD,EAAQC,EAAAA,SAAS,SAAS,EAC1B,MACF,IAAK,QACHD,EAAQC,EAAAA,SAAS,OAAO,EACxB,MACF,IAAK,UACHD,EAAQC,EAAAA,SAAS,WAAW,EAC5B,MACF,IAAK,iBACL,IAAK,UACHD,EAAQC,EAAAA,SAAS,iBAAiB,EAClC,KAAA,CAEJb,EAAcI,EAAgBS,EAAAA,SAAS,aAAa,EAAID,CAAK,CAC/D,EAAE,CAAA,CAEN,CAEJ"}