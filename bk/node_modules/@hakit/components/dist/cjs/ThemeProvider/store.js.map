{"version":3,"file":"store.js","sources":["../../../src/ThemeProvider/store.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { DEFAULT_THEME_OPTIONS, DEFAULT_BREAKPOINTS } from \"./constants\";\nimport { BreakPoints, BreakPointsWithXlg } from \"@components\";\n\nexport type ThemeStore = {\n  theme: {\n    /** the tint factor to apply to the shade colors @default 0.8 */\n    tint?: number;\n    /** the color hue shift value @default 220 */\n    hue?: number;\n    /** the color saturation value @default 60 */\n    saturation?: number;\n    /** the color lightness value @default 54 */\n    lightness?: number;\n    /** the contrast threshold for text @default 65 */\n    contrastThreshold?: number;\n    /** dark mode or light mode @default true */\n    darkMode?: boolean;\n  };\n  /** Will merge input theme values with the default values, undefined values passed through the setTheme function will be ignored */\n  setTheme: (partialTheme: ThemeStore[\"theme\"]) => void;\n  /** getter for breakpoints, if using @hakit/components, the breakpoints are stored here to retrieve in different locations */\n  breakpoints: BreakPointsWithXlg;\n  /** setter for breakpoints, intended for internal use only */\n  setBreakpoints: (breakpoints: BreakPoints) => void;\n};\n\nexport const useThemeStore = create<ThemeStore>((set) => ({\n  theme: {\n    hue: DEFAULT_THEME_OPTIONS.hue,\n    lightness: DEFAULT_THEME_OPTIONS.lightness,\n    tint: DEFAULT_THEME_OPTIONS.tint,\n    saturation: DEFAULT_THEME_OPTIONS.saturation,\n    darkMode: DEFAULT_THEME_OPTIONS.darkMode,\n    contrastThreshold: DEFAULT_THEME_OPTIONS.contrastThreshold,\n  },\n  setTheme: (partialTheme) => {\n    set((state) => ({\n      theme: {\n        ...state.theme,\n        // Only spread properties that are not undefined\n        ...Object.fromEntries(Object.entries(partialTheme).filter(([, value]) => value !== undefined)),\n      },\n    }));\n  },\n  breakpoints: DEFAULT_BREAKPOINTS,\n  setBreakpoints: (breakpoints) => {\n    // there should at least be ONE breakpoint defined, get the largest value from the breakpoints object\n    // if the object is empty or no values with numbers, it should throw an error\n    if (Object.keys(breakpoints).length === 0) {\n      throw new Error(\"No breakpoints provided\");\n    }\n    const largestValue = Math.max(...Object.values(breakpoints).filter((value) => typeof value === \"number\"));\n    if (largestValue === -Infinity) {\n      throw new Error(\"No valid breakpoints provided\");\n    }\n    set({\n      breakpoints: {\n        ...breakpoints,\n        xlg: largestValue + 1,\n      },\n    });\n  },\n}));\n"],"names":["useThemeStore","create","set","theme","hue","DEFAULT_THEME_OPTIONS","lightness","tint","saturation","darkMode","contrastThreshold","setTheme","partialTheme","state","Object","fromEntries","entries","filter","value","undefined","breakpoints","DEFAULT_BREAKPOINTS","setBreakpoints","keys","length","Error","largestValue","Math","max","values","xlg"],"mappings":"uIA2BaA,EAAgBC,EAAAA,OAAoBC,IAAS,CACxDC,MAAO,CACLC,IAAKC,EAAAA,sBAAsBD,IAC3BE,UAAWD,EAAAA,sBAAsBC,UACjCC,KAAMF,EAAAA,sBAAsBE,KAC5BC,WAAYH,EAAAA,sBAAsBG,WAClCC,SAAUJ,EAAAA,sBAAsBI,SAChCC,kBAAmBL,EAAAA,sBAAsBK,iBAAAA,EAE3CC,SAAWC,GAAiB,CAC1BV,EAAKW,IAAW,CACdV,MAAO,CACL,GAAGU,EAAMV,MAET,GAAGW,OAAOC,YAAYD,OAAOE,QAAQJ,CAAY,EAAEK,OAAO,CAAC,CAAA,CAAGC,CAAK,IAAMA,IAAUC,MAAS,CAAC,CAAA,CAC/F,EACA,CACJ,EACAC,YAAaC,EAAAA,oBACbC,eAAiBF,GAAgB,CAG/B,GAAIN,OAAOS,KAAKH,CAAW,EAAEI,SAAW,EACtC,MAAM,IAAIC,MAAM,yBAAyB,EAE3C,MAAMC,EAAeC,KAAKC,IAAI,GAAGd,OAAOe,OAAOT,CAAW,EAAEH,OAAQC,GAAU,OAAOA,GAAU,QAAQ,CAAC,EACxG,GAAIQ,IAAiB,KACnB,MAAM,IAAID,MAAM,+BAA+B,EAEjDvB,EAAI,CACFkB,YAAa,CACX,GAAGA,EACHU,IAAKJ,EAAe,CAAA,CACtB,CACD,CACH,CACF,EAAE"}