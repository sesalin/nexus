{"version":3,"file":"helpers.js","sources":["../../../../src/Cards/WeatherCard/helpers.ts"],"sourcesContent":["export const convertWindSpeedToMS = (windSpeed: number, unit: string): number => {\n  switch (unit) {\n    case \"ft/s\":\n      return windSpeed * 0.3048;\n    case \"km/h\":\n      return windSpeed / 3.6;\n    case \"kn\":\n      return windSpeed * 0.514444;\n    case \"m/s\":\n      return windSpeed;\n    case \"mph\":\n      return windSpeed * 0.44704;\n    default:\n      throw new Error(\"Unsupported wind speed unit\");\n  }\n};\n\nexport const convertTemperatureToCelsius = (temperature: number, unit: string): number => {\n  switch (unit) {\n    case \"째C\":\n      return temperature;\n    case \"째F\":\n      return (temperature - 32) * (5 / 9);\n    default:\n      throw new Error(\"Unsupported temperature unit\");\n  }\n};\n\nexport const convertTemperatureFromCelsius = (temperature: number, unit: string): number => {\n  switch (unit) {\n    case \"째C\":\n      return temperature;\n    case \"째F\":\n      return (temperature * 9) / 5 + 32;\n    default:\n      throw new Error(\"Unsupported target temperature unit\");\n  }\n};\n\n/**\n *\n * @param {number} temperature Temperature in celcius / fahrenheit\n * @param {number} humidity Humidity in RH (Relative Humidity)\n * @returns {number} Heat Index in celcius / farhenheit\n */\nexport function heatIndex(temperature: number, unit: string, humidity: number) {\n  if (humidity > 100 || humidity < 0) return null;\n\n  const T = convertTemperatureToCelsius(temperature, unit);\n  const R = humidity;\n\n  const c1 = -8.78469475556;\n  const c2 = 1.61139411;\n  const c3 = 2.33854883889;\n  const c4 = -0.14611605;\n  const c5 = -0.012308094;\n  const c6 = -0.0164248277778;\n  const c7 = 0.002211732;\n  const c8 = 0.00072546;\n  const c9 = -0.000003582;\n\n  const Te2 = T ** 2;\n  const Re2 = R ** 2;\n\n  const HI = c1 + c2 * T + c3 * R + c4 * T * R + c5 * Te2 + c6 * Re2 + c7 * Te2 * R + c8 * T * Re2 + c9 * Te2 * Re2;\n\n  return convertTemperatureFromCelsius(HI, unit);\n}\n\n/**\n *\n * @param {number} temperature Temperature in Celcius / Fahrenheit\n * @param {number} windSpeed Windspeed in M/S (meter per second)\n * @returns {number} Wind Chill Index in original unit\n */\nexport function windChillIndex(temperature: number, unit: string, windSpeed: number, windSpeedUnit: string) {\n  const v = meterPerSecondToKilometerPerHour(convertWindSpeedToMS(windSpeed, windSpeedUnit));\n  const Ta = convertTemperatureToCelsius(temperature, unit);\n  const v_exp = v ** 0.16;\n  const Twc = 13.12 + 0.6215 * Ta - 11.37 * v_exp + 0.3965 * Ta * v_exp;\n  return convertTemperatureFromCelsius(Twc, unit);\n}\n\n/**\n * Convert M/S to KM/H\n * @param {number} mps Meter Per Second\n * @returns {number} KM/H\n */\nexport function meterPerSecondToKilometerPerHour(mps: number) {\n  return mps * 3.6;\n}\n\n/**\n * @param {number} temperature Temperature in Celsius / Fahrenheit\n * @param {number} humidity Humidity in RH (Relative Humidity)\n * @param {number} windSpeed Windspeed in M/S (meter per second)\n * @returns {number} Apparent Temperature in original unit\n */\nexport function getAdditionalWeatherInformation(\n  temperature?: number,\n  unit?: string,\n  windSpeedInMs?: number,\n  windSpeedUnit?: string,\n  humidity?: number,\n): {\n  feelsLike: number | null;\n  heatIndex: number | null;\n  windChill: number;\n} | null {\n  if (!temperature || !unit || !windSpeedInMs || !windSpeedUnit || !humidity) return null;\n  const temperatureInCelsius = convertTemperatureToCelsius(temperature, unit);\n  const heatIndexValue = heatIndex(temperature, unit, humidity);\n  const windChillValue = windChillIndex(temperature, unit, windSpeedInMs, windSpeedUnit);\n  // For hot weather, use Heat Index\n  // For cold weather, use Wind Chill\n  // For moderate weather, apparent temperature is close to the actual temperature\n  const feelsLike = temperatureInCelsius >= 27 ? heatIndexValue : temperatureInCelsius <= 10 ? windChillValue : temperature;\n  return {\n    feelsLike,\n    heatIndex: heatIndexValue,\n    windChill: windChillValue,\n  };\n}\n"],"names":["convertWindSpeedToMS","windSpeed","unit","Error","convertTemperatureToCelsius","temperature","convertTemperatureFromCelsius","heatIndex","humidity","T","R","c1","c2","c3","c4","c5","c6","c7","c8","c9","Te2","Re2","HI","windChillIndex","windSpeedUnit","v","meterPerSecondToKilometerPerHour","Ta","v_exp","Twc","mps","getAdditionalWeatherInformation","windSpeedInMs","temperatureInCelsius","heatIndexValue","windChillValue","feelsLike","windChill"],"mappings":"AAAO,MAAMA,IAAuBA,CAACC,GAAmBC,MAAyB;AAC/E,UAAQA,GAAAA;AAAAA,IACN,KAAK;AACH,aAAOD,IAAY;AAAA,IACrB,KAAK;AACH,aAAOA,IAAY;AAAA,IACrB,KAAK;AACH,aAAOA,IAAY;AAAA,IACrB,KAAK;AACH,aAAOA;AAAAA,IACT,KAAK;AACH,aAAOA,IAAY;AAAA,IACrB;AACE,YAAM,IAAIE,MAAM,6BAA6B;AAAA,EAAA;AAEnD,GAEaC,IAA8BA,CAACC,GAAqBH,MAAyB;AACxF,UAAQA,GAAAA;AAAAA,IACN,KAAK;AACH,aAAOG;AAAAA,IACT,KAAK;AACH,cAAQA,IAAc,MAAO;AAAA,IAC/B;AACE,YAAM,IAAIF,MAAM,8BAA8B;AAAA,EAAA;AAEpD,GAEaG,IAAgCA,CAACD,GAAqBH,MAAyB;AAC1F,UAAQA,GAAAA;AAAAA,IACN,KAAK;AACH,aAAOG;AAAAA,IACT,KAAK;AACH,aAAQA,IAAc,IAAK,IAAI;AAAA,IACjC;AACE,YAAM,IAAIF,MAAM,qCAAqC;AAAA,EAAA;AAE3D;AAQO,SAASI,EAAUF,GAAqBH,GAAcM,GAAkB;AAC7E,MAAIA,IAAW,OAAOA,IAAW,EAAG,QAAO;AAE3C,QAAMC,IAAIL,EAA4BC,GAAaH,CAAI,GACjDQ,IAAIF,GAEJG,IAAK,gBACLC,IAAK,YACLC,IAAK,eACLC,IAAK,aACLC,IAAK,cACLC,IAAK,kBACLC,IAAK,YACLC,IAAK,UACLC,IAAK,UAELC,IAAMX,KAAK,GACXY,IAAMX,KAAK,GAEXY,IAAKX,IAAKC,IAAKH,IAAII,IAAKH,IAAII,IAAKL,IAAIC,IAAIK,IAAKK,IAAMJ,IAAKK,IAAMJ,IAAKG,IAAMV,IAAIQ,IAAKT,IAAIY,IAAMF,IAAKC,IAAMC;AAE9G,SAAOf,EAA8BgB,GAAIpB,CAAI;AAC/C;AAQO,SAASqB,EAAelB,GAAqBH,GAAcD,GAAmBuB,GAAuB;AAC1G,QAAMC,IAAIC,EAAiC1B,EAAqBC,GAAWuB,CAAa,CAAC,GACnFG,IAAKvB,EAA4BC,GAAaH,CAAI,GAClD0B,IAAQH,KAAK,MACbI,IAAM,QAAQ,SAASF,IAAK,QAAQC,IAAQ,SAASD,IAAKC;AAChE,SAAOtB,EAA8BuB,GAAK3B,CAAI;AAChD;AAOO,SAASwB,EAAiCI,GAAa;AAC5D,SAAOA,IAAM;AACf;AAQO,SAASC,EACd1B,GACAH,GACA8B,GACAR,GACAhB,GAKO;AACP,MAAI,CAACH,KAAe,CAACH,KAAQ,CAAC8B,KAAiB,CAACR,KAAiB,CAAChB,EAAU,QAAO;AACnF,QAAMyB,IAAuB7B,EAA4BC,GAAaH,CAAI,GACpEgC,IAAiB3B,EAAUF,GAAaH,GAAMM,CAAQ,GACtD2B,IAAiBZ,EAAelB,GAAaH,GAAM8B,GAAeR,CAAa;AAKrF,SAAO;AAAA,IACLY,WAFgBH,KAAwB,KAAKC,IAAiBD,KAAwB,KAAKE,IAAiB9B;AAAAA,IAG5GE,WAAW2B;AAAAA,IACXG,WAAWF;AAAAA,EAAAA;AAEf;"}