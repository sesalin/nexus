{"version":3,"file":"index.js","sources":["../../../../../../src/Shared/Entity/Switch/SwitchControls/index.tsx"],"sourcesContent":["import { ControlToggle, fallback, type ControlToggleProps } from \"@components\";\nimport { isUnavailableState, ON, useEntity } from \"@hakit/core\";\nimport type { EntityName, HassEntityWithService, FilterByDomain } from \"@hakit/core\";\nimport { ErrorBoundary } from \"react-error-boundary\";\n\nexport interface SwitchControlsProps extends Omit<ControlToggleProps, \"disabled\" | \"checked\" | \"onChange\"> {\n  entity: FilterByDomain<EntityName, \"switch\">;\n  onChange?: (entity: HassEntityWithService<\"switch\">, checked: boolean) => void;\n}\n\nfunction InternalSwitchControls({ entity, onChange, reversed = true, ...props }: SwitchControlsProps) {\n  const _entity = useEntity(entity);\n  const isUnavailable = isUnavailableState(_entity.state);\n  return (\n    <ControlToggle\n      disabled={isUnavailable}\n      {...props}\n      reversed={reversed}\n      checked={_entity.state === ON}\n      onChange={(value) => {\n        if (onChange) onChange(_entity, value);\n        _entity.service.toggle();\n      }}\n    />\n  );\n}\n\n/**\n * A simple control switch similar to home assistant switches, used in the popup for switch entities, you can reverse the order, change orientation, all you need to set is your desired width/height depending on the orientation\n * NOTE: This supports all available props from ControlToggle, so you can change the icons, colors, size and more.\n * */\nexport function SwitchControls(props: SwitchControlsProps) {\n  return (\n    <ErrorBoundary {...fallback({ prefix: \"SwitchControls\" })}>\n      <InternalSwitchControls {...props} />\n    </ErrorBoundary>\n  );\n}\n"],"names":["InternalSwitchControls","entity","onChange","reversed","props","_entity","useEntity","isUnavailable","isUnavailableState","state","jsx","ControlToggle","ON","value","service","toggle","SwitchControls","ErrorBoundary","fallback","prefix"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAUA,SAASA,EAAuB;AAAA,EAAEC,QAAAA;AAAAA,EAAQC,UAAAA;AAAAA,EAAUC,UAAAA,IAAW;AAAA,EAAM,GAAGC;AAA2B,GAAG;AACpG,QAAMC,IAAUC,EAAUL,CAAM,GAC1BM,IAAgBC,EAAmBH,EAAQI,KAAK;AACtD,SACE,gBAAAC,EAACC,GAAA,EACC,UAAUJ,GACV,GAAIH,GACJ,UAAAD,GACA,SAASE,EAAQI,UAAUG,GAC3B,UAAWC,CAAAA,MAAU;AACnB,IAAIX,KAAUA,EAASG,GAASQ,CAAK,GACrCR,EAAQS,QAAQC,OAAAA;AAAAA,EAClB,GAAE;AAGR;AAMO,SAASC,EAAeZ,GAA4B;AACzD,SACE,gBAAAM,EAACO,GAAA,EAAc,GAAIC,EAAS;AAAA,IAAEC,QAAQ;AAAA,EAAA,CAAkB,GACtD,UAAA,gBAAAT,EAACV,GAAA,EAAuB,GAAII,GAAM,GACpC;AAEJ;"}