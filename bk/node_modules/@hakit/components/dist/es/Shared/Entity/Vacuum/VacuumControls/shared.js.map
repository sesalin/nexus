{"version":3,"file":"shared.js","sources":["../../../../../../src/Shared/Entity/Vacuum/VacuumControls/shared.ts"],"sourcesContent":["import { localize, type EntityName, type DomainService, type HassEntityWithService, type VacuumEntityState } from \"@hakit/core\";\nimport { ButtonBarButtonProps, VacuumControlsProps } from \"@components\";\n\ntype VacuumData<T> = {\n  [key in VacuumEntityState | DomainService<\"vacuum\">]: T;\n};\nexport const icons: VacuumData<string> = {\n  start: \"mdi:play\",\n  pause: \"mdi:pause\",\n  stop: \"mdi:stop\",\n  on: \"mdi:play\",\n  off: \"mdi:stop\",\n  paused: \"mdi:pause\",\n  returning: \"mdi:home-map-marker\",\n  returnToBase: \"mdi:home-map-marker\",\n  cleanSpot: \"mdi:map-marker\",\n  locate: \"mdi:map-marker\",\n  cleaning: \"mdi:play\",\n  docked: \"mdi:home-map-marker\",\n  idle: \"mdi:play\",\n  error: \"mdi:alert\",\n  unknown: \"mdi:alert\",\n};\n\nexport const getToolbarActions = ({\n  entity: entity,\n  shortcuts = [],\n  onLocate,\n}: {\n  entity: HassEntityWithService<\"vacuum\">;\n  shortcuts: VacuumControlsProps[\"shortcuts\"];\n  onLocate?: () => void;\n}): Partial<ButtonBarButtonProps<EntityName>>[] => {\n  const _shortcuts = shortcuts as Partial<ButtonBarButtonProps<EntityName>>[];\n\n  switch (entity.state) {\n    case \"on\":\n    case \"auto\":\n    case \"spot\":\n    case \"edge\":\n    case \"single_room\":\n    case \"mowing\":\n    case \"edgecut\":\n    case \"cleaning\": {\n      return [\n        {\n          title: localize(\"pause\"),\n          icon: icons[\"pause\"],\n          onClick: () => entity.service.pause(),\n        },\n        {\n          title: localize(\"stop\"),\n          icon: icons[\"stop\"],\n          onClick: () => entity.service.stop(),\n        },\n        {\n          title: localize(\"return_home\"),\n          icon: icons[\"returning\"],\n          onClick: () => entity.service.returnToBase(),\n        },\n        ..._shortcuts,\n      ];\n    }\n\n    case \"paused\": {\n      return [\n        {\n          title: localize(\"start\"),\n          icon: icons[\"on\"],\n          onClick: () => entity.service.start(),\n        },\n        {\n          title: localize(\"stop\"),\n          icon: icons[\"stop\"],\n          onClick: () => entity.service.stop(),\n        },\n        {\n          title: localize(\"return_home\"),\n          icon: icons[\"returning\"],\n          onClick: () => entity.service.returnToBase(),\n        },\n        ..._shortcuts,\n      ];\n    }\n\n    case \"returning\": {\n      return [\n        {\n          title: localize(\"start\"),\n          icon: icons[\"on\"],\n          onClick: () => entity.service.start(),\n        },\n        {\n          title: localize(\"pause\"),\n          icon: icons[\"pause\"],\n          onClick: () => entity.service.pause(),\n        },\n        ..._shortcuts,\n      ];\n    }\n    case \"docked\":\n    case \"idle\":\n    default: {\n      const actions = [\n        {\n          title: localize(\"start\"),\n          icon: icons[\"on\"],\n          onClick: () => entity.service.start(),\n        },\n        {\n          title: localize(\"locate\"),\n          icon: icons[\"cleanSpot\"],\n          onClick: () => {\n            entity.service.locate();\n            if (typeof onLocate === \"function\") {\n              onLocate();\n            }\n          },\n        },\n      ];\n      if (entity.state === \"idle\") {\n        actions.push({\n          title: localize(\"return_home\"),\n          icon: icons[\"returning\"],\n          onClick: () => entity.service.returnToBase(),\n        });\n      }\n      return [...actions, ..._shortcuts];\n    }\n  }\n};\n"],"names":["icons","start","pause","stop","on","off","paused","returning","returnToBase","cleanSpot","locate","cleaning","docked","idle","error","unknown","getToolbarActions","entity","shortcuts","onLocate","_shortcuts","state","title","localize","icon","onClick","service","actions","push"],"mappings":"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"}