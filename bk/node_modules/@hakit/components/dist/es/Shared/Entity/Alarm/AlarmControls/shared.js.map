{"version":3,"file":"shared.js","sources":["../../../../../../src/Shared/Entity/Alarm/AlarmControls/shared.ts"],"sourcesContent":["import { localize, HassEntityWithService, AlarmMode, AlarmPanelCardConfigState, supportsFeatureFromAttributes } from \"@hakit/core\";\nimport { AlarmControlPanelEntityFeature, AlarmConfig } from \"./types\";\n\nexport const ALARM_MODES: Record<AlarmMode, AlarmConfig> = {\n  armed_home: {\n    feature: AlarmControlPanelEntityFeature.ARM_HOME,\n    service: \"alarm_arm_home\",\n    icon: \"mdi:home\",\n  },\n  armed_away: {\n    feature: AlarmControlPanelEntityFeature.ARM_AWAY,\n    service: \"alarm_arm_away\",\n    icon: \"mdi:lock\",\n  },\n  armed_night: {\n    feature: AlarmControlPanelEntityFeature.ARM_NIGHT,\n    service: \"alarm_arm_night\",\n    icon: \"mdi:moon-waning-crescent\",\n  },\n  armed_vacation: {\n    feature: AlarmControlPanelEntityFeature.ARM_VACATION,\n    service: \"alarm_arm_vacation\",\n    icon: \"mdi:airplane\",\n  },\n  armed_custom_bypass: {\n    feature: AlarmControlPanelEntityFeature.ARM_CUSTOM_BYPASS,\n    service: \"alarm_arm_custom_bypass\",\n    icon: \"mdi:shield\",\n  },\n  disarmed: {\n    service: \"alarm_disarm\",\n    icon: \"mdi:shield-off\",\n  },\n  triggered: {\n    feature: AlarmControlPanelEntityFeature.TRIGGER,\n    service: \"\",\n    icon: \"mdi:alert\",\n  },\n  pending: {\n    feature: AlarmControlPanelEntityFeature.TRIGGER,\n    service: \"\",\n    icon: \"mdi:clock\",\n  },\n  arming: {\n    feature: AlarmControlPanelEntityFeature.TRIGGER,\n    service: \"\",\n    icon: \"mdi:clock\",\n  },\n};\n\nexport const _getActionColor = (state: AlarmMode, customActionColor?: (state: AlarmMode) => string | undefined): string => {\n  const customColor = customActionColor?.(state);\n  if (customColor) return customColor;\n  switch (state) {\n    case \"disarmed\":\n      return \"var(--ha-error-color)\";\n    case \"armed_away\":\n      return \"var(--ha-success-color)\";\n    case \"armed_home\":\n      return \"var(--ha-success-color)\";\n    case \"armed_custom_bypass\":\n      return \"var(--ha-success-color)\";\n    case \"armed_night\":\n      return \"var(--ha-success-color)\";\n    case \"armed_vacation\":\n      return \"var(--ha-success-color)\";\n    default:\n      return \"var(--ha-warning-color)\";\n  }\n};\n\nexport const DEFAULT_STATES: AlarmPanelCardConfigState[] = [\"arm_home\", \"arm_away\"];\n\nexport const ALARM_MODE_STATE_MAP: Record<AlarmPanelCardConfigState | \"disarm\" | \"triggered\" | \"pending\" | \"arming\", AlarmMode> = {\n  arm_home: \"armed_home\",\n  arm_away: \"armed_away\",\n  arm_night: \"armed_night\",\n  arm_vacation: \"armed_vacation\",\n  arm_custom_bypass: \"armed_custom_bypass\",\n  disarm: \"disarmed\",\n  triggered: \"triggered\",\n  pending: \"pending\",\n  arming: \"arming\",\n};\n\nexport const _getActionLabel = (\n  state: AlarmPanelCardConfigState | \"disarm\",\n  labelMap?: Record<AlarmPanelCardConfigState | \"disarm\", string>,\n): string => {\n  return labelMap?.[state] ?? localize(state === \"arm_custom_bypass\" ? \"custom_bypass\" : state);\n};\n\nexport const filterSupportedAlarmStates = (\n  entity: HassEntityWithService<\"alarm_control_panel\"> | undefined,\n  states: AlarmPanelCardConfigState[],\n): AlarmPanelCardConfigState[] =>\n  states.filter((s) => entity && supportsFeatureFromAttributes(entity.attributes, ALARM_MODES[ALARM_MODE_STATE_MAP[s]].feature || 0));\n"],"names":["ALARM_MODES","armed_home","feature","AlarmControlPanelEntityFeature","ARM_HOME","service","icon","armed_away","ARM_AWAY","armed_night","ARM_NIGHT","armed_vacation","ARM_VACATION","armed_custom_bypass","ARM_CUSTOM_BYPASS","disarmed","triggered","TRIGGER","pending","arming","_getActionColor","state","customActionColor","customColor","DEFAULT_STATES","ALARM_MODE_STATE_MAP","arm_home","arm_away","arm_night","arm_vacation","arm_custom_bypass","disarm","_getActionLabel","labelMap","localize","filterSupportedAlarmStates","entity","states","filter","s","supportsFeatureFromAttributes","attributes"],"mappings":";;AAGO,MAAMA,IAA8C;AAAA,EACzDC,YAAY;AAAA,IACVC,SAASC,EAA+BC;AAAAA,IACxCC,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAAA,EAERC,YAAY;AAAA,IACVL,SAASC,EAA+BK;AAAAA,IACxCH,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAAA,EAERG,aAAa;AAAA,IACXP,SAASC,EAA+BO;AAAAA,IACxCL,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAAA,EAERK,gBAAgB;AAAA,IACdT,SAASC,EAA+BS;AAAAA,IACxCP,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAAA,EAERO,qBAAqB;AAAA,IACnBX,SAASC,EAA+BW;AAAAA,IACxCT,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAAA,EAERS,UAAU;AAAA,IACRV,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAAA,EAERU,WAAW;AAAA,IACTd,SAASC,EAA+Bc;AAAAA,IACxCZ,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAAA,EAERY,SAAS;AAAA,IACPhB,SAASC,EAA+Bc;AAAAA,IACxCZ,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAAA,EAERa,QAAQ;AAAA,IACNjB,SAASC,EAA+Bc;AAAAA,IACxCZ,SAAS;AAAA,IACTC,MAAM;AAAA,EAAA;AAEV,GAEac,IAAkBA,CAACC,GAAkBC,MAAyE;AACzH,QAAMC,IAAcD,IAAoBD,CAAK;AAC7C,MAAIE,EAAa,QAAOA;AACxB,UAAQF,GAAAA;AAAAA,IACN,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EAAA;AAEb,GAEaG,IAA8C,CAAC,YAAY,UAAU,GAErEC,IAAqH;AAAA,EAChIC,UAAU;AAAA,EACVC,UAAU;AAAA,EACVC,WAAW;AAAA,EACXC,cAAc;AAAA,EACdC,mBAAmB;AAAA,EACnBC,QAAQ;AAAA,EACRf,WAAW;AAAA,EACXE,SAAS;AAAA,EACTC,QAAQ;AACV,GAEaa,IAAkBA,CAC7BX,GACAY,MAEOA,IAAWZ,CAAK,KAAKa,EAASb,MAAU,sBAAsB,kBAAkBA,CAAK,GAGjFc,IAA6BA,CACxCC,GACAC,MAEAA,EAAOC,OAAQC,OAAMH,KAAUI,EAA8BJ,EAAOK,YAAYzC,EAAYyB,EAAqBc,CAAC,CAAC,EAAErC,WAAW,CAAC,CAAC;"}