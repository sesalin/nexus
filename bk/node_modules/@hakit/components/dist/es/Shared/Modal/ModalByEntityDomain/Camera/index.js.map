{"version":3,"file":"index.js","sources":["../../../../../../src/Shared/Modal/ModalByEntityDomain/Camera/index.tsx"],"sourcesContent":["import { type CameraStreamProps, CameraStream } from \"../../../../Cards/CameraCard/stream\";\nimport { Row } from \"../../../Row\";\nimport { isUnavailableState, localize, useEntity, type EntityName, type FilterByDomain } from \"@hakit/core\";\nimport { useEffect } from \"react\";\nexport interface ModalCameraControlsProps extends CameraStreamProps {\n  entity: FilterByDomain<EntityName, \"camera\">;\n  onStateChange: (state: string) => void;\n}\n\nexport function ModalCameraControls({ entity, onStateChange, ...props }: ModalCameraControlsProps) {\n  const _entity = useEntity(entity);\n  const isUnavailable = isUnavailableState(_entity.state);\n  useEffect(() => {\n    onStateChange(\"loading\");\n  }, [onStateChange]);\n  return (\n    <Row fullWidth>\n      <CameraStream\n        entity={entity}\n        {...props}\n        onStateChange={(value) => {\n          let title = localize(\"loading\");\n          switch (value) {\n            case \"playing\":\n            case \"play\":\n              title = localize(\"play\");\n              break;\n            case \"loadeddata\":\n            case \"waiting\":\n              title = localize(\"loading\");\n              break;\n            case \"pause\":\n              title = localize(\"pause\");\n              break;\n            case \"stalled\":\n              title = localize(\"buffering\");\n              break;\n            case \"canplaythrough\":\n            case \"canplay\":\n              title = localize(\"nothing_playing\");\n              break;\n          }\n          onStateChange(isUnavailable ? localize(\"unavailable\") : title);\n        }}\n      />\n    </Row>\n  );\n}\nexport default ModalCameraControls;\n"],"names":["ModalCameraControls","entity","onStateChange","props","_entity","useEntity","isUnavailable","isUnavailableState","state","useEffect","jsx","Row","CameraStream","value","title","localize"],"mappings":";;;;;AASO,SAASA,EAAoB;AAAA,EAAEC,QAAAA;AAAAA,EAAQC,eAAAA;AAAAA,EAAe,GAAGC;AAAgC,GAAG;AACjG,QAAMC,IAAUC,EAAUJ,CAAM,GAC1BK,IAAgBC,EAAmBH,EAAQI,KAAK;AACtDC,SAAAA,EAAU,MAAM;AACdP,IAAAA,EAAc,SAAS;AAAA,EACzB,GAAG,CAACA,CAAa,CAAC,GAEhB,gBAAAQ,EAACC,GAAA,EAAI,WAAS,IACZ,UAAA,gBAAAD,EAACE,KACC,QAAAX,GACA,GAAIE,GACJ,eAAgBU,CAAAA,MAAU;AACxB,QAAIC,IAAQC,EAAS,SAAS;AAC9B,YAAQF,GAAAA;AAAAA,MACN,KAAK;AAAA,MACL,KAAK;AACHC,QAAAA,IAAQC,EAAS,MAAM;AACvB;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AACHD,QAAAA,IAAQC,EAAS,SAAS;AAC1B;AAAA,MACF,KAAK;AACHD,QAAAA,IAAQC,EAAS,OAAO;AACxB;AAAA,MACF,KAAK;AACHD,QAAAA,IAAQC,EAAS,WAAW;AAC5B;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AACHD,QAAAA,IAAQC,EAAS,iBAAiB;AAClC;AAAA,IAAA;AAEJb,IAAAA,EAAcI,IAAgBS,EAAS,aAAa,IAAID,CAAK;AAAA,EAC/D,GAAE,EAAA,CAEN;AAEJ;"}