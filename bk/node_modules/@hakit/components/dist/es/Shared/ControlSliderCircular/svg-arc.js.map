{"version":3,"file":"svg-arc.js","sources":["../../../../src/Shared/ControlSliderCircular/svg-arc.ts"],"sourcesContent":["type Vector = [number, number];\ntype Matrix = [Vector, Vector];\n\nconst rotateVector = ([[a, b], [c, d]]: Matrix, [x, y]: Vector): Vector => [a * x + b * y, c * x + d * y];\nconst createRotateMatrix = (x: number): Matrix => [\n  [Math.cos(x), -Math.sin(x)],\n  [Math.sin(x), Math.cos(x)],\n];\nconst addVector = ([a1, a2]: Vector, [b1, b2]: Vector): Vector => [a1 + b1, a2 + b2];\n\nexport const toRadian = (angle: number) => (angle / 180) * Math.PI;\n\ntype ArcOptions = {\n  x: number;\n  y: number;\n  r: number;\n  start: number;\n  end: number;\n  rotate?: number;\n};\n\nexport const svgArc = (options: ArcOptions) => {\n  const { x, y, r, start, end, rotate = 0 } = options;\n  const cx = x;\n  const cy = y;\n  const rx = r;\n  const ry = r;\n  const t1 = toRadian(start);\n  const t2 = toRadian(end);\n  const delta = (t2 - t1) % (2 * Math.PI);\n  const phi = toRadian(rotate);\n\n  const rotMatrix = createRotateMatrix(phi);\n  const [sX, sY] = addVector(rotateVector(rotMatrix, [rx * Math.cos(t1), ry * Math.sin(t1)]), [cx, cy]);\n  const [eX, eY] = addVector(rotateVector(rotMatrix, [rx * Math.cos(t1 + delta), ry * Math.sin(t1 + delta)]), [cx, cy]);\n  const fA = delta > Math.PI ? 1 : 0;\n  const fS = delta > 0 ? 1 : 0;\n\n  return [\"M\", sX, sY, \"A\", rx, ry, (phi / (2 * Math.PI)) * 360, fA, fS, eX, eY].join(\" \");\n};\n"],"names":["rotateVector","a","b","c","d","x","y","createRotateMatrix","Math","cos","sin","addVector","a1","a2","b1","b2","toRadian","angle","PI","svgArc","options","r","start","end","rotate","cx","cy","rx","ry","t1","delta","phi","rotMatrix","sX","sY","eX","eY","fA","fS","join"],"mappings":"AAGA,MAAMA,IAAeA,CAAC,CAAC,CAACC,GAAGC,CAAC,GAAG,CAACC,GAAGC,CAAC,CAAC,GAAW,CAACC,GAAGC,CAAC,MAAsB,CAACL,IAAII,IAAIH,IAAII,GAAGH,IAAIE,IAAID,IAAIE,CAAC,GAClGC,IAAqBA,CAACF,MAAsB,CAChD,CAACG,KAAKC,IAAIJ,CAAC,GAAG,CAACG,KAAKE,IAAIL,CAAC,CAAC,GAC1B,CAACG,KAAKE,IAAIL,CAAC,GAAGG,KAAKC,IAAIJ,CAAC,CAAC,CAAC,GAEtBM,IAAYA,CAAC,CAACC,GAAIC,CAAE,GAAW,CAACC,GAAIC,CAAE,MAAsB,CAACH,IAAKE,GAAID,IAAKE,CAAE,GAEtEC,IAAWA,CAACC,MAAmBA,IAAQ,MAAOT,KAAKU,IAWnDC,IAASA,CAACC,MAAwB;AAC7C,QAAM;AAAA,IAAEf,GAAAA;AAAAA,IAAGC,GAAAA;AAAAA,IAAGe,GAAAA;AAAAA,IAAGC,OAAAA;AAAAA,IAAOC,KAAAA;AAAAA,IAAKC,QAAAA,IAAS;AAAA,EAAA,IAAMJ,GACtCK,IAAKpB,GACLqB,IAAKpB,GACLqB,IAAKN,GACLO,IAAKP,GACLQ,IAAKb,EAASM,CAAK,GAEnBQ,KADKd,EAASO,CAAG,IACHM,MAAO,IAAIrB,KAAKU,KAC9Ba,IAAMf,EAASQ,CAAM,GAErBQ,IAAYzB,EAAmBwB,CAAG,GAClC,CAACE,GAAIC,CAAE,IAAIvB,EAAUX,EAAagC,GAAW,CAACL,IAAKnB,KAAKC,IAAIoB,CAAE,GAAGD,IAAKpB,KAAKE,IAAImB,CAAE,CAAC,CAAC,GAAG,CAACJ,GAAIC,CAAE,CAAC,GAC9F,CAACS,GAAIC,CAAE,IAAIzB,EAAUX,EAAagC,GAAW,CAACL,IAAKnB,KAAKC,IAAIoB,IAAKC,CAAK,GAAGF,IAAKpB,KAAKE,IAAImB,IAAKC,CAAK,CAAC,CAAC,GAAG,CAACL,GAAIC,CAAE,CAAC,GAC9GW,IAAKP,IAAQtB,KAAKU,KAAK,IAAI,GAC3BoB,IAAKR,IAAQ,IAAI,IAAI;AAE3B,SAAO,CAAC,KAAKG,GAAIC,GAAI,KAAKP,GAAIC,GAAKG,KAAO,IAAIvB,KAAKU,MAAO,KAAKmB,GAAIC,GAAIH,GAAIC,CAAE,EAAEG,KAAK,GAAG;AACzF;"}